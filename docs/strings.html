<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 문자열 | R 을 활용한 데이터과학</title>
  <meta name="description" content="6 문자열 | R 을 활용한 데이터과학" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="6 문자열 | R 을 활용한 데이터과학" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://sulgik.github.io/r4ds/" />
  <meta property="og:image" content="https://sulgik.github.io/r4ds/cover.png" />
  
  <meta name="github-repo" content="sulgik/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 문자열 | R 을 활용한 데이터과학" />
  <meta name="twitter:site" content="@sulgik" />
  
  <meta name="twitter:image" content="https://sulgik.github.io/r4ds/cover.png" />

<meta name="author" content="개럿 그롤문드" />
<meta name="author" content="해들리 위컴" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="relational-data.html"/>
<link rel="next" href="factors.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>환영합니다</a></li>
<li class="part"><span><b>I 데이터 길들이기</b></span></li>
<li class="chapter" data-level="1" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>1</b> 소개</a></li>
<li class="chapter" data-level="2" data-path="tibble.html"><a href="tibble.html"><i class="fa fa-check"></i><b>2</b> 티블</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>2.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>2.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="tibble.html"><a href="tibble.html#tibbles"><i class="fa fa-check"></i><b>2.2</b> tibble 생성하기</a></li>
<li class="chapter" data-level="2.3" data-path="tibble.html"><a href="tibble.html#tibble-vs.-data.frame"><i class="fa fa-check"></i><b>2.3</b> Tibble vs. data.frame</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="tibble.html"><a href="tibble.html#화면출력"><i class="fa fa-check"></i><b>2.3.1</b> 화면출력</a></li>
<li class="chapter" data-level="2.3.2" data-path="tibble.html"><a href="tibble.html#서브셋하기"><i class="fa fa-check"></i><b>2.3.2</b> 서브셋하기</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tibble.html"><a href="tibble.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>2.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="2.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>3</b> 데이터 불러오기</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-import.html"><a href="data-import.html#들어가기-1"><i class="fa fa-check"></i><b>3.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-import.html"><a href="data-import.html#준비하기-1"><i class="fa fa-check"></i><b>3.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-import.html"><a href="data-import.html#시작하기"><i class="fa fa-check"></i><b>3.2</b> 시작하기</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-import.html"><a href="data-import.html#베이스-r과-비교"><i class="fa fa-check"></i><b>3.2.1</b> 베이스 R과 비교</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>3.2.2</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-import.html"><a href="data-import.html#벡터-파싱하기"><i class="fa fa-check"></i><b>3.3</b> 벡터 파싱하기</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-import.html"><a href="data-import.html#숫자"><i class="fa fa-check"></i><b>3.3.1</b> 숫자</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>3.3.2</b> 문자열</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>3.3.3</b> 팩터형</a></li>
<li class="chapter" data-level="3.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>3.3.4</b> 데이트형, 데이트-타임형, 타임형</a></li>
<li class="chapter" data-level="3.3.5" data-path="data-import.html"><a href="data-import.html#연습문제-2"><i class="fa fa-check"></i><b>3.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-import.html"><a href="data-import.html#파일-파싱하기"><i class="fa fa-check"></i><b>3.4</b> 파일 파싱하기</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-import.html"><a href="data-import.html#전략"><i class="fa fa-check"></i><b>3.4.1</b> 전략</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-import.html"><a href="data-import.html#문제점"><i class="fa fa-check"></i><b>3.4.2</b> 문제점</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-import.html"><a href="data-import.html#기타-전략"><i class="fa fa-check"></i><b>3.4.3</b> 기타 전략</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-import.html"><a href="data-import.html#파일에-쓰기"><i class="fa fa-check"></i><b>3.5</b> 파일에 쓰기</a></li>
<li class="chapter" data-level="3.6" data-path="data-import.html"><a href="data-import.html#기타-데이터-유형"><i class="fa fa-check"></i><b>3.6</b> 기타 데이터 유형</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4</b> 타이디 데이터</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidy-data.html"><a href="tidy-data.html#들어가기-2"><i class="fa fa-check"></i><b>4.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="tidy-data.html"><a href="tidy-data.html#준비하기-2"><i class="fa fa-check"></i><b>4.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>4.2</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>4.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tidy-data.html"><a href="tidy-data.html#피봇팅"><i class="fa fa-check"></i><b>4.3</b> 피봇팅</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidy-data.html"><a href="tidy-data.html#longer"><i class="fa fa-check"></i><b>4.3.1</b> Longer</a></li>
<li class="chapter" data-level="4.3.2" data-path="tidy-data.html"><a href="tidy-data.html#wider"><i class="fa fa-check"></i><b>4.3.2</b> Wider</a></li>
<li class="chapter" data-level="4.3.3" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-4"><i class="fa fa-check"></i><b>4.3.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidy-data.html"><a href="tidy-data.html#separate-과-unite"><i class="fa fa-check"></i><b>4.4</b> separate 과 unite</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="tidy-data.html"><a href="tidy-data.html#separate"><i class="fa fa-check"></i><b>4.4.1</b> separate</a></li>
<li class="chapter" data-level="4.4.2" data-path="tidy-data.html"><a href="tidy-data.html#unite"><i class="fa fa-check"></i><b>4.4.2</b> unite</a></li>
<li class="chapter" data-level="4.4.3" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-5"><i class="fa fa-check"></i><b>4.4.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="tidy-data.html"><a href="tidy-data.html#결측값"><i class="fa fa-check"></i><b>4.5</b> 결측값</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-6"><i class="fa fa-check"></i><b>4.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tidy-data.html"><a href="tidy-data.html#사례-연구"><i class="fa fa-check"></i><b>4.6</b> 사례 연구</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-7"><i class="fa fa-check"></i><b>4.6.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="tidy-data.html"><a href="tidy-data.html#타이디하지-않은-데이터"><i class="fa fa-check"></i><b>4.7</b> 타이디하지 않은 데이터</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>5</b> 관계형 데이터</a>
<ul>
<li class="chapter" data-level="5.1" data-path="relational-data.html"><a href="relational-data.html#들어가기-3"><i class="fa fa-check"></i><b>5.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="relational-data.html"><a href="relational-data.html#준비하기-3"><i class="fa fa-check"></i><b>5.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>5.2</b> nycflights13</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-8"><i class="fa fa-check"></i><b>5.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="relational-data.html"><a href="relational-data.html#키"><i class="fa fa-check"></i><b>5.3</b> 키</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-9"><i class="fa fa-check"></i><b>5.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>5.4</b> 뮤테이팅 조인</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="relational-data.html"><a href="relational-data.html#조인-이해하기"><i class="fa fa-check"></i><b>5.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="5.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>5.4.2</b> 내부 조인</a></li>
<li class="chapter" data-level="5.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>5.4.3</b> 외부 조인</a></li>
<li class="chapter" data-level="5.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>5.4.4</b> 중복키</a></li>
<li class="chapter" data-level="5.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>5.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="5.4.6" data-path="relational-data.html"><a href="relational-data.html#연습문제-10"><i class="fa fa-check"></i><b>5.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="5.4.7" data-path="relational-data.html"><a href="relational-data.html#기타-구현"><i class="fa fa-check"></i><b>5.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>5.5</b> 필터링 조인</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-11"><i class="fa fa-check"></i><b>5.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="relational-data.html"><a href="relational-data.html#조인-문제"><i class="fa fa-check"></i><b>5.6</b> 조인 문제</a></li>
<li class="chapter" data-level="5.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>5.7</b> 집합 연산</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>6</b> 문자열</a>
<ul>
<li class="chapter" data-level="6.1" data-path="strings.html"><a href="strings.html#들어가기-4"><i class="fa fa-check"></i><b>6.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="strings.html"><a href="strings.html#준비하기-4"><i class="fa fa-check"></i><b>6.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="strings.html"><a href="strings.html#strings-basics"><i class="fa fa-check"></i><b>6.2</b> 문자열 기초</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>6.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="6.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>6.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="6.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>6.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="6.2.4" data-path="strings.html"><a href="strings.html#로캘"><i class="fa fa-check"></i><b>6.2.4</b> 로캘</a></li>
<li class="chapter" data-level="6.2.5" data-path="strings.html"><a href="strings.html#연습문제-12"><i class="fa fa-check"></i><b>6.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="strings.html"><a href="strings.html#정규표현식을-이용한-패턴-매칭"><i class="fa fa-check"></i><b>6.3</b> 정규표현식을 이용한 패턴 매칭</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="strings.html"><a href="strings.html#기초-매칭"><i class="fa fa-check"></i><b>6.3.1</b> 기초 매칭</a></li>
<li class="chapter" data-level="6.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>6.3.2</b> 앵커</a></li>
<li class="chapter" data-level="6.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>6.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="6.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>6.3.4</b> 반복</a></li>
<li class="chapter" data-level="6.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>6.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="strings.html"><a href="strings.html#도구"><i class="fa fa-check"></i><b>6.4</b> 도구</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>6.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="6.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>6.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="6.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>6.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="6.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>6.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="6.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>6.4.5</b> Splitting</a></li>
<li class="chapter" data-level="6.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>6.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="strings.html"><a href="strings.html#기타-패턴-유형"><i class="fa fa-check"></i><b>6.5</b> 기타 패턴 유형</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="strings.html"><a href="strings.html#연습문제-23"><i class="fa fa-check"></i><b>6.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="strings.html"><a href="strings.html#정규표현식의-기타-용도"><i class="fa fa-check"></i><b>6.6</b> 정규표현식의 기타 용도</a></li>
<li class="chapter" data-level="6.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>6.7</b> stringi</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="strings.html"><a href="strings.html#연습문제-24"><i class="fa fa-check"></i><b>6.7.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>7</b> 팩터형</a>
<ul>
<li class="chapter" data-level="7.1" data-path="factors.html"><a href="factors.html#들어가기-5"><i class="fa fa-check"></i><b>7.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="factors.html"><a href="factors.html#준비하기-5"><i class="fa fa-check"></i><b>7.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="7.1.2" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>7.1.2</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="factors.html"><a href="factors.html#팩터형-생성하기"><i class="fa fa-check"></i><b>7.2</b> 팩터형 생성하기</a></li>
<li class="chapter" data-level="7.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>7.3</b> General Social Survey</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="factors.html"><a href="factors.html#연습문제-25"><i class="fa fa-check"></i><b>7.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="factors.html"><a href="factors.html#팩터-순서-수정하기"><i class="fa fa-check"></i><b>7.4</b> 팩터 순서 수정하기</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="factors.html"><a href="factors.html#연습문제-26"><i class="fa fa-check"></i><b>7.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="factors.html"><a href="factors.html#팩터-레벨-수정하기"><i class="fa fa-check"></i><b>7.5</b> 팩터 레벨 수정하기</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="factors.html"><a href="factors.html#연습문제-27"><i class="fa fa-check"></i><b>7.5.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>8</b> 날짜와 시간</a>
<ul>
<li class="chapter" data-level="8.1" data-path="dates-and-times.html"><a href="dates-and-times.html#들어가기-6"><i class="fa fa-check"></i><b>8.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="dates-and-times.html"><a href="dates-and-times.html#준비하기-6"><i class="fa fa-check"></i><b>8.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dates-and-times.html"><a href="dates-and-times.html#날짜시간-생성하기"><i class="fa fa-check"></i><b>8.2</b> 날짜/시간 생성하기</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#문자열에서-생성"><i class="fa fa-check"></i><b>8.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="8.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#개별-구성요소에서-생성"><i class="fa fa-check"></i><b>8.2.2</b> 개별 구성요소에서 생성</a></li>
<li class="chapter" data-level="8.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>8.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="8.2.4" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-28"><i class="fa fa-check"></i><b>8.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="dates-and-times.html"><a href="dates-and-times.html#데이트-타임형-구성요소"><i class="fa fa-check"></i><b>8.3</b> 데이트-타임형 구성요소</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-가져오기"><i class="fa fa-check"></i><b>8.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="8.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#반올림"><i class="fa fa-check"></i><b>8.3.2</b> 반올림</a></li>
<li class="chapter" data-level="8.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-설정"><i class="fa fa-check"></i><b>8.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="8.3.4" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-29"><i class="fa fa-check"></i><b>8.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="dates-and-times.html"><a href="dates-and-times.html#시간-범위"><i class="fa fa-check"></i><b>8.4</b> 시간 범위</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#듀레이션형"><i class="fa fa-check"></i><b>8.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="8.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#피리어드형"><i class="fa fa-check"></i><b>8.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="8.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#인터벌형"><i class="fa fa-check"></i><b>8.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="8.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#요약"><i class="fa fa-check"></i><b>8.4.4</b> 요약</a></li>
<li class="chapter" data-level="8.4.5" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-30"><i class="fa fa-check"></i><b>8.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>8.5</b> 시간대</a></li>
</ul></li>
<li class="part"><span><b>II 프로그래밍</b></span></li>
<li class="chapter" data-level="9" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>9</b> 소개</a>
<ul>
<li class="chapter" data-level="9.1" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>9.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Pipes.html"><a href="Pipes.html"><i class="fa fa-check"></i><b>10</b> 파이프</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Pipes.html"><a href="Pipes.html#들어가기-7"><i class="fa fa-check"></i><b>10.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="Pipes.html"><a href="Pipes.html#준비하기-7"><i class="fa fa-check"></i><b>10.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="Pipes.html"><a href="Pipes.html#파이프-대안"><i class="fa fa-check"></i><b>10.2</b> 파이프 대안</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="Pipes.html"><a href="Pipes.html#중간단계-이용"><i class="fa fa-check"></i><b>10.2.1</b> 중간단계 이용</a></li>
<li class="chapter" data-level="10.2.2" data-path="Pipes.html"><a href="Pipes.html#원본-덮어쓰기"><i class="fa fa-check"></i><b>10.2.2</b> 원본 덮어쓰기</a></li>
<li class="chapter" data-level="10.2.3" data-path="Pipes.html"><a href="Pipes.html#함수-작성"><i class="fa fa-check"></i><b>10.2.3</b> 함수 작성</a></li>
<li class="chapter" data-level="10.2.4" data-path="Pipes.html"><a href="Pipes.html#파이프-사용"><i class="fa fa-check"></i><b>10.2.4</b> 파이프 사용</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Pipes.html"><a href="Pipes.html#파이프를-사용하지-않아야-할-경우"><i class="fa fa-check"></i><b>10.3</b> 파이프를 사용하지 않아야 할 경우</a></li>
<li class="chapter" data-level="10.4" data-path="Pipes.html"><a href="Pipes.html#magrittr-의-기타-도구"><i class="fa fa-check"></i><b>10.4</b> magrittr 의 기타 도구</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>11</b> 함수</a>
<ul>
<li class="chapter" data-level="11.1" data-path="functions.html"><a href="functions.html#들어가기-8"><i class="fa fa-check"></i><b>11.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="functions.html"><a href="functions.html#준비하기-8"><i class="fa fa-check"></i><b>11.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="functions.html"><a href="functions.html#함수를-언제-작성해야-하나"><i class="fa fa-check"></i><b>11.2</b> 함수를 언제 작성해야 하나?</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="functions.html"><a href="functions.html#연습문제-31"><i class="fa fa-check"></i><b>11.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="functions.html"><a href="functions.html#함수는-사람과-컴퓨터를-위한-것"><i class="fa fa-check"></i><b>11.3</b> 함수는 사람과 컴퓨터를 위한 것</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="functions.html"><a href="functions.html#연습문제-32"><i class="fa fa-check"></i><b>11.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="functions.html"><a href="functions.html#조건부-실행"><i class="fa fa-check"></i><b>11.4</b> 조건부 실행</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="functions.html"><a href="functions.html#조건문"><i class="fa fa-check"></i><b>11.4.1</b> 조건문</a></li>
<li class="chapter" data-level="11.4.2" data-path="functions.html"><a href="functions.html#다중-조건"><i class="fa fa-check"></i><b>11.4.2</b> 다중 조건</a></li>
<li class="chapter" data-level="11.4.3" data-path="functions.html"><a href="functions.html#코드-스타일"><i class="fa fa-check"></i><b>11.4.3</b> 코드 스타일</a></li>
<li class="chapter" data-level="11.4.4" data-path="functions.html"><a href="functions.html#연습문제-33"><i class="fa fa-check"></i><b>11.4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="functions.html"><a href="functions.html#함수-인수"><i class="fa fa-check"></i><b>11.5</b> 함수 인수</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="functions.html"><a href="functions.html#이름-정하기"><i class="fa fa-check"></i><b>11.5.1</b> 이름 정하기</a></li>
<li class="chapter" data-level="11.5.2" data-path="functions.html"><a href="functions.html#값-확인하기"><i class="fa fa-check"></i><b>11.5.2</b> 값 확인하기</a></li>
<li class="chapter" data-level="11.5.3" data-path="functions.html"><a href="functions.html#점-점-점"><i class="fa fa-check"></i><b>11.5.3</b> 점-점-점 (…)</a></li>
<li class="chapter" data-level="11.5.4" data-path="functions.html"><a href="functions.html#지연-평가"><i class="fa fa-check"></i><b>11.5.4</b> 지연 평가</a></li>
<li class="chapter" data-level="11.5.5" data-path="functions.html"><a href="functions.html#연습문제-34"><i class="fa fa-check"></i><b>11.5.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="functions.html"><a href="functions.html#반환값"><i class="fa fa-check"></i><b>11.6</b> 반환값</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="functions.html"><a href="functions.html#명시적-반환문"><i class="fa fa-check"></i><b>11.6.1</b> 명시적 반환문</a></li>
<li class="chapter" data-level="11.6.2" data-path="functions.html"><a href="functions.html#파이핑-가능한-함수-작성하기"><i class="fa fa-check"></i><b>11.6.2</b> 파이핑 가능한 함수 작성하기</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="functions.html"><a href="functions.html#환경"><i class="fa fa-check"></i><b>11.7</b> 환경</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>12</b> 벡터</a>
<ul>
<li class="chapter" data-level="12.1" data-path="vectors.html"><a href="vectors.html#들어가기-9"><i class="fa fa-check"></i><b>12.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="vectors.html"><a href="vectors.html#준비하기-9"><i class="fa fa-check"></i><b>12.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="vectors.html"><a href="vectors.html#벡터-기본-사항"><i class="fa fa-check"></i><b>12.2</b> 벡터 기본 사항</a></li>
<li class="chapter" data-level="12.3" data-path="vectors.html"><a href="vectors.html#원자-벡터의-주요-유형"><i class="fa fa-check"></i><b>12.3</b> 원자 벡터의 주요 유형</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="vectors.html"><a href="vectors.html#논리형"><i class="fa fa-check"></i><b>12.3.1</b> 논리형</a></li>
<li class="chapter" data-level="12.3.2" data-path="vectors.html"><a href="vectors.html#수치형"><i class="fa fa-check"></i><b>12.3.2</b> 수치형</a></li>
<li class="chapter" data-level="12.3.3" data-path="vectors.html"><a href="vectors.html#문자형"><i class="fa fa-check"></i><b>12.3.3</b> 문자형</a></li>
<li class="chapter" data-level="12.3.4" data-path="vectors.html"><a href="vectors.html#결측값-1"><i class="fa fa-check"></i><b>12.3.4</b> 결측값</a></li>
<li class="chapter" data-level="12.3.5" data-path="vectors.html"><a href="vectors.html#연습문제-35"><i class="fa fa-check"></i><b>12.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="vectors.html"><a href="vectors.html#원자벡터-이용하기"><i class="fa fa-check"></i><b>12.4</b> 원자벡터 이용하기</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="vectors.html"><a href="vectors.html#강제변환"><i class="fa fa-check"></i><b>12.4.1</b> 강제변환</a></li>
<li class="chapter" data-level="12.4.2" data-path="vectors.html"><a href="vectors.html#테스트-함수"><i class="fa fa-check"></i><b>12.4.2</b> 테스트 함수</a></li>
<li class="chapter" data-level="12.4.3" data-path="vectors.html"><a href="vectors.html#스칼라와-재활용-규칙"><i class="fa fa-check"></i><b>12.4.3</b> 스칼라와 재활용 규칙</a></li>
<li class="chapter" data-level="12.4.4" data-path="vectors.html"><a href="vectors.html#벡터-이름-짓기"><i class="fa fa-check"></i><b>12.4.4</b> 벡터 이름 짓기</a></li>
<li class="chapter" data-level="12.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>12.4.5</b> 서브셋하기</a></li>
<li class="chapter" data-level="12.4.6" data-path="vectors.html"><a href="vectors.html#연습문제-36"><i class="fa fa-check"></i><b>12.4.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>12.5</b> 재귀 벡터 (리스트)</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="vectors.html"><a href="vectors.html#리스트-시각화"><i class="fa fa-check"></i><b>12.5.1</b> 리스트 시각화</a></li>
<li class="chapter" data-level="12.5.2" data-path="vectors.html"><a href="vectors.html#서브셋하기-1"><i class="fa fa-check"></i><b>12.5.2</b> 서브셋하기</a></li>
<li class="chapter" data-level="12.5.3" data-path="vectors.html"><a href="vectors.html#후추-리스트"><i class="fa fa-check"></i><b>12.5.3</b> 후추 리스트</a></li>
<li class="chapter" data-level="12.5.4" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>12.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>12.6</b> Attributes</a></li>
<li class="chapter" data-level="12.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>12.7</b> Augmented vectors</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="vectors.html"><a href="vectors.html#factors-1"><i class="fa fa-check"></i><b>12.7.1</b> Factors</a></li>
<li class="chapter" data-level="12.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>12.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="12.7.3" data-path="vectors.html"><a href="vectors.html#tibbles-1"><i class="fa fa-check"></i><b>12.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="12.7.4" data-path="vectors.html"><a href="vectors.html#exercises-1"><i class="fa fa-check"></i><b>12.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>13</b> 반복</a>
<ul>
<li class="chapter" data-level="13.1" data-path="iteration.html"><a href="iteration.html#들어가기-10"><i class="fa fa-check"></i><b>13.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="iteration.html"><a href="iteration.html#준비하기-10"><i class="fa fa-check"></i><b>13.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="iteration.html"><a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>13.2</b> For loops</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="iteration.html"><a href="iteration.html#exercises-2"><i class="fa fa-check"></i><b>13.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>13.3</b> For loop variations</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="iteration.html"><a href="iteration.html#modifying-an-existing-object"><i class="fa fa-check"></i><b>13.3.1</b> Modifying an existing object</a></li>
<li class="chapter" data-level="13.3.2" data-path="iteration.html"><a href="iteration.html#looping-patterns"><i class="fa fa-check"></i><b>13.3.2</b> Looping patterns</a></li>
<li class="chapter" data-level="13.3.3" data-path="iteration.html"><a href="iteration.html#unknown-output-length"><i class="fa fa-check"></i><b>13.3.3</b> Unknown output length</a></li>
<li class="chapter" data-level="13.3.4" data-path="iteration.html"><a href="iteration.html#unknown-sequence-length"><i class="fa fa-check"></i><b>13.3.4</b> Unknown sequence length</a></li>
<li class="chapter" data-level="13.3.5" data-path="iteration.html"><a href="iteration.html#exercises-3"><i class="fa fa-check"></i><b>13.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>13.4</b> For loops vs. functionals</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="iteration.html"><a href="iteration.html#exercises-4"><i class="fa fa-check"></i><b>13.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>13.5</b> The map functions</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="iteration.html"><a href="iteration.html#shortcuts"><i class="fa fa-check"></i><b>13.5.1</b> Shortcuts</a></li>
<li class="chapter" data-level="13.5.2" data-path="iteration.html"><a href="iteration.html#base-r"><i class="fa fa-check"></i><b>13.5.2</b> Base R</a></li>
<li class="chapter" data-level="13.5.3" data-path="iteration.html"><a href="iteration.html#exercises-5"><i class="fa fa-check"></i><b>13.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>13.6</b> Dealing with failure</a></li>
<li class="chapter" data-level="13.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>13.7</b> Mapping over multiple arguments</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="iteration.html"><a href="iteration.html#invoking-different-functions"><i class="fa fa-check"></i><b>13.7.1</b> Invoking different functions</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>13.8</b> Walk</a></li>
<li class="chapter" data-level="13.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>13.9</b> Other patterns of for loops</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="iteration.html"><a href="iteration.html#predicate-functions"><i class="fa fa-check"></i><b>13.9.1</b> Predicate functions</a></li>
<li class="chapter" data-level="13.9.2" data-path="iteration.html"><a href="iteration.html#reduce-and-accumulate"><i class="fa fa-check"></i><b>13.9.2</b> Reduce and accumulate</a></li>
<li class="chapter" data-level="13.9.3" data-path="iteration.html"><a href="iteration.html#exercises-6"><i class="fa fa-check"></i><b>13.9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="iteration.html"><a href="iteration.html#case-study"><i class="fa fa-check"></i><b>13.10</b> Case study</a></li>
</ul></li>
<li class="part"><span><b>III 의사소통하기</b></span></li>
<li class="chapter" data-level="14" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>14</b> 소개</a></li>
<li class="chapter" data-level="15" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>15</b> R 마크다운</a>
<ul>
<li class="chapter" data-level="15.1" data-path="rmarkdown.html"><a href="rmarkdown.html#들어가기-11"><i class="fa fa-check"></i><b>15.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="rmarkdown.html"><a href="rmarkdown.html#준비하기-11"><i class="fa fa-check"></i><b>15.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="rmarkdown.html"><a href="rmarkdown.html#r-마크다운-기초"><i class="fa fa-check"></i><b>15.2</b> R 마크다운 기초</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#연습문제-37"><i class="fa fa-check"></i><b>15.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="rmarkdown.html"><a href="rmarkdown.html#마크다운으로-텍스트-서식-지정하기"><i class="fa fa-check"></i><b>15.3</b> 마크다운으로 텍스트 서식 지정하기</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#연습문제-38"><i class="fa fa-check"></i><b>15.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="rmarkdown.html"><a href="rmarkdown.html#코드-청크"><i class="fa fa-check"></i><b>15.4</b> 코드 청크</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-이름"><i class="fa fa-check"></i><b>15.4.1</b> 청크 이름</a></li>
<li class="chapter" data-level="15.4.2" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-옵션"><i class="fa fa-check"></i><b>15.4.2</b> 청크 옵션</a></li>
<li class="chapter" data-level="15.4.3" data-path="rmarkdown.html"><a href="rmarkdown.html#표"><i class="fa fa-check"></i><b>15.4.3</b> 표</a></li>
<li class="chapter" data-level="15.4.4" data-path="rmarkdown.html"><a href="rmarkdown.html#캐싱"><i class="fa fa-check"></i><b>15.4.4</b> 캐싱</a></li>
<li class="chapter" data-level="15.4.5" data-path="rmarkdown.html"><a href="rmarkdown.html#전역-옵션"><i class="fa fa-check"></i><b>15.4.5</b> 전역 옵션</a></li>
<li class="chapter" data-level="15.4.6" data-path="rmarkdown.html"><a href="rmarkdown.html#inline-code"><i class="fa fa-check"></i><b>15.4.6</b> Inline code</a></li>
<li class="chapter" data-level="15.4.7" data-path="rmarkdown.html"><a href="rmarkdown.html#exercises-7"><i class="fa fa-check"></i><b>15.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="rmarkdown.html"><a href="rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>15.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="15.6" data-path="rmarkdown.html"><a href="rmarkdown.html#yaml-header"><i class="fa fa-check"></i><b>15.6</b> YAML header</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#parameters"><i class="fa fa-check"></i><b>15.6.1</b> Parameters</a></li>
<li class="chapter" data-level="15.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>15.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="rmarkdown.html"><a href="rmarkdown.html#learning-more-1"><i class="fa fa-check"></i><b>15.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>16</b> 그래프를 통한 의사소통</a>
<ul>
<li class="chapter" data-level="16.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#들어가기-12"><i class="fa fa-check"></i><b>16.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#준비하기-12"><i class="fa fa-check"></i><b>16.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>16.2</b> Label</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-8"><i class="fa fa-check"></i><b>16.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>16.3</b> Annotations</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-9"><i class="fa fa-check"></i><b>16.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>16.4</b> Scales</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>16.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="16.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>16.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="16.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>16.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="16.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-10"><i class="fa fa-check"></i><b>16.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>16.5</b> Zooming</a></li>
<li class="chapter" data-level="16.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>16.6</b> Themes</a></li>
<li class="chapter" data-level="16.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>16.7</b> Saving your plots</a>
<ul>
<li class="chapter" data-level="16.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>16.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="16.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>16.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-2"><i class="fa fa-check"></i><b>16.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html"><i class="fa fa-check"></i><b>17</b> R 마크다운 유형</a>
<ul>
<li class="chapter" data-level="17.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#들어가기-13"><i class="fa fa-check"></i><b>17.1</b> 들어가기</a></li>
<li class="chapter" data-level="17.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#출력-옵션"><i class="fa fa-check"></i><b>17.2</b> 출력 옵션</a></li>
<li class="chapter" data-level="17.3" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#document"><i class="fa fa-check"></i><b>17.3</b> Document</a></li>
<li class="chapter" data-level="17.4" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#notebook"><i class="fa fa-check"></i><b>17.4</b> Notebook</a></li>
<li class="chapter" data-level="17.5" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#presentation"><i class="fa fa-check"></i><b>17.5</b> Presentation</a></li>
<li class="chapter" data-level="17.6" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#dashboard"><i class="fa fa-check"></i><b>17.6</b> Dashboard</a></li>
<li class="chapter" data-level="17.7" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#대화형-동작"><i class="fa fa-check"></i><b>17.7</b> 대화형 동작</a>
<ul>
<li class="chapter" data-level="17.7.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>17.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="17.7.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#shiny"><i class="fa fa-check"></i><b>17.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="17.8" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#website"><i class="fa fa-check"></i><b>17.8</b> Website</a></li>
<li class="chapter" data-level="17.9" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#other-formats"><i class="fa fa-check"></i><b>17.9</b> Other formats</a></li>
<li class="chapter" data-level="17.10" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#더-배우기-1"><i class="fa fa-check"></i><b>17.10</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="rmarkdown-workflow.html"><a href="rmarkdown-workflow.html"><i class="fa fa-check"></i><b>18</b> R 마크다운 워크플로</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 을 활용한 데이터과학</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="strings" class="section level1" number="6">
<h1><span class="header-section-number">6</span> 문자열</h1>
<div id="들어가기-4" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> 들어가기</h2>
<p>이 장에서는 R에서의 문자열 조작(string manipulation)을 소개한다. 문자열이 동작하는 방식과 문자열을 직접 생성하는 법의 기초를 배우겠지만, 이 장의 초점은 정규표현식(regular expressions), 줄여서 regexps 이다. 문자열은 일반적으로 비정형 및 반정형 데이터를 포함하는데, 정규표현식은 문자열의 패턴을 간결하게 기술하는 언어라는 점에서 유용하다. 정규표현식을 처음 보면 고양이가 키보드를 밟고 간 것처럼 보이겠지만, 이해도가 높아질수록 의미가 눈에 들어올 것이다.</p>
<div id="준비하기-4" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> 준비하기</h3>
<p>이 장에서는 문자열 조작을 할 수 있는 <strong>stringr</strong> 패키지에 초점을 맞출 것이다. 보통은 항상 텍스트 데이터를 다루어야 하는 것은 아니기 때문에, stringr 은 핵심 tidyverse에 포함되어 있지 않다. 따라서 명시적으로 로드해야 한다.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="strings.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb116-2"><a href="strings.html#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code></pre></div>
</div>
</div>
<div id="strings-basics" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> 문자열 기초</h2>
<p>작은따옴표나 큰따옴표로 문자열을 생성할 수 있다. 다른 언어와는 달리 두 동작에 차이가 없다. 여러 개의 <code>"</code> 를 포함하는 문자열을 생성하려는 것이 아니라면 항상 <code>"</code> 를 사용할 것을 추천한다.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="strings.html#cb117-1" aria-hidden="true" tabindex="-1"></a>string1 <span class="ot">&lt;-</span> <span class="st">&quot;문자열입니다&quot;</span></span>
<span id="cb117-2"><a href="strings.html#cb117-2" aria-hidden="true" tabindex="-1"></a>string2 <span class="ot">&lt;-</span> <span class="st">&#39;문자열 내에 &quot;인용문&quot;이 포함된 경우, 나는 작은 따옴표를 사용한다&#39;</span></span></code></pre></div>
<p>따옴표 닫는 것을 잊어 버린 경우, 연속문자(continuation character)인 <code>+</code> 가 나타난다.</p>
<pre><code>&gt; &quot;닫는 따옴표가 없는 문자열이다
+    
+    
+ 도와줘요 갇혔어요</code></pre>
<p>이 같은 일이 발생했다면 이스케이프키를 누르고 다시 시도하라!</p>
<p>작은따옴표 문자나 큰따옴표 문자를 문자열에 포함하려면 ‘벗어나기 (escape)’ 위해 <code>\</code> (이스케이프 키)를 사용할 수 있다.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="strings.html#cb119-1" aria-hidden="true" tabindex="-1"></a>double_quote <span class="ot">&lt;-</span> <span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">&quot;</span> <span class="co"># or &#39;&quot;&#39;</span></span>
<span id="cb119-2"><a href="strings.html#cb119-2" aria-hidden="true" tabindex="-1"></a>single_quote <span class="ot">&lt;-</span> <span class="st">&#39;</span><span class="sc">\&#39;</span><span class="st">&#39;</span> <span class="co"># or &quot;&#39;&quot;</span></span></code></pre></div>
<p>같은 원리로 역슬래시 문자를 포함하려면 <code>"\\"</code> 과 같이 두 번 입력해야 한다.</p>
<p>문자열의 출력 표시는 문자열 자체와 같지 않다는 것에 주의하라. 출력에선 이스케이프가 보이기 때문이다. 문자열의 원시 형태를 보려면 <code>writeLines()</code> 를 사용하라.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="strings.html#cb120-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">&quot;</span>)</span>
<span id="cb120-2"><a href="strings.html#cb120-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb120-3"><a href="strings.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;\&quot;&quot; &quot;\\&quot;</span></span>
<span id="cb120-4"><a href="strings.html#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(x)</span>
<span id="cb120-5"><a href="strings.html#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &quot;</span></span>
<span id="cb120-6"><a href="strings.html#cb120-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; \</span></span></code></pre></div>
<p>이 외의 특수 문자들도 매우 많다. 줄바꿈, <code>"\n"</code> , 탭, <code>"\t"</code> 은 가장 일반적인 것들이다. <code>?'"'</code> , 혹은 <code>?"'"</code> 로 볼 수 있는 도움말을 통해 전체 목록을 볼 수 있다. 또한 <code>"\u00b5"</code> 과 같은 문자열을 간혹 볼 수도 있는데, 이는 비영어 문자를 모든 플랫폼에서 동작하도록 작성한 것이다.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="strings.html#cb121-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;\u00b5&quot;</span></span>
<span id="cb121-2"><a href="strings.html#cb121-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb121-3"><a href="strings.html#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;µ&quot;</span></span></code></pre></div>
<p>복수의 문자열은 종종 <code>c()</code> 로 만들 수 있는 문자형 벡터에 저장된다.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="strings.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>)</span>
<span id="cb122-2"><a href="strings.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</span></span></code></pre></div>
<div id="문자열-길이" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> 문자열 길이</h3>
<p>베이스 R에는 문자열에 동작하는 함수가 많이 있지만 일관성이 없고, 또 따라서 기억해내기 어렵기 때문에 여기에서는 사용하지 않을 것이다. 대신 우리는 <strong>stringr</strong> 의 함수를 사용할 것이다. 이 함수들의 이름은 좀 더 직관적이며 모두 <code>str_</code> 로 시작한다. 예를 들어 <code>str_length()</code> 는 문자열의 문자 개수를 알려준다.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="strings.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_length</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;R for data science&quot;</span>, <span class="cn">NA</span>))</span>
<span id="cb123-2"><a href="strings.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  1 18 NA</span></span></code></pre></div>
<p>공통된 <code>str_</code> 접두사는 RStudio 이용자에게 특히 유용하다. <code>str_</code> 을 타이핑하면 자동완성을 불러와서 모든 <strong>stringr</strong> 함수를 볼 수 있기 때문이다.</p>
<p><img src="screenshots/stringr-autocomplete.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="문자열-결합" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> 문자열 결합</h3>
<p>문자열을 두 개 이상 결합하기 위해서는 <code>str_c()</code> 를 사용하라.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="strings.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>)</span>
<span id="cb124-2"><a href="strings.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;xy&quot;</span></span>
<span id="cb124-3"><a href="strings.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>)</span>
<span id="cb124-4"><a href="strings.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;xyz&quot;</span></span></code></pre></div>
<p>구분 방식을 컨트롤하기 위해 <code>sep</code> 인수를 사용하라.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="strings.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;, &quot;</span>)</span>
<span id="cb125-2"><a href="strings.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x, y&quot;</span></span></code></pre></div>
<p>대부분의 R 함수들에서 그렇듯 결측값은 설정된 것이 이후로 계속 파급된다(contagious). 결측값을 <code>"NA"</code> 로 출력되길 원하면 <code>str_replace_na()</code> 를 사용하라.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="strings.html#cb126-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="cn">NA</span>)</span>
<span id="cb126-2"><a href="strings.html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;|-&quot;</span>, x, <span class="st">&quot;-|&quot;</span>)</span>
<span id="cb126-3"><a href="strings.html#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;|-abc-|&quot; NA</span></span>
<span id="cb126-4"><a href="strings.html#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;|-&quot;</span>, <span class="fu">str_replace_na</span>(x), <span class="st">&quot;-|&quot;</span>)</span>
<span id="cb126-5"><a href="strings.html#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;|-abc-|&quot; &quot;|-NA-|&quot;</span></span></code></pre></div>
<p>앞의 코드에서 본 것처럼 <code>str_c()</code> 는 벡터화되고 짧은 벡터가 긴 벡터와 길이가 같도록 자동으로 재사용한다.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="strings.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;prefix-&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="st">&quot;-suffix&quot;</span>)</span>
<span id="cb127-2"><a href="strings.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;prefix-a-suffix&quot; &quot;prefix-b-suffix&quot; &quot;prefix-c-suffix&quot;</span></span></code></pre></div>
<p>길이가 0인 객체는 조용히 삭제된다. 이 특성은 <code>if</code> 와 함께 쓰면 특히 유용하다.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="strings.html#cb128-1" aria-hidden="true" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="st">&quot;Hadley&quot;</span></span>
<span id="cb128-2"><a href="strings.html#cb128-2" aria-hidden="true" tabindex="-1"></a>time_of_day <span class="ot">&lt;-</span> <span class="st">&quot;morning&quot;</span></span>
<span id="cb128-3"><a href="strings.html#cb128-3" aria-hidden="true" tabindex="-1"></a>birthday <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb128-4"><a href="strings.html#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5"><a href="strings.html#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(</span>
<span id="cb128-6"><a href="strings.html#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Good &quot;</span>, time_of_day, <span class="st">&quot; &quot;</span>, name,</span>
<span id="cb128-7"><a href="strings.html#cb128-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (birthday) <span class="st">&quot; and HAPPY BIRTHDAY&quot;</span>,</span>
<span id="cb128-8"><a href="strings.html#cb128-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;.&quot;</span></span>
<span id="cb128-9"><a href="strings.html#cb128-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb128-10"><a href="strings.html#cb128-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Good morning Hadley.&quot;</span></span></code></pre></div>
<p>문자열 벡터를 하나의 문자열로 합치려면 <code>collapse</code> 를 사용하라.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="strings.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>)</span>
<span id="cb129-2"><a href="strings.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x, y, z&quot;</span></span></code></pre></div>
</div>
<div id="문자열-서브셋하기" class="section level3" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> 문자열 서브셋하기</h3>
<p>문자열의 일부는 <code>str_sub()</code> 를 사용하여 추출할 수 있다. 이 함수는 문자열과 더불어 부분문자열의 위치를 지정하는 <code>start</code> 와 <code>end</code> 인수를 취한다.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="strings.html#cb130-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apple&quot;</span>, <span class="st">&quot;Banana&quot;</span>, <span class="st">&quot;Pear&quot;</span>)</span>
<span id="cb130-2"><a href="strings.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(x, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb130-3"><a href="strings.html#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;App&quot; &quot;Ban&quot; &quot;Pea&quot;</span></span>
<span id="cb130-4"><a href="strings.html#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 음수는 끝에서부터 반대 방향으로 센다</span></span>
<span id="cb130-5"><a href="strings.html#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(x, <span class="sc">-</span><span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb130-6"><a href="strings.html#cb130-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ple&quot; &quot;ana&quot; &quot;ear&quot;</span></span></code></pre></div>
<p><code>str_sub()</code> 는 문자열이 너무 짧은 경우에도 오류가 발생하지 않고 가능한 만큼 반환한다는 것을 주목하라.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="strings.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb131-2"><a href="strings.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span></code></pre></div>
<p><code>str_sub()</code> 의 할당 형식을 사용하여 문자열을 수정할 수도 있다.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="strings.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sub</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(<span class="fu">str_sub</span>(x, <span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb132-2"><a href="strings.html#cb132-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb132-3"><a href="strings.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;apple&quot;  &quot;banana&quot; &quot;pear&quot;</span></span></code></pre></div>
</div>
<div id="로캘" class="section level3" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> 로캘</h3>
<p>앞서 <code>str_to_lower()</code> 를 사용하여 텍스트를 소문자로 변경했다. <code>str_to_upper()</code> 또는 <code>str_to_title()</code> 을 사용할 수도 있다. 그러나 각각의 언어는 대소문자 규칙이 다르므로 대소문자 변경은 생각보다 더 복잡하다. 로캘을 지정하여, 어떤 규칙 집합을 사용할지 정할 수 있다.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="strings.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 터키어는 i가 점이 있는 것과 없는 것 두 개이다</span></span>
<span id="cb133-2"><a href="strings.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 또한 대문자도 다르다</span></span>
<span id="cb133-3"><a href="strings.html#cb133-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-4"><a href="strings.html#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_upper</span>(<span class="fu">c</span>(<span class="st">&quot;i&quot;</span>, <span class="st">&quot;ı&quot;</span>))</span>
<span id="cb133-5"><a href="strings.html#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;I&quot; &quot;I&quot;</span></span>
<span id="cb133-6"><a href="strings.html#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_upper</span>(<span class="fu">c</span>(<span class="st">&quot;i&quot;</span>, <span class="st">&quot;ı&quot;</span>), <span class="at">locale =</span> <span class="st">&quot;tr&quot;</span>)</span>
<span id="cb133-7"><a href="strings.html#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;İ&quot; &quot;I&quot;</span></span></code></pre></div>
<p>로캘은 두 글자 또는 세 글자 줄임말인 ISO 639 언어 코드로 지정된다. 설정하고자 하는 언어의 ISO639 코드를 모르는 경우, <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">위키피디아</a>에 잘 정리되어 있다. 로캘을 비워 둘 경우에는 운영체제에서 제공한 현재 로캘을 사용한다.</p>
<p>로캘의 영향을 받는 또 다른 중요한 작업은 정렬이다. 베이스R의 <code>order()</code> 및 <code>sort()</code> 함수는 현재 로캘을 사용하여 정렬한다. 다른 컴퓨터에서도 변함없는 동작을 원한다면 로캘 추가인수를 취하는 <code>str_sort()</code> 와 <code>str_order()</code> 를 사용하면 된다.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="strings.html#cb134-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;eggplant&quot;</span>, <span class="st">&quot;banana&quot;</span>)</span>
<span id="cb134-2"><a href="strings.html#cb134-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-3"><a href="strings.html#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(x, <span class="at">locale =</span> <span class="st">&quot;en&quot;</span>)  <span class="co"># English</span></span>
<span id="cb134-4"><a href="strings.html#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;apple&quot;    &quot;banana&quot;   &quot;eggplant&quot;</span></span>
<span id="cb134-5"><a href="strings.html#cb134-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-6"><a href="strings.html#cb134-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(x, <span class="at">locale =</span> <span class="st">&quot;haw&quot;</span>) <span class="co"># Hawaiian</span></span>
<span id="cb134-7"><a href="strings.html#cb134-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;apple&quot;    &quot;eggplant&quot; &quot;banana&quot;</span></span></code></pre></div>
</div>
<div id="연습문제-12" class="section level3" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p><strong>stringr</strong> 을 사용하지 않는 코드에서 <code>paste()</code> 와 <code>paste0()</code> 를 종종 볼 것이다. 두 함수의 차이점은 무엇인가? 이들에 상응하는 <strong>stringr</strong> 함수는 무엇인가? 이 함수들은 <code>NA</code> 를 다룰 때 어떻게 다른가?</p></li>
<li><p><code>str_c()</code> 의 <code>sep</code> 인수와 <code>collapse</code> 인수의 차이를 자신의 말로 기술하라.</p></li>
<li><p><code>str_length()</code> 과 <code>str_sub()</code> 을 이용하여 문자열 중앙 문자를 추출하라. 문자열에 짝수 개의 문자가 있다면 어떻게 하겠는가?</p></li>
<li><p><code>str_wrap()</code> 의 기능은 무엇인가? 어떤 경우에 이 함수를 사용하겠는가?</p></li>
<li><p><code>str_trim()</code> 의 기능은 무엇인가? <code>str_trim()</code> 의 반대는 무엇인가?</p></li>
<li><p>예를 들어 벡터 <code>c( "a", "b", "c")</code> 를 문자열 <code>a, b, c</code> 로 변환하는 함수를 작성하라. 길이가 0, 1, 2인 벡터일 경우 어떻게 해야 하는지에 대해 신중하게 생각해보라.</p></li>
</ol>
</div>
</div>
<div id="정규표현식을-이용한-패턴-매칭" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> 정규표현식을 이용한 패턴 매칭</h2>
<p>정규표현식은 문자열의 패턴을 기술하는 매우 간결한 언어이다. 이해하는 데 다소 시간이 걸리지만 한번 이해하면 매우 유용함을 알 수 있을 것이다.</p>
<p>정규표현식을 배우기 위해 우리는 <code>str_view()</code> 와 <code>str_view_all()</code> 를 사용할 것이다. 이 두 함수는 문자 벡터와 정규표현식을 취해, 이들이 어떻게 매칭되는지를 보여준다. 우리는 매우 단순한 정규표현식부터 시작해서 점진적으로 복잡한 형태를 볼 것이다. 패턴 매칭을 충분히 익힌 후에는 다양한 <strong>stringr</strong> 함수로 적용하는 법을 배울 것이다.</p>
<div id="기초-매칭" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> 기초 매칭</h3>
<p>가장 간단한 패턴은 문자열 전체 (exact) 매칭이다.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="strings.html#cb135-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</span>
<span id="cb135-2"><a href="strings.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;an&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li>b<span class='match'>an<\/span>ana<\/li>\n  <li>pear<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>다음으로 간단한 단계는 (줄바꿈을 제외한) 임의의 문자와 매칭하는 <code>.</code> 이다.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="strings.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;.a.&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-e5c8c404fe174e4c81bd" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li><span class='match'>ban<\/span>ana<\/li>\n  <li>p<span class='match'>ear<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>그런데 <code>"."</code> 이 임의의 문자와 매칭된다면, 문자 <code>"."</code> 는 어떻게 매칭하겠는가? ’이스케이프’를 사용하여 우리가 특별 동작을 사용하려는 것이 아니라, 정확하게 매칭하고 싶다는 것을 정규표현식에 표현해야 한다. 정규표현식도 문자열과 마찬가지로 특별한 동작을 이스케이프하기 위해 역슬래시(<code>\</code> )를 사용한다. 따라서 <code>.</code> 를 매칭하기 위해서는 정규표현식 <code>\.</code> 을 써야한다. 그런데 이렇게 하면 문제가 생긴다. 정규표현식을 나타내기 위해 문자열을 사용했고 <code>\</code> 도 문자열에서 이스케이프 상징어로 사용하였다. 따라서 정규표현식 <code>\.</code> 를 작성하기 위해서는 문자열 <code>"\\."</code> 이 필요하다.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="strings.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To create the regular expression, we need \\</span></span>
<span id="cb137-2"><a href="strings.html#cb137-2" aria-hidden="true" tabindex="-1"></a>dot <span class="ot">&lt;-</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span></span>
<span id="cb137-3"><a href="strings.html#cb137-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-4"><a href="strings.html#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="co"># But the expression itself only contains one:</span></span>
<span id="cb137-5"><a href="strings.html#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(dot)</span>
<span id="cb137-6"><a href="strings.html#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; \.</span></span>
<span id="cb137-7"><a href="strings.html#cb137-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-8"><a href="strings.html#cb137-8" aria-hidden="true" tabindex="-1"></a><span class="co"># And this tells R to look for an explicit .</span></span>
<span id="cb137-9"><a href="strings.html#cb137-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="fu">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;a.c&quot;</span>, <span class="st">&quot;bef&quot;</span>), <span class="st">&quot;a</span><span class="sc">\\</span><span class="st">.c&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-36aa3d2a04d42bbc2145" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"html":"<ul>\n  <li>abc<\/li>\n  <li><span class='match'>a.c<\/span><\/li>\n  <li>bef<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>정규표현식에서 <code>\</code> 를 이스케이프 문자로 사용한다면 문자 <code>\</code> 는 도대체 어떻게 매칭하겠는가? 정규표현식 <code>\\</code> 를 만들어 이스케이프해야 한다. 앞의 정규표현식을 만들려면 <code>\</code> 를 이스케이프하는 문자열이 필요하다. 즉, 문자 <code>\</code> 을 매칭하기 위해서 <code>"\\\\"</code> 라고 작성해야 한다. 즉, 하나를 매칭하기 위해 네 개의 역슬래시가 필요하다!</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="strings.html#cb138-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;a</span><span class="sc">\\</span><span class="st">b&quot;</span></span>
<span id="cb138-2"><a href="strings.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(x)</span>
<span id="cb138-3"><a href="strings.html#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; a\b</span></span>
<span id="cb138-4"><a href="strings.html#cb138-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-5"><a href="strings.html#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;</span><span class="sc">\\\\</span><span class="st">&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-febe03efa1a2d8d52a86" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"html":"<ul>\n  <li>a<span class='match'>\\<\/span>b<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>이 책에서 정규표현식은 <code>\.</code> 과 같이 쓰고 정규표현식을 나타내는 문자열은 <code>"\\."</code> 과 같이 쓸 것이다.</p>
<div id="연습문제-13" class="section level4" number="6.3.1.1">
<h4><span class="header-section-number">6.3.1.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>다음의 각 문자열 <code>"\", "\\", "\\\"</code> 이 <code>\</code> 과 매칭되지 않는 이유를 설명하라.</p></li>
<li><p>시퀀스 <code>"'\</code> 를 어떻게 매칭하겠는가?</p></li>
<li><p>정규표현식 <code>\..\..\..</code> 은 어떤 패턴과 매칭되겠는가? 문자열로 어떻게 표현하겠는가?</p></li>
</ol>
</div>
</div>
<div id="앵커" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> 앵커</h3>
<p>기본적으로 정규표현식은 문자열의 일부를 매치한다. 정규표현식을 <strong>앵커로 고정(anchor)</strong> 하여 문자열의 시작 또는 끝과 매칭하면 유용한 경우가 많다. 다음을 사용할 수 있다.</p>
<ul>
<li><code>^</code> : 문자열의 시작과 매칭</li>
<li><code>$</code> : 문자열의 끝과 매칭</li>
</ul>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="strings.html#cb139-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</span>
<span id="cb139-2"><a href="strings.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;^a&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-1fb4450895fe099f74a1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span>pple<\/li>\n  <li>banana<\/li>\n  <li>pear<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, "a$")
<div id="htmlwidget-10b3b7155e8045a1b2ad" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li>banan<span class='match'>a<\/span><\/li>\n  <li>pear<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>두 기호를 올바로 기억하기 위해, <a href="https://twitter.com/emisshula/status/323863393167613953">에반 미슐라</a>가 알려준 다음의 연상 구문을 시도해보자. 파워(<code>^</code> )로 시작하면, 돈(<code>$</code> )으로 끝나게 된다.</p>
<p>정규표현식을 문자열 전체와 강제로 매칭하도록 하려면 <code>^</code> 와 <code>$</code> 로 고정하라.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="strings.html#cb140-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple pie&quot;</span>, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;apple cake&quot;</span>)</span>
<span id="cb140-2"><a href="strings.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;apple&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-4018eef1a407a0df6b52" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span> pie<\/li>\n  <li><span class='match'>apple<\/span><\/li>\n  <li><span class='match'>apple<\/span> cake<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, "^apple$")
<div id="htmlwidget-5b1b2f4ad92281566982" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"html":"<ul>\n  <li>apple pie<\/li>\n  <li><span class='match'>apple<\/span><\/li>\n  <li>apple cake<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>단어 사이의 경계(boundary)를 매칭시키려면 <code>\b</code> 를 사용하면 된다. 나는 R에서 이 방법을 자주 사용하지는 않지만 RStudio에서 다른 함수의 구성요소인 함수의 이름을 찾고자 할 때 한 번씩 사용한다. 예를 들어 <code>\bsum\b</code> 를 사용하여 <code>summarize, summary, rowsum</code> 등이 매칭되는 것을 피할 수 있다.</p>
<div id="연습문제-14" class="section level4" number="6.3.2.1">
<h4><span class="header-section-number">6.3.2.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>문자열 <code>"$^$"</code> 을 어떻게 매칭하겠는가?</p></li>
<li><p><code>stringr::words</code> 의 일반적인 단어의 말뭉치(corpus)에서 다음에 해당하는 단어들을 찾는 정규표현식을 구하라.</p>
<ol style="list-style-type: decimal">
<li>“y”로 시작.</li>
<li>“x”로 끝남.</li>
<li>정확히 세 글자. (<code>str_length()</code> 를 사용하는 부정행위를 하지 말 것!)</li>
<li>7개 이상의 글자.</li>
</ol>
<p>이 리스트는 길기 때문에 <code>str_view()</code> 의 <code>match</code> 인수를 이용하여 매칭되는 단어들만, 혹은 매칭되지 않는 단어들만 볼 수 있다.</p></li>
</ol>
</div>
</div>
<div id="문자-클래스와-대체구문" class="section level3" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> 문자 클래스와 대체구문</h3>
<p>하나 이상의 문자를 매칭하는 특별한 패턴들이 많이 있다. 우린 이미 하나를 보았는데, 줄바꿈을 제외하고 임의의 문자를 매칭하는 <code>.</code> 이다. 이 밖에도 네 개의 유용한 도구가 있다.</p>
<ul>
<li><code>\d</code> 는 임의의 숫자와 매치한다.</li>
<li><code>\s</code> 는 임의의 여백 문자(whitespace, 예를 들어 공백, 탭, 줄바꿈)와 매치한다.</li>
<li><code>[abc]</code> 는 a, b 또는 c와 매치한다.</li>
<li><code>[^abc]</code> 는 a, b, 또는 c를 제외한 임의의 문자와 매치한다.</li>
</ul>
<p><code>\d</code> 나 <code>\s</code> 를 포함하는 정규표현식을 만들기 위해서는 해당 문자열에서 <code>\</code> 을 이스케이프 해야 하므로 <code>"\\d"</code> 나 <code>"\\s"</code> 로 입력해야 한다는 것을 기억하라.</p>
<p>단일 문자를 포함하는 문자형 클래스는 정규표현식에서 메타문자 하나를 포함하고 싶을때 역슬래시 이스케이프의 대안이 될 수 있다. 많은 사람들에게 가독성이 좋아진다.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="strings.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look for a literal character that normally has special meaning in a regex</span></span>
<span id="cb141-2"><a href="strings.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="fu">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;a.c&quot;</span>, <span class="st">&quot;a*c&quot;</span>, <span class="st">&quot;a c&quot;</span>), <span class="st">&quot;a[.]c&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-25c3e940e6859592f801" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-25c3e940e6859592f801">{"x":{"html":"<ul>\n  <li>abc<\/li>\n  <li><span class='match'>a.c<\/span><\/li>\n  <li>a*c<\/li>\n  <li>a c<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("abc", "a.c", "a*c", "a c"), ".[*]c")
<div id="htmlwidget-3f27c09be0c60bb52829" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-3f27c09be0c60bb52829">{"x":{"html":"<ul>\n  <li>abc<\/li>\n  <li>a.c<\/li>\n  <li><span class='match'>a*c<\/span><\/li>\n  <li>a c<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("abc", "a.c", "a*c", "a c"), "a[ ]")
<div id="htmlwidget-416566eb193bf50d04e6" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-416566eb193bf50d04e6">{"x":{"html":"<ul>\n  <li>abc<\/li>\n  <li>a.c<\/li>\n  <li>a*c<\/li>\n  <li><span class='match'>a <\/span>c<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>이 방법은 대부분 (전부는 아님) 정규표현식 메타문자에 적용된다: <code>$</code> <code>.</code> <code>|</code> <code>?</code> <code>*</code> <code>+</code> <code>(</code> <code>)</code> <code>[</code> <code>{</code>. 안타깝게도 문자 클래스 내에서 조차 특수 의미가 있는 문자가 몇 있으며 백슬래시 이스케이프와 함께 해야 한다. <code>]</code> <code>\</code> <code>^</code> <code>-</code>.</p>
<p>대체구문을 이용하여 하나 이상의 대체 패턴 사이에서 선택하도록 할 수 있다. 예를 들어 <code>abc|d..f</code> 는 <code>"abc"</code> 또는 <code>"deaf"</code> 중 하나와 매치한다. <code>|</code> 는 우선순위가 높다. 따라서 <code>abc|xyz</code> 는 <code>abc</code> 혹은 <code>xyz</code> 와 매칭하라는 의미이지 <code>abcyz</code> 나 <code>abxyz</code> 와 매칭하라는 의미가 아니다. 수식 표현에서와 같이 연산 우선순위가 조금이라도 헷갈린다면 의도한 바를 분명히 하기 위해 괄호를 사용하라.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="strings.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(<span class="fu">c</span>(<span class="st">&quot;grey&quot;</span>, <span class="st">&quot;gray&quot;</span>), <span class="st">&quot;gr(e|a)y&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-72cbf064100ce560a04c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-72cbf064100ce560a04c">{"x":{"html":"<ul>\n  <li><span class='match'>grey<\/span><\/li>\n  <li><span class='match'>gray<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div id="연습문제-15" class="section level4" number="6.3.3.1">
<h4><span class="header-section-number">6.3.3.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>다음에 해당하는 모든 단어를 찾는 정규표현식을 작성하라.</p>
<ol style="list-style-type: decimal">
<li>모음으로 시작함</li>
<li>자음만 포함함 (힌트: ‘비’-자음 매칭에 대해 생각해보라.)</li>
<li><code>ed</code> 로 끝나지만 <code>eed</code> 로 끝나지는 않음</li>
<li><code>ing</code> 혹은 <code>ize</code> 로 끝남</li>
</ol></li>
<li><p>다음의 규칙을 데이터기반으로 증명하라. ‘c 뒤를 제외하고는 i가 e 앞’ (영어 스펠링에서 ei와 ie가 헷갈릴 경우 이 두 글자 앞에 c 가 나온 경우를 제외하고는 ei가 맞다는 규칙)</p></li>
<li><p>‘q’ 다음은 항상 ‘u’ 인가?</p></li>
<li><p>미국 영어가 아닌 영국 영어로 쓰여진 단어를 매칭하는 정규표현식을 작성하라.</p></li>
<li><p>여러분의 나라에서 일반적으로 쓰이는 전화번호를 매칭하는 정규표현식을 작성하라.</p></li>
</ol>
</div>
</div>
<div id="반복" class="section level3" number="6.3.4">
<h3><span class="header-section-number">6.3.4</span> 반복</h3>
<p>다음 단계는 패턴이 몇 회 매칭하는지를 조정하는 것이다.</p>
<ul>
<li><code>?</code> : 0 또는 1회</li>
<li><code>+</code> : 1회 이상</li>
<li><code>*</code> : 0회 이상</li>
</ul>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="strings.html#cb143-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;1888 is the longest year in Roman numerals: MDCCCLXXXVIII&quot;</span></span>
<span id="cb143-2"><a href="strings.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;CC?&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-d11fc4360aa0230696d7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d11fc4360aa0230696d7">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, "CC+")
<div id="htmlwidget-21c7483268bafca56cec" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-21c7483268bafca56cec">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, 'C[LX]+')
<div id="htmlwidget-1834a22cd196f3aa03a1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1834a22cd196f3aa03a1">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MDCC<span class='match'>CLXXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>이 연산자의 우선순위는 낮음을 주목하라. 예를 들어 <code>colou?r</code> 를 사용하여 미국식이나 영국식 스펠링을 매치할 수 있다. 따라서 <code>bana(na)+</code> 에서와 같이 대부분의 경우 괄호가 필요하다.</p>
<p>또한 매칭 횟수를 정확하게 지정할 수 있다.</p>
<ul>
<li><code>{n}</code> : 정확히 n회</li>
<li><code>{n,}</code> : n회 이상</li>
<li><code>{,m}</code> : 최대 m회</li>
<li><code>{n,m}</code> : n과 m회 사이</li>
</ul>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="strings.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&quot;C{2}&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-28515d92cb327f90c9eb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-28515d92cb327f90c9eb">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, "C{2,}")
<div id="htmlwidget-0caf26d4e3c00206b0c5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0caf26d4e3c00206b0c5">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, "C{2,3}")
<div id="htmlwidget-da0b268a2927f570ebf3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-da0b268a2927f570ebf3">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>기본값으로 이러한 매칭은 ‘그리디(greedy)’ 매칭이다. 즉, 가능한 가장 긴 문자열과 매칭한다. 이를 ‘게으르게(lazy)’ 만들 수 있다. 뒤에 <code>?</code> 를 넣으면 가장 짧은 문자열과 매칭된다. 정규표현식의 고급 기능이지만 이런 것도 있다는 것을 알아놓으면 유용하다.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="strings.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(x, <span class="st">&#39;C{2,3}?&#39;</span>)</span></code></pre></div>
<div id="htmlwidget-0ed12bb554391c49c2e3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0ed12bb554391c49c2e3">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, 'C[LX]+?')
<div id="htmlwidget-ec658d41f8c4f2d124e9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ec658d41f8c4f2d124e9">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MDCC<span class='match'>CL<\/span>XXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div id="연습문제-16" class="section level4" number="6.3.4.1">
<h4><span class="header-section-number">6.3.4.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p><code>?, +, *</code> 이 같음을 <code>{m,n}</code> 형식으로 설명하라.</p></li>
<li><p>다음의 정규표현식이 어떤 것과 매칭하는지를 말로 설명하라. (사용하는 것이 정규표현식인지 아니면 그것을 정의하는 문자열인지 주의 깊게 읽고 확인하라.)</p>
<ol style="list-style-type: decimal">
<li><code>^.*$</code></li>
<li><code>"\\{.+\\}"</code></li>
<li><code>\d{4}-\d{2}-\d{2}</code></li>
<li><code>"\\\\{4}"</code></li>
</ol></li>
<li><p>다음의 모든 단어를 찾는 정규표현식을 작성하라.</p>
<ol style="list-style-type: decimal">
<li>세 개의 자음으로 시작.</li>
<li>세 개 이상의 모음이 연달아 있음.</li>
<li>두 개 이상의 모음-자음 쌍이 연달아 있음.</li>
</ol></li>
<li><p>다음의 초보자 정규표현식 십자말풀이를 풀어보라. <a href="https://regexcrossword.com/challenges/beginner" class="uri">https://regexcrossword.com/challenges/beginner</a></p></li>
</ol>
</div>
</div>
<div id="그룹화와-역참조" class="section level3" number="6.3.5">
<h3><span class="header-section-number">6.3.5</span> 그룹화와 역참조</h3>
<p>앞서 괄호를 사용하여 복잡한 표현을 명확하게 하는 법을 배웠다. 괄호는 또한 (number 1, 2 등) 숫자달린 캡쳐 그룹을 생성한다. 캡쳐 그룹은 괄호 내에서 정규표현식의 일부와 매치되는 문자열 부분을 저장한다. <code>\1, \2</code> 등과 같이 역참조(backreference)로 캡쳐 그룹에 매칭된 텍스트를 참조할 수 있다. 예를 들어 다음의 정규표현식은 두 글자가 반복되는 과일 이름과 매칭한다.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="strings.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(fruit, <span class="st">&quot;(..)</span><span class="sc">\\</span><span class="st">1&quot;</span>, <span class="at">match =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div id="htmlwidget-6b83523733b890d61edc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6b83523733b890d61edc">{"x":{"html":"<ul>\n  <li>b<span class='match'>anan<\/span>a<\/li>\n  <li><span class='match'>coco<\/span>nut<\/li>\n  <li><span class='match'>cucu<\/span>mber<\/li>\n  <li><span class='match'>juju<\/span>be<\/li>\n  <li><span class='match'>papa<\/span>ya<\/li>\n  <li>s<span class='match'>alal<\/span> berry<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>(<code>str_match()</code> 와 함께 쓰면 왜 유용한지 곧 알게 될 것이다.)</p>
<div id="연습문제-17" class="section level4" number="6.3.5.1">
<h4><span class="header-section-number">6.3.5.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>다음의 표현식이 어떤 것과 매칭할지 말로 설명하라.</p>
<ol style="list-style-type: decimal">
<li><code>(.)\1\1</code></li>
<li><code>"(.)(.)\\2\\1"</code></li>
<li><code>(..)\1</code></li>
<li><code>"(.).\\1.\\1"</code></li>
<li><code>"(.)(.)(.).*\\3\\2\\1"</code></li>
</ol></li>
<li><p>다음의 단어와 매칭하는 정규표현식을 작성하라.</p>
<ol style="list-style-type: decimal">
<li>같은 문자로 시작하고 끝남.</li>
<li>두 문자 반복이 있음(예를 들어 ’church’는 ’ch’를 두 번 반복).</li>
<li>적어도 세 곳에서 반복되는 문자가 있음(예컨대, ’eleven’은 ’e’가 세 개).</li>
</ol></li>
</ol>
</div>
</div>
</div>
<div id="도구" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> 도구</h2>
<p>이제 정규표현식의 기초를 배웠으므로 실제 문제에 적용하는 법에 대해 알아보자. 이 절에서는 다음을 수행하는 다양한 <strong>stringr</strong> 함수들을 배울 것이다.</p>
<ul>
<li>어떤 문자열이 패턴과 매칭하는지 결정.</li>
<li>매칭의 위치를 찾기.</li>
<li>매칭의 내용을 추출.</li>
<li>매칭된 것을 새 값으로 교체.</li>
<li>매칭를 기반으로 문자열 분할.</li>
</ul>
<p>계속 진행하기 전에 주의할 점은, 정규표현식은 너무 강력해서 모든 문제를 정규표현식 하나로 접근하려고 하기 쉽다는 것이다. 제이미 자윈스키(Jamie Zawinski)의 말을 들어보자.</p>
<blockquote>
<p>문제에 직면했을 때 어떤 사람들은 ’풀 수 있어. 정규표현식을
사용하면 돼’라고 생각한다. 이제 그들에겐 풀어야 할 문제가 두 개이다.</p>
</blockquote>
<p>조심하라는 뜻으로 이메일 주소가 유효한지를 검사하는 다음의 정규표현식을 살펴보라.</p>
<pre><code>(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]
)+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:
\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(
?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*&quot;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\0
31]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\
](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+
(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:
(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z
|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)
?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\
r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[
 \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)
?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t]
)*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[
 \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*
)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]
)+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)
*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+
|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r
\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:
\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t
]))*&quot;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031
]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](
?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?
:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?
:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)|(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?
:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?
[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\&quot;.\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|
\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;
@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;
(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t]
)*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\
&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?
:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[
\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-
\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(
?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;
:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([
^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;
.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\
]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\
[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\
r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]
|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \0
00-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\
.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,
;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?
:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*
(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.
\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[
^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]
]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)(?:,\s*(
?:(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\
&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)(?:\.(?:(
?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[
\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t
])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t
])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?
:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|
\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:
[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\
]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)
?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;
()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)
?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;
@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[
 \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,
;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t]
)*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\
&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?
(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.
\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:
\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[
&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|&quot;(?:[^\&quot;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&quot;(?:(?:\r\n)?[ \t])
*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])
+|\Z|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\
.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&quot;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z
|(?=[\[&quot;()&lt;&gt;@,;:\\&quot;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\&gt;(?:(
?:\r\n)?[ \t])*))*)?;\s*)</code></pre>
<p>이는 (이메일 주소는 놀랍게도 실제로는 단순하지 않기 때문에) 다소 극단적인 예이지만, 실제 코드에서 사용된다. 자세한 내용은
<a href="http://stackoverflow.com/a/201378">스택오버플로 토론</a> 을 참조하라.</p>
<p>우리는 프로그래밍 언어를 사용하고 있으며, 활용할 수 있는 다른 도구들이 있다는 것을 잊지 않아야 한다. 하나의 복잡한 정규표현식을 작성하는 것보다, 간단한 정규표현식을 여러 개 작성하는 것이 쉬운 경우가 많다. 문제를 해결해줄 단일 정규표현식이 떠오르지 않는다면, 잠시 뒤로 물러서서, 문제를 작은 조각들로 분해하여, 작은 문제들을 하나씩 해결하면서 다음 단계로 나아갈 수 있는지 생각해보라.</p>
<div id="매칭-탐지" class="section level3" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> 매칭 탐지</h3>
<p>문자형 벡터가 패턴과 매칭하는지 확인하려면, <code>str_detect()</code> 를 사용하라. 이 함수는 입력과 같은 길이의 논리형 벡터를 반환한다.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="strings.html#cb148-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</span>
<span id="cb148-2"><a href="strings.html#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(x, <span class="st">&quot;e&quot;</span>)</span>
<span id="cb148-3"><a href="strings.html#cb148-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE FALSE  TRUE</span></span></code></pre></div>
<p>논리형 벡터를 수치형 맥락에서 사용할 경우, <code>FALSE</code> 는 0 이 되고, <code>TRUE</code> 는 1 이 된다는 것을 명심하라. 따라서 긴 벡터에서의 매치 결과가 궁금할 때는, <code>sum()</code> 과 <code>mean()</code> 을 유용하게 사용할 수 있다.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="strings.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many common words start with t?</span></span>
<span id="cb149-2"><a href="strings.html#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">str_detect</span>(words, <span class="st">&quot;^t&quot;</span>))</span>
<span id="cb149-3"><a href="strings.html#cb149-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 65</span></span>
<span id="cb149-4"><a href="strings.html#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="co"># What proportion of common words end with a vowel?</span></span>
<span id="cb149-5"><a href="strings.html#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">str_detect</span>(words, <span class="st">&quot;[aeiou]$&quot;</span>))</span>
<span id="cb149-6"><a href="strings.html#cb149-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.277</span></span></code></pre></div>
<p>복잡한 논리적 조건문이 있을 때(예를 들어 d 가 아니라면, c가 아닌 a나 b를 매치), 하나의 정규표현식을 작성하는 것보다, 여러 <code>str_detect()</code> 호출을 논리 연산자와 함께 묶는 것이 쉬울 때가 많다. 예를 들어 모음을 포함하지 않는 모든 단어를 찾는 두 가지 방법이 있다.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="strings.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all words containing at least one vowel, and negate</span></span>
<span id="cb150-2"><a href="strings.html#cb150-2" aria-hidden="true" tabindex="-1"></a>no_vowels_1 <span class="ot">&lt;-</span> <span class="sc">!</span><span class="fu">str_detect</span>(words, <span class="st">&quot;[aeiou]&quot;</span>)</span>
<span id="cb150-3"><a href="strings.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all words consisting only of consonants (non-vowels)</span></span>
<span id="cb150-4"><a href="strings.html#cb150-4" aria-hidden="true" tabindex="-1"></a>no_vowels_2 <span class="ot">&lt;-</span> <span class="fu">str_detect</span>(words, <span class="st">&quot;^[^aeiou]+$&quot;</span>)</span>
<span id="cb150-5"><a href="strings.html#cb150-5" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(no_vowels_1, no_vowels_2)</span>
<span id="cb150-6"><a href="strings.html#cb150-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>결과는 같지만, 나는 첫 번째 방법이 이해하기가 훨씬 쉽다고 생각한다. 정규표현식이 지나치게 복잡해질 경우, 작은 조각들로 분해하여, 각 조각에 이름을 주고, 논리적 연산으로 결합해보자.
<code>str_detect()</code> 는 일반적으로 패턴과 매칭하는 요소를 선택하는 데 사용한다. 논리형 서브셋하기, 또는 편리한 <code>str_subset()</code> 래퍼로 이 작업을 수행할 수 있다.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="strings.html#cb151-1" aria-hidden="true" tabindex="-1"></a>words[<span class="fu">str_detect</span>(words, <span class="st">&quot;x$&quot;</span>)]</span>
<span id="cb151-2"><a href="strings.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</span></span>
<span id="cb151-3"><a href="strings.html#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(words, <span class="st">&quot;x$&quot;</span>)</span>
<span id="cb151-4"><a href="strings.html#cb151-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</span></span></code></pre></div>
<p>그러나 가지고 있는 문자열은 일반적으로 데이터프레임의 열일 것이므로, 대신 <code>filter</code> 를 사용하는 것이 좋다.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="strings.html#cb152-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb152-2"><a href="strings.html#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">word =</span> words, </span>
<span id="cb152-3"><a href="strings.html#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">i =</span> <span class="fu">seq_along</span>(word)</span>
<span id="cb152-4"><a href="strings.html#cb152-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb152-5"><a href="strings.html#cb152-5" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb152-6"><a href="strings.html#cb152-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(word, <span class="st">&quot;x$&quot;</span>))</span>
<span id="cb152-7"><a href="strings.html#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 x 2</span></span>
<span id="cb152-8"><a href="strings.html#cb152-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   word      i</span></span>
<span id="cb152-9"><a href="strings.html#cb152-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;int&gt;</span></span>
<span id="cb152-10"><a href="strings.html#cb152-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 box     108</span></span>
<span id="cb152-11"><a href="strings.html#cb152-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 sex     747</span></span>
<span id="cb152-12"><a href="strings.html#cb152-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 six     772</span></span>
<span id="cb152-13"><a href="strings.html#cb152-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 tax     841</span></span></code></pre></div>
<p><code>str_detect()</code> 의 변형은 <code>str_count()</code> 이다. 단순히 yes 또는 no 대신, 하나의 문자열에서 몇 번 매칭되는지를 알려준다.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="strings.html#cb153-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>)</span>
<span id="cb153-2"><a href="strings.html#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(x, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb153-3"><a href="strings.html#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 1</span></span>
<span id="cb153-4"><a href="strings.html#cb153-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-5"><a href="strings.html#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="co"># On average, how many vowels per word?</span></span>
<span id="cb153-6"><a href="strings.html#cb153-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">str_count</span>(words, <span class="st">&quot;[aeiou]&quot;</span>))</span>
<span id="cb153-7"><a href="strings.html#cb153-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.99</span></span></code></pre></div>
<p><code>str_count()</code> 는 <code>mutate()</code> 와 함께 쓰는 것이 자연스럽다.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="strings.html#cb154-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb154-2"><a href="strings.html#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb154-3"><a href="strings.html#cb154-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">vowels =</span> <span class="fu">str_count</span>(word, <span class="st">&quot;[aeiou]&quot;</span>),</span>
<span id="cb154-4"><a href="strings.html#cb154-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">consonants =</span> <span class="fu">str_count</span>(word, <span class="st">&quot;[^aeiou]&quot;</span>)</span>
<span id="cb154-5"><a href="strings.html#cb154-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb154-6"><a href="strings.html#cb154-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 980 x 4</span></span>
<span id="cb154-7"><a href="strings.html#cb154-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   word         i vowels consonants</span></span>
<span id="cb154-8"><a href="strings.html#cb154-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;    &lt;int&gt;  &lt;int&gt;      &lt;int&gt;</span></span>
<span id="cb154-9"><a href="strings.html#cb154-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 a            1      1          0</span></span>
<span id="cb154-10"><a href="strings.html#cb154-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 able         2      2          2</span></span>
<span id="cb154-11"><a href="strings.html#cb154-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 about        3      3          2</span></span>
<span id="cb154-12"><a href="strings.html#cb154-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 absolute     4      4          4</span></span>
<span id="cb154-13"><a href="strings.html#cb154-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 accept       5      2          4</span></span>
<span id="cb154-14"><a href="strings.html#cb154-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 account      6      3          4</span></span>
<span id="cb154-15"><a href="strings.html#cb154-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 974 more rows</span></span></code></pre></div>
<p>매칭들끼리 서로 겹치지 않는다는 것을 주의하라. 예를 들어 <code>"abababa"</code> 에서 <code>"aba"</code> 패턴이 몇 번 매칭하는가? 정규표현식에선 세 번이 아닌 두 번이라고 답한다.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="strings.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(<span class="st">&quot;abababa&quot;</span>, <span class="st">&quot;aba&quot;</span>)</span>
<span id="cb155-2"><a href="strings.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb155-3"><a href="strings.html#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;abababa&quot;</span>, <span class="st">&quot;aba&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-b3f7c917b6c8ff580948" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b3f7c917b6c8ff580948">{"x":{"html":"<ul>\n  <li><span class='match'>aba<\/span>b<span class='match'>aba<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p><code>str_view_all()</code> 의 용법에 주의하라. 곧 배우겠지만 많은 stringr 함수는 짝으로 제공된다. 즉, 단일 매칭에 동작하는 함수와, 모든 매칭에 동작하는 함수가 있다. 후자는 접미사 <code>_all</code> 이 붙는다.</p>
<div id="연습문제-18" class="section level4" number="6.4.1.1">
<h4><span class="header-section-number">6.4.1.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>다음 문제들을 두 가지 방식으로 각각 풀어보라. 하나의 정규표현식을 사용해보고 또, 여러 <code>str_detect()</code> 호출을 결합해보라.</p>
<ol style="list-style-type: decimal">
<li><p>x 로 시작 하거나 끝나는 모든 단어를 찾아라.</p></li>
<li><p>모음으로 시작하고 자음으로 끝나는 모든 단어를 찾아라.</p></li>
<li><p>각기 다른 모음을 하나 이상씩 포함하는 단어가 있는가?</p></li>
</ol></li>
<li><p>어떤 단어가 가장 많은 모음을 갖는가? 어떤 단어가 모음의 비율이 가장 높은가? (힌트: 분모는 무엇인가?)</p></li>
</ol>
</div>
</div>
<div id="매칭-추출" class="section level3" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> 매칭 추출</h3>
<p>매칭한 실제 텍스트를 추출하려면 <code>str_extract()</code> 를 사용하라. 이를 보기 위해 좀 더 복잡한 예제가 필요하다. 하버드 문장데이터(<strong><a href="http://bit.ly/Harvardsentences" class="uri">http://bit.ly/Harvardsentences</a></strong> )를 보려고 하는데, 이는 VOIP 시스템을 테스트하도록 설계되었지만, 정규표현식을 연습하는 데에도 유용하다. 이들은 <code>stringr::sentences</code> 에서 제공된다.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="strings.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(sentences)</span>
<span id="cb156-2"><a href="strings.html#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 720</span></span>
<span id="cb156-3"><a href="strings.html#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sentences)</span>
<span id="cb156-4"><a href="strings.html#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;The birch canoe slid on the smooth planks.&quot; </span></span>
<span id="cb156-5"><a href="strings.html#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;Glue the sheet to the dark blue background.&quot;</span></span>
<span id="cb156-6"><a href="strings.html#cb156-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] &quot;It&#39;s easy to tell the depth of a well.&quot;     </span></span>
<span id="cb156-7"><a href="strings.html#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] &quot;These days a chicken leg is a rare dish.&quot;   </span></span>
<span id="cb156-8"><a href="strings.html#cb156-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] &quot;Rice is often served in round bowls.&quot;       </span></span>
<span id="cb156-9"><a href="strings.html#cb156-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] &quot;The juice of lemons makes fine punch.&quot;</span></span></code></pre></div>
<p>색상을 포함하는 모든 문장을 찾고 싶다고 가정해보자. 먼저 색상 이름 벡터를 생성한 다음, 이를 하나의 정규표현식으로 변환한다.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="strings.html#cb157-1" aria-hidden="true" tabindex="-1"></a>colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;purple&quot;</span>)</span>
<span id="cb157-2"><a href="strings.html#cb157-2" aria-hidden="true" tabindex="-1"></a>colour_match <span class="ot">&lt;-</span> <span class="fu">str_c</span>(colours, <span class="at">collapse =</span> <span class="st">&quot;|&quot;</span>)</span>
<span id="cb157-3"><a href="strings.html#cb157-3" aria-hidden="true" tabindex="-1"></a>colour_match</span>
<span id="cb157-4"><a href="strings.html#cb157-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;red|orange|yellow|green|blue|purple&quot;</span></span></code></pre></div>
<p>이제 색상을 포함하는 문장을 선택할 수 있고, 그런 다음 매칭된 색상이 무엇인지 추출할 수 있다.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="strings.html#cb158-1" aria-hidden="true" tabindex="-1"></a>has_colour <span class="ot">&lt;-</span> <span class="fu">str_subset</span>(sentences, colour_match)</span>
<span id="cb158-2"><a href="strings.html#cb158-2" aria-hidden="true" tabindex="-1"></a>matches <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(has_colour, colour_match)</span>
<span id="cb158-3"><a href="strings.html#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(matches)</span>
<span id="cb158-4"><a href="strings.html#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;blue&quot; &quot;blue&quot; &quot;red&quot;  &quot;red&quot;  &quot;red&quot;  &quot;blue&quot;</span></span></code></pre></div>
<p><code>str_extract()</code> 는 첫 번째 매칭만 추출한다는 것을 주의하라. 매칭이 두 개 이상인 모든 문장을 우선 선택해보면 이를 가장 쉽게 볼 수 있다.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="strings.html#cb159-1" aria-hidden="true" tabindex="-1"></a>more <span class="ot">&lt;-</span> sentences[<span class="fu">str_count</span>(sentences, colour_match) <span class="sc">&gt;</span> <span class="dv">1</span>]</span>
<span id="cb159-2"><a href="strings.html#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(more, colour_match)</span></code></pre></div>
<div id="htmlwidget-d258b2ee1c304ebe1664" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d258b2ee1c304ebe1664">{"x":{"html":"<ul>\n  <li>It is hard to erase <span class='match'>blue<\/span> or <span class='match'>red<\/span> ink.<\/li>\n  <li>The <span class='match'>green<\/span> light in the brown box flicke<span class='match'>red<\/span>.<\/li>\n  <li>The sky in the west is tinged with <span class='match'>orange<\/span> <span class='match'>red<\/span>.<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_extract(more, colour_match)
#> [1] "blue"   "green"  "orange"
<p>이는 stringr 함수의 일반적인 패턴이다. 매칭 하나로 작업하면 훨씬 단순한 데이터 구조를 사용할 수 있기 때문이다. 매칭 모두를 얻으려면 <code>str_extract_all()</code> 를 사용하면 된다. 이는 리스트를 반환한다.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="strings.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(more, colour_match)</span>
<span id="cb160-2"><a href="strings.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb160-3"><a href="strings.html#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;blue&quot; &quot;red&quot; </span></span>
<span id="cb160-4"><a href="strings.html#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb160-5"><a href="strings.html#cb160-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb160-6"><a href="strings.html#cb160-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;green&quot; &quot;red&quot;  </span></span>
<span id="cb160-7"><a href="strings.html#cb160-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb160-8"><a href="strings.html#cb160-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb160-9"><a href="strings.html#cb160-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;orange&quot; &quot;red&quot;</span></span></code></pre></div>
<p><a href="vectors.html#lists">리스트</a> 와 <a href="iteration.html#iteration">반복</a> 에서 리스트에 관해 자세한 내용을 배울 것이다.</p>
<p><code>str_extract_all()</code> 에서 <code>simplify = TRUE</code> 를 하면 짧은 매칭이 가장 긴 것과 같은 길이로 확장된 행렬을 반환한다.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="strings.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(more, colour_match, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb161-2"><a href="strings.html#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]     [,2] </span></span>
<span id="cb161-3"><a href="strings.html#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;blue&quot;   &quot;red&quot;</span></span>
<span id="cb161-4"><a href="strings.html#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;green&quot;  &quot;red&quot;</span></span>
<span id="cb161-5"><a href="strings.html#cb161-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;orange&quot; &quot;red&quot;</span></span>
<span id="cb161-6"><a href="strings.html#cb161-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-7"><a href="strings.html#cb161-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a b&quot;</span>, <span class="st">&quot;a b c&quot;</span>)</span>
<span id="cb161-8"><a href="strings.html#cb161-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(x, <span class="st">&quot;[a-z]&quot;</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb161-9"><a href="strings.html#cb161-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span id="cb161-10"><a href="strings.html#cb161-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;a&quot;  &quot;&quot;   &quot;&quot;  </span></span>
<span id="cb161-11"><a href="strings.html#cb161-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;a&quot;  &quot;b&quot;  &quot;&quot;  </span></span>
<span id="cb161-12"><a href="strings.html#cb161-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;a&quot;  &quot;b&quot;  &quot;c&quot;</span></span></code></pre></div>
<div id="연습문제-19" class="section level4" number="6.4.2.1">
<h4><span class="header-section-number">6.4.2.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>앞의 예에서 매칭된 정규표현식이 색상이 아닌 ’flickered’에 매칭한 것을 눈치챘을지 모르겠다. 이 문제를 해결하기 위해 정규식을 수정하라.</p></li>
<li><p>하버드 문장 데이터에서 다음을 추출하라.</p>
<ol style="list-style-type: decimal">
<li>각 문장의 첫 번째 단어.</li>
<li><code>ing</code> 로 끝나는 모든 단어.</li>
<li>모든 복수형.</li>
</ol></li>
</ol>
</div>
</div>
<div id="그룹화-매칭" class="section level3" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> 그룹화 매칭</h3>
<p>이 장 앞부분에서 연산 우선순위를 명확히 할 목적과 역참조 목적으로 괄호 사용에 대해 이야기했었다. 이 외에도 복잡한 매치의 일부를 추출하기 위해서도 괄호를 사용할 수 있다. 예를 들어 문장에서 명사를 추출하고 싶다고 가정하자. 휴리스틱 방법으로 ‘a’ 또는 ‘the’ 다음에 오는 단어를 찾아 볼 것이다. 정규표현식에서 ’단어’를 정의하는 것은 약간 까다롭기 때문에, 여기서 다음의 간단한 근사법을 이용한다. 적어도 하나 이상의 문자(공백 제외) 시퀀스.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="strings.html#cb162-1" aria-hidden="true" tabindex="-1"></a>noun <span class="ot">&lt;-</span> <span class="st">&quot;(a|the) ([^ ]+)&quot;</span></span>
<span id="cb162-2"><a href="strings.html#cb162-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-3"><a href="strings.html#cb162-3" aria-hidden="true" tabindex="-1"></a>has_noun <span class="ot">&lt;-</span> sentences <span class="sc">%&gt;%</span></span>
<span id="cb162-4"><a href="strings.html#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_subset</span>(noun) <span class="sc">%&gt;%</span></span>
<span id="cb162-5"><a href="strings.html#cb162-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb162-6"><a href="strings.html#cb162-6" aria-hidden="true" tabindex="-1"></a>has_noun <span class="sc">%&gt;%</span> </span>
<span id="cb162-7"><a href="strings.html#cb162-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_extract</span>(noun)</span>
<span id="cb162-8"><a href="strings.html#cb162-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;the smooth&quot; &quot;the sheet&quot;  &quot;the depth&quot;  &quot;a chicken&quot;  &quot;the parked&quot;</span></span>
<span id="cb162-9"><a href="strings.html#cb162-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] &quot;the sun&quot;    &quot;the huge&quot;   &quot;the ball&quot;   &quot;the woman&quot;  &quot;a helps&quot;</span></span></code></pre></div>
<p><code>str_extract()</code> 는 완전한 매치를 제공하는 반면, <code>str_match()</code> 는 각각 개별 요소를 제공한다. <code>str_match()</code> 는 문자형 벡터 대신 행렬을 반환하는데, 이 행렬에는 완전한 매치가 하나의 열로, 그 다음으로 각 그룹마다 열이 하나씩 따른다.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="strings.html#cb163-1" aria-hidden="true" tabindex="-1"></a>has_noun <span class="sc">%&gt;%</span> </span>
<span id="cb163-2"><a href="strings.html#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_match</span>(noun)</span>
<span id="cb163-3"><a href="strings.html#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]         [,2]  [,3]     </span></span>
<span id="cb163-4"><a href="strings.html#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1,] &quot;the smooth&quot; &quot;the&quot; &quot;smooth&quot; </span></span>
<span id="cb163-5"><a href="strings.html#cb163-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2,] &quot;the sheet&quot;  &quot;the&quot; &quot;sheet&quot;  </span></span>
<span id="cb163-6"><a href="strings.html#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3,] &quot;the depth&quot;  &quot;the&quot; &quot;depth&quot;  </span></span>
<span id="cb163-7"><a href="strings.html#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4,] &quot;a chicken&quot;  &quot;a&quot;   &quot;chicken&quot;</span></span>
<span id="cb163-8"><a href="strings.html#cb163-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5,] &quot;the parked&quot; &quot;the&quot; &quot;parked&quot; </span></span>
<span id="cb163-9"><a href="strings.html#cb163-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6,] &quot;the sun&quot;    &quot;the&quot; &quot;sun&quot;    </span></span>
<span id="cb163-10"><a href="strings.html#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7,] &quot;the huge&quot;   &quot;the&quot; &quot;huge&quot;   </span></span>
<span id="cb163-11"><a href="strings.html#cb163-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8,] &quot;the ball&quot;   &quot;the&quot; &quot;ball&quot;   </span></span>
<span id="cb163-12"><a href="strings.html#cb163-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9,] &quot;the woman&quot;  &quot;the&quot; &quot;woman&quot;  </span></span>
<span id="cb163-13"><a href="strings.html#cb163-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10,] &quot;a helps&quot;    &quot;a&quot;   &quot;helps&quot;</span></span></code></pre></div>
<p>(예상했지만, 명사 검출하는 이 휴리스틱 방법은 좋지 않다. smooth나 parked 같은 형용사도 검출하고 있다.)</p>
<p>데이터가 티블인 경우, <code>tidyr::extract()</code> 를 사용하는 것이 더 쉽다. 이 함수는 <code>str_match()</code> 처럼 동작하지만, 매치를 명명할 것을 사용자에게 요청하고, 그 후 새로운 열로 배치한다.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="strings.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">sentence =</span> sentences) <span class="sc">%&gt;%</span> </span>
<span id="cb164-2"><a href="strings.html#cb164-2" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">extract</span>(</span>
<span id="cb164-3"><a href="strings.html#cb164-3" aria-hidden="true" tabindex="-1"></a>    sentence, <span class="fu">c</span>(<span class="st">&quot;article&quot;</span>, <span class="st">&quot;noun&quot;</span>), <span class="st">&quot;(a|the) ([^ ]+)&quot;</span>, </span>
<span id="cb164-4"><a href="strings.html#cb164-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove =</span> <span class="cn">FALSE</span></span>
<span id="cb164-5"><a href="strings.html#cb164-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb164-6"><a href="strings.html#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 720 x 3</span></span>
<span id="cb164-7"><a href="strings.html#cb164-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sentence                                    article noun   </span></span>
<span id="cb164-8"><a href="strings.html#cb164-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                                       &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span id="cb164-9"><a href="strings.html#cb164-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 The birch canoe slid on the smooth planks.  the     smooth </span></span>
<span id="cb164-10"><a href="strings.html#cb164-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Glue the sheet to the dark blue background. the     sheet  </span></span>
<span id="cb164-11"><a href="strings.html#cb164-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 It&#39;s easy to tell the depth of a well.      the     depth  </span></span>
<span id="cb164-12"><a href="strings.html#cb164-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 These days a chicken leg is a rare dish.    a       chicken</span></span>
<span id="cb164-13"><a href="strings.html#cb164-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Rice is often served in round bowls.        &lt;NA&gt;    &lt;NA&gt;   </span></span>
<span id="cb164-14"><a href="strings.html#cb164-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 The juice of lemons makes fine punch.       &lt;NA&gt;    &lt;NA&gt;   </span></span>
<span id="cb164-15"><a href="strings.html#cb164-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 714 more rows</span></span></code></pre></div>
<p><code>str_extract()</code> 처럼, 각 문자열의 모든 매치를 원한다면 <code>str_match_all()</code> 이 필요하다.</p>
<div id="연습문제-20" class="section level4" number="6.4.3.1">
<h4><span class="header-section-number">6.4.3.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>‘one’, ‘two’, ‘three’ 등과 같은 ‘숫자’ 다음에 오는 모든 단어를 구하라. 숫자와 단어 모두를 추출하라.</p></li>
<li><p>줄임말을 모두 찾아라. 아포스트로피 이전과 이후 조각을 분리하라.</p></li>
</ol>
</div>
</div>
<div id="매칭-치환" class="section level3" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> 매칭 치환</h3>
<p><code>str_replace()</code> 와 <code>str_replace_all()</code> 을 이용하여 매치를 새로운 문자열로 치환할 수 있다. 가장 간단한 용법은 패턴을 고정된 문자열로 치환하는 것이다.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="strings.html#cb165-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;pear&quot;</span>, <span class="st">&quot;banana&quot;</span>)</span>
<span id="cb165-2"><a href="strings.html#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(x, <span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;-&quot;</span>)</span>
<span id="cb165-3"><a href="strings.html#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;-pple&quot;  &quot;p-ar&quot;   &quot;b-nana&quot;</span></span>
<span id="cb165-4"><a href="strings.html#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(x, <span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;-&quot;</span>)</span>
<span id="cb165-5"><a href="strings.html#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;-ppl-&quot;  &quot;p--r&quot;   &quot;b-n-n-&quot;</span></span></code></pre></div>
<p><code>str_replace_all()</code> 을 사용하면 명명된 벡터를 제공하여 다중 치환을 수행할 수 있다.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="strings.html#cb166-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1 house&quot;</span>, <span class="st">&quot;2 cars&quot;</span>, <span class="st">&quot;3 people&quot;</span>)</span>
<span id="cb166-2"><a href="strings.html#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(x, <span class="fu">c</span>(<span class="st">&quot;1&quot;</span> <span class="ot">=</span> <span class="st">&quot;one&quot;</span>, <span class="st">&quot;2&quot;</span> <span class="ot">=</span> <span class="st">&quot;two&quot;</span>, <span class="st">&quot;3&quot;</span> <span class="ot">=</span> <span class="st">&quot;three&quot;</span>))</span>
<span id="cb166-3"><a href="strings.html#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one house&quot;    &quot;two cars&quot;     &quot;three people&quot;</span></span></code></pre></div>
<p>고정된 문자열로 치환하는 대신, 매치의 구성요소를 삽입하기 위해 역참조를 사용할 수 있다. 다음 코드는 두 번째와 세 번째 단어의 순서를 바꾼다.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="strings.html#cb167-1" aria-hidden="true" tabindex="-1"></a>sentences <span class="sc">%&gt;%</span> </span>
<span id="cb167-2"><a href="strings.html#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">&quot;([^ ]+) ([^ ]+) ([^ ]+)&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">1 </span><span class="sc">\\</span><span class="st">3 </span><span class="sc">\\</span><span class="st">2&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb167-3"><a href="strings.html#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb167-4"><a href="strings.html#cb167-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;The canoe birch slid on the smooth planks.&quot; </span></span>
<span id="cb167-5"><a href="strings.html#cb167-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;Glue sheet the to the dark blue background.&quot;</span></span>
<span id="cb167-6"><a href="strings.html#cb167-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] &quot;It&#39;s to easy tell the depth of a well.&quot;     </span></span>
<span id="cb167-7"><a href="strings.html#cb167-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] &quot;These a days chicken leg is a rare dish.&quot;   </span></span>
<span id="cb167-8"><a href="strings.html#cb167-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] &quot;Rice often is served in round bowls.&quot;</span></span></code></pre></div>
<div id="연습문제-21" class="section level4" number="6.4.4.1">
<h4><span class="header-section-number">6.4.4.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p>문자열의 모든 슬래시를 역슬래시로 치환하라.</p></li>
<li><p><code>replace_all()</code> 을 사용하여 <code>str_to_lower()</code> 의 간단한 버전을 구현하라.</p></li>
<li><p>단어의 첫 번째와 마지막 문자를 바꿔라. 여전히 단어가 되는 문자열은 무엇인가?</p></li>
</ol>
</div>
</div>
<div id="splitting" class="section level3" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> Splitting</h3>
<p>문자열을 조각으로 분할하려면 <code>str_split()</code> 을 사용하면 된다. 예를 들어 문장을 단어로 분할할 수 있다.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="strings.html#cb168-1" aria-hidden="true" tabindex="-1"></a>sentences <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href="strings.html#cb168-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb168-3"><a href="strings.html#cb168-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split</span>(<span class="st">&quot; &quot;</span>)</span>
<span id="cb168-4"><a href="strings.html#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb168-5"><a href="strings.html#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;The&quot;     &quot;birch&quot;   &quot;canoe&quot;   &quot;slid&quot;    &quot;on&quot;      &quot;the&quot;     &quot;smooth&quot; </span></span>
<span id="cb168-6"><a href="strings.html#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [8] &quot;planks.&quot;</span></span>
<span id="cb168-7"><a href="strings.html#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb168-8"><a href="strings.html#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb168-9"><a href="strings.html#cb168-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Glue&quot;        &quot;the&quot;         &quot;sheet&quot;       &quot;to&quot;          &quot;the&quot;        </span></span>
<span id="cb168-10"><a href="strings.html#cb168-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] &quot;dark&quot;        &quot;blue&quot;        &quot;background.&quot;</span></span>
<span id="cb168-11"><a href="strings.html#cb168-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb168-12"><a href="strings.html#cb168-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb168-13"><a href="strings.html#cb168-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;It&#39;s&quot;  &quot;easy&quot;  &quot;to&quot;    &quot;tell&quot;  &quot;the&quot;   &quot;depth&quot; &quot;of&quot;    &quot;a&quot;     &quot;well.&quot;</span></span>
<span id="cb168-14"><a href="strings.html#cb168-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb168-15"><a href="strings.html#cb168-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb168-16"><a href="strings.html#cb168-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;These&quot;   &quot;days&quot;    &quot;a&quot;       &quot;chicken&quot; &quot;leg&quot;     &quot;is&quot;      &quot;a&quot;      </span></span>
<span id="cb168-17"><a href="strings.html#cb168-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [8] &quot;rare&quot;    &quot;dish.&quot;  </span></span>
<span id="cb168-18"><a href="strings.html#cb168-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb168-19"><a href="strings.html#cb168-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb168-20"><a href="strings.html#cb168-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Rice&quot;   &quot;is&quot;     &quot;often&quot;  &quot;served&quot; &quot;in&quot;     &quot;round&quot;  &quot;bowls.&quot;</span></span></code></pre></div>
<p>각 구성요소가 포함하는 조각의 개수가 다를 수 있으므로, 이 함수는 리스트를 반환한다. 길이가 1인 벡터로 작업하는 경우, 가장 쉬운 것은 리스트의 첫 번째 요소를 추출하는 것이다.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="strings.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;a|b|c|d&quot;</span> <span class="sc">%&gt;%</span> </span>
<span id="cb169-2"><a href="strings.html#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">|&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb169-3"><a href="strings.html#cb169-3" aria-hidden="true" tabindex="-1"></a>  .[[<span class="dv">1</span>]]</span>
<span id="cb169-4"><a href="strings.html#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></span></code></pre></div>
<p>한편, 리스트를 반환하는 다른 <strong>stringr</strong> 함수처럼 <code>simplify = TRUE</code> 를 사용하여 행렬을 반환할 수도 있다.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="strings.html#cb170-1" aria-hidden="true" tabindex="-1"></a>sentences <span class="sc">%&gt;%</span></span>
<span id="cb170-2"><a href="strings.html#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb170-3"><a href="strings.html#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split</span>(<span class="st">&quot; &quot;</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb170-4"><a href="strings.html#cb170-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]    [,2]    [,3]    [,4]      [,5]  [,6]    [,7]     [,8]         </span></span>
<span id="cb170-5"><a href="strings.html#cb170-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;The&quot;   &quot;birch&quot; &quot;canoe&quot; &quot;slid&quot;    &quot;on&quot;  &quot;the&quot;   &quot;smooth&quot; &quot;planks.&quot;    </span></span>
<span id="cb170-6"><a href="strings.html#cb170-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Glue&quot;  &quot;the&quot;   &quot;sheet&quot; &quot;to&quot;      &quot;the&quot; &quot;dark&quot;  &quot;blue&quot;   &quot;background.&quot;</span></span>
<span id="cb170-7"><a href="strings.html#cb170-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;It&#39;s&quot;  &quot;easy&quot;  &quot;to&quot;    &quot;tell&quot;    &quot;the&quot; &quot;depth&quot; &quot;of&quot;     &quot;a&quot;          </span></span>
<span id="cb170-8"><a href="strings.html#cb170-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;These&quot; &quot;days&quot;  &quot;a&quot;     &quot;chicken&quot; &quot;leg&quot; &quot;is&quot;    &quot;a&quot;      &quot;rare&quot;       </span></span>
<span id="cb170-9"><a href="strings.html#cb170-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Rice&quot;  &quot;is&quot;    &quot;often&quot; &quot;served&quot;  &quot;in&quot;  &quot;round&quot; &quot;bowls.&quot; &quot;&quot;           </span></span>
<span id="cb170-10"><a href="strings.html#cb170-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,9]   </span></span>
<span id="cb170-11"><a href="strings.html#cb170-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;     </span></span>
<span id="cb170-12"><a href="strings.html#cb170-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;     </span></span>
<span id="cb170-13"><a href="strings.html#cb170-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;well.&quot;</span></span>
<span id="cb170-14"><a href="strings.html#cb170-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;dish.&quot;</span></span>
<span id="cb170-15"><a href="strings.html#cb170-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;</span></span></code></pre></div>
<p>조각을 최대 개수만큼 요청할 수도 있다.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="strings.html#cb171-1" aria-hidden="true" tabindex="-1"></a>fields <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Name: Hadley&quot;</span>, <span class="st">&quot;Country: NZ&quot;</span>, <span class="st">&quot;Age: 35&quot;</span>)</span>
<span id="cb171-2"><a href="strings.html#cb171-2" aria-hidden="true" tabindex="-1"></a>fields <span class="sc">%&gt;%</span> <span class="fu">str_split</span>(<span class="st">&quot;: &quot;</span>, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb171-3"><a href="strings.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]      [,2]    </span></span>
<span id="cb171-4"><a href="strings.html#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Name&quot;    &quot;Hadley&quot;</span></span>
<span id="cb171-5"><a href="strings.html#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Country&quot; &quot;NZ&quot;    </span></span>
<span id="cb171-6"><a href="strings.html#cb171-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Age&quot;     &quot;35&quot;</span></span></code></pre></div>
<p>또한, 패턴으로 문자열을 분할하는 대신 문자, 줄, 문장 및 단어 경계 (<code>boundary()</code> )로 분할할 수도 있다.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="strings.html#cb172-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;This is a sentence.  This is another sentence.&quot;</span></span>
<span id="cb172-2"><a href="strings.html#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(x, <span class="fu">boundary</span>(<span class="st">&quot;word&quot;</span>))</span></code></pre></div>
<div id="htmlwidget-b8f31ebacaee3527bb86" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b8f31ebacaee3527bb86">{"x":{"html":"<ul>\n  <li><span class='match'>This<\/span> <span class='match'>is<\/span> <span class='match'>a<\/span> <span class='match'>sentence<\/span>.  <span class='match'>This<\/span> <span class='match'>is<\/span> <span class='match'>another<\/span> <span class='match'>sentence<\/span>.<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_split(x, " ")[[1]]
#> [1] "This"      "is"        "a"         "sentence." ""          "This"     
#> [7] "is"        "another"   "sentence."
str_split(x, boundary("word"))[[1]]
#> [1] "This"     "is"       "a"        "sentence" "This"     "is"       "another" 
#> [8] "sentence"
<div id="연습문제-22" class="section level4" number="6.4.5.1">
<h4><span class="header-section-number">6.4.5.1</span> 연습문제</h4>
<ol style="list-style-type: decimal">
<li><p><code>"apples, pears, and bananas"</code> 와 같은 문자열을 개별 구성요소로 분할하라.</p></li>
<li><p>왜 <code>" "</code> 보다 <code>boundary("word")</code> 로 분할하는 것이 좋은가?</p></li>
<li><p>빈 문자열 (<code>""</code> )로 분할하면 어떻게 되는가? 실험해 본 후, 설명서를 읽어라.</p></li>
</ol>
</div>
</div>
<div id="매치-찾기" class="section level3" number="6.4.6">
<h3><span class="header-section-number">6.4.6</span> 매치 찾기</h3>
<p><code>str_locate()</code> 와 <code>str_locate_all()</code> 을 사용하면 각 매치의 시작과 종료 위치를 알 수 있다. 이는 원하는 바를 완벽하게 수행하는 함수가 없을 때 특히 유용하다. <code>str_locate()</code> 를 사용하여 매칭 패턴을 찾을 수 있으며 <code>str_sub()</code> 를 사용하여, 매칭 패턴을 추출하거나 수정할 수 있다.</p>
</div>
</div>
<div id="기타-패턴-유형" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> 기타 패턴 유형</h2>
<p>문자열로 된 패턴을 사용하면 자동으로 <code>regex()</code> 호출로 래핑된다.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="strings.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The regular call:</span></span>
<span id="cb173-2"><a href="strings.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(fruit, <span class="st">&quot;nana&quot;</span>)</span>
<span id="cb173-3"><a href="strings.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Is shorthand for</span></span>
<span id="cb173-4"><a href="strings.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(fruit, <span class="fu">regex</span>(<span class="st">&quot;nana&quot;</span>))</span></code></pre></div>
<p><code>regex()</code> 의 다른 인수를 사용하여 매치의 세부사항을 제어할 수 있다.</p>
<ul>
<li><p><code>ignore_case = TRUE</code> 를 하면 문자가 대문자나 소문자 형태 모두로 매칭된다. 이때 항상 현재의 로캘을 사용한다.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="strings.html#cb174-1" aria-hidden="true" tabindex="-1"></a>bananas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;Banana&quot;</span>, <span class="st">&quot;BANANA&quot;</span>)</span>
<span id="cb174-2"><a href="strings.html#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(bananas, <span class="st">&quot;banana&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-b25b670b028f478bf741" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b25b670b028f478bf741">{"x":{"html":"<ul>\n  <li><span class='match'>banana<\/span><\/li>\n  <li>Banana<\/li>\n  <li>BANANA<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(bananas, regex("banana", ignore_case = TRUE))
<div id="htmlwidget-46d1193f7ba074d981c8" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-46d1193f7ba074d981c8">{"x":{"html":"<ul>\n  <li><span class='match'>banana<\/span><\/li>\n  <li><span class='match'>Banana<\/span><\/li>\n  <li><span class='match'>BANANA<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script></li>
<li><p><code>multiline = TRUE</code> 를 하면 <code>^</code> 와 <code>$</code> 이 전체 문자열의 시작, 끝이 아니라, 각 라인의 시작과 끝이 매칭된다.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="strings.html#cb175-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Line 1</span><span class="sc">\n</span><span class="st">Line 2</span><span class="sc">\n</span><span class="st">Line 3&quot;</span></span>
<span id="cb175-2"><a href="strings.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(x, <span class="st">&quot;^Line&quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb175-3"><a href="strings.html#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Line&quot;</span></span>
<span id="cb175-4"><a href="strings.html#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(x, <span class="fu">regex</span>(<span class="st">&quot;^Line&quot;</span>, <span class="at">multiline =</span> <span class="cn">TRUE</span>))[[<span class="dv">1</span>]]</span>
<span id="cb175-5"><a href="strings.html#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Line&quot; &quot;Line&quot; &quot;Line&quot;</span></span></code></pre></div></li>
<li><p><code>comments = TRUE</code> 를 하면 복잡한 정규표현식을 이해하기 쉽도록 설명과 공백을 사용할 수 있게 된다. <code>#</code> 뒤에 나오는 다른 문자들처럼 공백도 무시된다. 공백 문자를 매치하기 위해서는 <code>“\\”</code> 로 이스케이프 해야 한다.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="strings.html#cb176-1" aria-hidden="true" tabindex="-1"></a>phone <span class="ot">&lt;-</span> <span class="fu">regex</span>(<span class="st">&quot;</span></span>
<span id="cb176-2"><a href="strings.html#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="st">  </span><span class="sc">\\</span><span class="st">(?     # optional opening parens</span></span>
<span id="cb176-3"><a href="strings.html#cb176-3" aria-hidden="true" tabindex="-1"></a><span class="st">  (</span><span class="sc">\\</span><span class="st">d{3}) # area code</span></span>
<span id="cb176-4"><a href="strings.html#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="st">  [) -]?   # optional closing parens, space, or dash</span></span>
<span id="cb176-5"><a href="strings.html#cb176-5" aria-hidden="true" tabindex="-1"></a><span class="st">  (</span><span class="sc">\\</span><span class="st">d{3}) # another three numbers</span></span>
<span id="cb176-6"><a href="strings.html#cb176-6" aria-hidden="true" tabindex="-1"></a><span class="st">  [ -]?    # optional space or dash</span></span>
<span id="cb176-7"><a href="strings.html#cb176-7" aria-hidden="true" tabindex="-1"></a><span class="st">  (</span><span class="sc">\\</span><span class="st">d{3}) # three more numbers</span></span>
<span id="cb176-8"><a href="strings.html#cb176-8" aria-hidden="true" tabindex="-1"></a><span class="st">  &quot;</span>, <span class="at">comments =</span> <span class="cn">TRUE</span>)</span>
<span id="cb176-9"><a href="strings.html#cb176-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-10"><a href="strings.html#cb176-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str_match</span>(<span class="st">&quot;514-791-8141&quot;</span>, phone)</span>
<span id="cb176-11"><a href="strings.html#cb176-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]          [,2]  [,3]  [,4] </span></span>
<span id="cb176-12"><a href="strings.html#cb176-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;514-791-814&quot; &quot;514&quot; &quot;791&quot; &quot;814&quot;</span></span></code></pre></div></li>
<li><p><code>dotall = TRUE</code> 를 하면 <code>.</code> 이 <code>\n</code> 을 포함한 모든 것에 매칭된다.</p></li>
</ul>
<p><code>regex()</code> 대신 사용할 수 있는 세 가지 함수가 있다.</p>
<ul>
<li><p><code>fixed()</code> 는 지정된 일련의 바이트와 정확히 매치한다. 이 함수는 모든 특수 정규표현식을 무시하고 매우 낮은 수준에서 동작한다. 이를 사용하여 복잡한 이스케이프를 피할 수 있으며 정규표현식보다 훨씬 속도가 빠르다. 다음의 소규모 벤치마크는 단순한 예시에 대해 약 3배 빠르다는 것을 보여준다.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="strings.html#cb177-1" aria-hidden="true" tabindex="-1"></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb177-2"><a href="strings.html#cb177-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">fixed =</span> <span class="fu">str_detect</span>(sentences, <span class="fu">fixed</span>(<span class="st">&quot;the&quot;</span>)),</span>
<span id="cb177-3"><a href="strings.html#cb177-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regex =</span> <span class="fu">str_detect</span>(sentences, <span class="st">&quot;the&quot;</span>),</span>
<span id="cb177-4"><a href="strings.html#cb177-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">times =</span> <span class="dv">20</span></span>
<span id="cb177-5"><a href="strings.html#cb177-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb177-6"><a href="strings.html#cb177-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Unit: microseconds</span></span>
<span id="cb177-7"><a href="strings.html#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   expr min  lq mean median  uq  max neval</span></span>
<span id="cb177-8"><a href="strings.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  fixed 131 136  355    141 170 4045    20</span></span>
<span id="cb177-9"><a href="strings.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  regex 459 462  479    465 481  610    20</span></span></code></pre></div>
<p><code>fixed()</code> 를 비영어에 사용할 때는 조심하라. 같은 문자를 나타내는 방법이 여러 가지이기 때문에 문제가 되는 경우가 많다. 예를 들어 ’á’를 정의하는 방법에는 두 가지가 있다. 즉, 단일한 문자로 하거나, ’a’와 악센트로 하는 방법이다.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="strings.html#cb178-1" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> <span class="st">&quot;\u00e1&quot;</span></span>
<span id="cb178-2"><a href="strings.html#cb178-2" aria-hidden="true" tabindex="-1"></a>a2 <span class="ot">&lt;-</span> <span class="st">&quot;a\u0301&quot;</span></span>
<span id="cb178-3"><a href="strings.html#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(a1, a2)</span>
<span id="cb178-4"><a href="strings.html#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;á&quot; &quot;á&quot;</span></span>
<span id="cb178-5"><a href="strings.html#cb178-5" aria-hidden="true" tabindex="-1"></a>a1 <span class="sc">==</span> a2</span>
<span id="cb178-6"><a href="strings.html#cb178-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>동일하게 렌더링하지만 다르게 정의되었기 때문에 <code>fixed()</code> 가 매치를 찾지 못한다. 대신, 인간의 문자 비교 규칙을 존중하는 <code>coll()</code> (아래에 정의됨)을 사용할 수 있다.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="strings.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(a1, <span class="fu">fixed</span>(a2))</span>
<span id="cb179-2"><a href="strings.html#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb179-3"><a href="strings.html#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(a1, <span class="fu">coll</span>(a2))</span>
<span id="cb179-4"><a href="strings.html#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div></li>
<li><p><code>coll()</code> 은 표준 정렬(collation) 규칙을 사용하여 문자열을 비교한다. 대소문자를 구분하지 않는(case-insensitive) 매치를 수행할 때 유용하다. <code>coll()</code> 은 문자 비교 규칙을 제어하는 로캘 파라미터를 취한다는 것을 주의해야 한다. 불행하게도 세계의 각 지역은 다른 규칙을 사용한다!</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="strings.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># That means you also need to be aware of the difference</span></span>
<span id="cb180-2"><a href="strings.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="co"># when doing case insensitive matches:</span></span>
<span id="cb180-3"><a href="strings.html#cb180-3" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;I&quot;</span>, <span class="st">&quot;İ&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;ı&quot;</span>)</span>
<span id="cb180-4"><a href="strings.html#cb180-4" aria-hidden="true" tabindex="-1"></a>i</span>
<span id="cb180-5"><a href="strings.html#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;I&quot; &quot;İ&quot; &quot;i&quot; &quot;ı&quot;</span></span>
<span id="cb180-6"><a href="strings.html#cb180-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-7"><a href="strings.html#cb180-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(i, <span class="fu">coll</span>(<span class="st">&quot;i&quot;</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb180-8"><a href="strings.html#cb180-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;I&quot; &quot;i&quot;</span></span>
<span id="cb180-9"><a href="strings.html#cb180-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(i, <span class="fu">coll</span>(<span class="st">&quot;i&quot;</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>, <span class="at">locale =</span> <span class="st">&quot;tr&quot;</span>))</span>
<span id="cb180-10"><a href="strings.html#cb180-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;İ&quot; &quot;i&quot;</span></span></code></pre></div>
<p><code>fixed()</code> 와 <code>regex()</code> 모두에 <code>ignore_case</code> 인수가 있지만, 로캘 선택을 허용하지는 않는다. 이들은 항상 기본 로캘을 사용한다. 다음 코드를 통해 이를 알아볼 수 있다. (<strong>stringi</strong> 에서 더 살펴보자)</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="strings.html#cb181-1" aria-hidden="true" tabindex="-1"></a>stringi<span class="sc">::</span><span class="fu">stri_locale_info</span>()</span>
<span id="cb181-2"><a href="strings.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Language</span></span>
<span id="cb181-3"><a href="strings.html#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;en&quot;</span></span>
<span id="cb181-4"><a href="strings.html#cb181-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb181-5"><a href="strings.html#cb181-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Country</span></span>
<span id="cb181-6"><a href="strings.html#cb181-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;US&quot;</span></span>
<span id="cb181-7"><a href="strings.html#cb181-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb181-8"><a href="strings.html#cb181-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Variant</span></span>
<span id="cb181-9"><a href="strings.html#cb181-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;&quot;</span></span>
<span id="cb181-10"><a href="strings.html#cb181-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb181-11"><a href="strings.html#cb181-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $Name</span></span>
<span id="cb181-12"><a href="strings.html#cb181-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;en_US&quot;</span></span></code></pre></div>
<p><code>coll()</code> 의 단점은 속도이다. 어느 문자가 같은지 인식하는 규칙이 복잡하기 때문에, <code>coll()</code> 은 <code>regex()</code> 와 <code>fixed()</code> 에 비해 상대적으로 느리다.</p></li>
<li><p><code>str_split()</code> 에서 보았듯이 <code>boundary()</code> 를 사용하여 경계를 매치할 수 있다. 다른 함수들과도 사용할 수 있다.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="strings.html#cb182-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;This is a sentence.&quot;</span></span>
<span id="cb182-2"><a href="strings.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(x, <span class="fu">boundary</span>(<span class="st">&quot;word&quot;</span>))</span></code></pre></div>
<div id="htmlwidget-155e8045a1b2ad4018ee" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-155e8045a1b2ad4018ee">{"x":{"html":"<ul>\n  <li><span class='match'>This<\/span> <span class='match'>is<\/span> <span class='match'>a<\/span> <span class='match'>sentence<\/span>.<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_extract_all(x, boundary("word"))
#> [[1]]
#> [1] "This"     "is"       "a"        "sentence"</li>
</ul>
<div id="연습문제-23" class="section level3" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p><code>regex()</code> vs <code>fixed()</code> 를 사용하여, 어떻게 <code>\</code> 를 포함하는 모든 문자열을 찾겠는가?</p></li>
<li><p><code>sentences</code> 에서 가장 자주 나오는 단어 다섯 가지는 무엇인가?</p></li>
</ol>
</div>
</div>
<div id="정규표현식의-기타-용도" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> 정규표현식의 기타 용도</h2>
<p>베이스R 의 다음의 두 함수도 정규표현식을 사용한다.</p>
<ul>
<li><p><code>apropos()</code> 는 전역 환경에서 사용할 수 있는 모든 객체를 검색한다. 함수의 이름을 기억할 수 없는 경우에 유용하다.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="strings.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apropos</span>(<span class="st">&quot;replace&quot;</span>)</span>
<span id="cb183-2"><a href="strings.html#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;%+replace%&quot;       &quot;replace&quot;          &quot;replace_na&quot;       &quot;setReplaceMethod&quot;</span></span>
<span id="cb183-3"><a href="strings.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] &quot;str_replace&quot;      &quot;str_replace_all&quot;  &quot;str_replace_na&quot;   &quot;theme_replace&quot;</span></span></code></pre></div></li>
<li><p><code>dir()</code> 은 디렉터리에 있는 모든 파일을 나열한다. <code>pattern</code> 인자는 정규표현식을 취해, 매치하는 파일 이름만 반환한다. 예를 들어 현재 디렉터리에 있는 모든 R마크다운 파일을 다음과 같이 찾을 수 있다.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="strings.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">dir</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.Rmd$&quot;</span>))</span>
<span id="cb184-2"><a href="strings.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;communicate-plots.Rmd&quot; &quot;communicate.Rmd&quot;       &quot;datetimes.Rmd&quot;        </span></span>
<span id="cb184-3"><a href="strings.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] &quot;EDA.Rmd&quot;               &quot;explore.Rmd&quot;           &quot;factors.Rmd&quot;</span></span></code></pre></div>
<p>(<code>*.Rmd</code> 같은 ’글로브(globs) 패턴’에 익숙한 경우, <code>glob2rx()</code> 를 사용하여 이를 정규표현식으로 변환할 수 있다.)</p></li>
</ul>
</div>
<div id="stringi" class="section level2" number="6.7">
<h2><span class="header-section-number">6.7</span> stringi</h2>
<p>stringr 은 <strong>stringi</strong> 패키지 기반으로 만들어졌다. <strong>stringr</strong> 은 학습할 때 유용한데, 왜냐하면 이 패키지는 자주 사용하는 문자열 조작 함수들을 다루기 위해 엄선된 최소한의 함수들만 보여주기 때문이다. 반면, <strong>stringi</strong> 는 전체를 포괄하도록 설계되었고, 필요한 거의 모든 함수를 포함한다. <strong>stringi</strong> 에는 250 개의 함수가 있지만, <strong>stringr</strong> 에는 49개가 있다.</p>
<p>stringr 에서 잘 안될 경우, <strong>stringi</strong> 에서 한 번 찾아보는 것이 좋다. 두 패키지는 매우 유사하게 동작하므로, <strong>stringr</strong> 에서 배운 것을 자연스럽게 활용할 수 있을 것이다. 주요 차이점은 접두사이다(<code>str_</code> 과 <code>stri_</code> ).</p>
<div id="연습문제-24" class="section level3" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p>다음을 수행하는 <strong>stringi</strong> 함수를 찾아라.</p></li>
<li><p>단어의 수를 계산.</p></li>
<li><p>중복 문자열을 찾음.</p></li>
<li><p>랜덤 텍스트를 생성.</p></li>
<li><p><code>stri_sort()</code> 에서 정렬에 사용할 언어를 어떻게 제어하겠는가?</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="relational-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="factors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/strings.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
