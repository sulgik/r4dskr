<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 데이터 변환 | R 을 활용한 데이터과학</title>
  <meta name="description" content="5 데이터 변환 | R 을 활용한 데이터과학" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5 데이터 변환 | R 을 활용한 데이터과학" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://sulgik.github.io/r4ds/" />
  <meta property="og:image" content="https://sulgik.github.io/r4ds//cover.png" />
  
  <meta name="github-repo" content="sulgik/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 데이터 변환 | R 을 활용한 데이터과학" />
  <meta name="twitter:site" content="@sulgik" />
  
  <meta name="twitter:image" content="https://sulgik.github.io/r4ds//cover.png" />

<meta name="author" content="해들리 위컴" />
<meta name="author" content="개럿 그롤문드" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="워크플로우-기초.html"/>
<link rel="next" href="data-tidy.html"/>
<script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>환영합니다</a></li>
<li class="chapter" data-level="1" data-path="서문.html"><a href="서문.html"><i class="fa fa-check"></i><b>1</b> 서문</a><ul>
<li class="chapter" data-level="1.1" data-path="서문.html"><a href="서문.html#무엇을-배우게-될까"><i class="fa fa-check"></i><b>1.1</b> 무엇을 배우게 될까</a></li>
<li class="chapter" data-level="1.2" data-path="서문.html"><a href="서문.html#이-책의-구성"><i class="fa fa-check"></i><b>1.2</b> 이 책의 구성</a></li>
<li class="chapter" data-level="1.3" data-path="서문.html"><a href="서문.html#배우지-않는-것"><i class="fa fa-check"></i><b>1.3</b> 배우지 않는 것</a><ul>
<li class="chapter" data-level="1.3.1" data-path="서문.html"><a href="서문.html#빅데이터"><i class="fa fa-check"></i><b>1.3.1</b> 빅데이터</a></li>
<li class="chapter" data-level="1.3.2" data-path="서문.html"><a href="서문.html#python-julia"><i class="fa fa-check"></i><b>1.3.2</b> Python, Julia</a></li>
<li class="chapter" data-level="1.3.3" data-path="서문.html"><a href="서문.html#비직사각형-데이터"><i class="fa fa-check"></i><b>1.3.3</b> 비직사각형 데이터</a></li>
<li class="chapter" data-level="1.3.4" data-path="서문.html"><a href="서문.html#가설-확인"><i class="fa fa-check"></i><b>1.3.4</b> 가설 확인</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="서문.html"><a href="서문.html#준비하기"><i class="fa fa-check"></i><b>1.4</b> 준비하기</a><ul>
<li class="chapter" data-level="1.4.1" data-path="서문.html"><a href="서문.html#r"><i class="fa fa-check"></i><b>1.4.1</b> R</a></li>
<li class="chapter" data-level="1.4.2" data-path="서문.html"><a href="서문.html#rstudio"><i class="fa fa-check"></i><b>1.4.2</b> RStudio</a></li>
<li class="chapter" data-level="1.4.3" data-path="서문.html"><a href="서문.html#tidyverse"><i class="fa fa-check"></i><b>1.4.3</b> Tidyverse</a></li>
<li class="chapter" data-level="1.4.4" data-path="서문.html"><a href="서문.html#기타-패키지들"><i class="fa fa-check"></i><b>1.4.4</b> 기타 패키지들</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="서문.html"><a href="서문.html#r-코드-실행하기"><i class="fa fa-check"></i><b>1.5</b> R 코드 실행하기</a></li>
<li class="chapter" data-level="1.6" data-path="서문.html"><a href="서문.html#도움받기-더-배우기"><i class="fa fa-check"></i><b>1.6</b> 도움받기, 더 배우기</a></li>
<li class="chapter" data-level="1.7" data-path="서문.html"><a href="서문.html#acknowledgements"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="서문.html"><a href="서문.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I 탐색하기</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> 소개</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> 데이터 시각화</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#들어가기"><i class="fa fa-check"></i><b>3.1</b> 들어가기</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-visualisation.html"><a href="data-visualisation.html#준비하기-1"><i class="fa fa-check"></i><b>3.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#첫-단계"><i class="fa fa-check"></i><b>3.2</b> 첫 단계</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#mpg-데이터프레임"><i class="fa fa-check"></i><b>3.2.1</b> <code>mpg</code> 데이터프레임</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#ggplot-생성하기"><i class="fa fa-check"></i><b>3.2.2</b> ggplot 생성하기</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#그래프-작성-템플릿"><i class="fa fa-check"></i><b>3.2.3</b> 그래프 작성 템플릿</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#연습문제"><i class="fa fa-check"></i><b>3.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#심미성-매핑"><i class="fa fa-check"></i><b>3.3</b> 심미성 매핑</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a><ul>
<li class="chapter" data-level="3.5.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-1"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a><ul>
<li class="chapter" data-level="3.6.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-2"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#통계적-변환"><i class="fa fa-check"></i><b>3.7</b> 통계적 변환</a><ul>
<li class="chapter" data-level="3.7.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-3"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a><ul>
<li class="chapter" data-level="3.8.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-4"><i class="fa fa-check"></i><b>3.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems</a><ul>
<li class="chapter" data-level="3.9.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-5"><i class="fa fa-check"></i><b>3.9.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html"><i class="fa fa-check"></i><b>4</b> 워크플로우: 기초</a><ul>
<li class="chapter" data-level="4.1" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#코딩-기초"><i class="fa fa-check"></i><b>4.1</b> 코딩 기초</a></li>
<li class="chapter" data-level="4.2" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#이름짓기"><i class="fa fa-check"></i><b>4.2</b> 이름짓기</a></li>
<li class="chapter" data-level="4.3" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#함수-호출하기"><i class="fa fa-check"></i><b>4.3</b> 함수 호출하기</a></li>
<li class="chapter" data-level="4.4" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#연습문제-1"><i class="fa fa-check"></i><b>4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transform.html"><a href="data-transform.html"><i class="fa fa-check"></i><b>5</b> 데이터 변환</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transform.html"><a href="data-transform.html#들어가기-1"><i class="fa fa-check"></i><b>5.1</b> 들어가기</a><ul>
<li class="chapter" data-level="5.1.1" data-path="data-transform.html"><a href="data-transform.html#준비하기-2"><i class="fa fa-check"></i><b>5.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-transform.html"><a href="data-transform.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-transform.html"><a href="data-transform.html#dplyr-기초"><i class="fa fa-check"></i><b>5.1.3</b> dplyr 기초</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-transform.html"><a href="data-transform.html#행"><i class="fa fa-check"></i><b>5.2</b> 행</a><ul>
<li class="chapter" data-level="5.2.1" data-path="data-transform.html"><a href="data-transform.html#filter"><i class="fa fa-check"></i><b>5.2.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="data-transform.html"><a href="data-transform.html#arrange"><i class="fa fa-check"></i><b>5.2.2</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="data-transform.html"><a href="data-transform.html#exercises-6"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transform.html"><a href="data-transform.html#열"><i class="fa fa-check"></i><b>5.3</b> 열</a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-transform.html"><a href="data-transform.html#mutate"><i class="fa fa-check"></i><b>5.3.1</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transform.html"><a href="data-transform.html#select"><i class="fa fa-check"></i><b>5.3.2</b> <code>select()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data-transform.html"><a href="data-transform.html#rename"><i class="fa fa-check"></i><b>5.3.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="data-transform.html"><a href="data-transform.html#relocate"><i class="fa fa-check"></i><b>5.3.4</b> <code>relocate()</code></a></li>
<li class="chapter" data-level="5.3.5" data-path="data-transform.html"><a href="data-transform.html#exercises-7"><i class="fa fa-check"></i><b>5.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transform.html"><a href="data-transform.html#그룹"><i class="fa fa-check"></i><b>5.4</b> 그룹</a><ul>
<li class="chapter" data-level="5.4.1" data-path="data-transform.html"><a href="data-transform.html#group_by"><i class="fa fa-check"></i><b>5.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transform.html"><a href="data-transform.html#summarise"><i class="fa fa-check"></i><b>5.4.2</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transform.html"><a href="data-transform.html#다중-연산-결합하기"><i class="fa fa-check"></i><b>5.4.3</b> 다중 연산 결합하기</a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transform.html"><a href="data-transform.html#다중변수로-그룹화하기"><i class="fa fa-check"></i><b>5.4.4</b> 다중변수로 그룹화하기</a></li>
<li class="chapter" data-level="5.4.5" data-path="data-transform.html"><a href="data-transform.html#그룹화풀기-ungrouping"><i class="fa fa-check"></i><b>5.4.5</b> 그룹화풀기 (ungrouping)</a></li>
<li class="chapter" data-level="5.4.6" data-path="data-transform.html"><a href="data-transform.html#행-선택하기"><i class="fa fa-check"></i><b>5.4.6</b> 행 선택하기</a></li>
<li class="chapter" data-level="5.4.7" data-path="data-transform.html"><a href="data-transform.html#기타-동사들"><i class="fa fa-check"></i><b>5.4.7</b> 기타 동사들</a></li>
<li class="chapter" data-level="5.4.8" data-path="data-transform.html"><a href="data-transform.html#exercises-8"><i class="fa fa-check"></i><b>5.4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transform.html"><a href="data-transform.html#케이스-스터디-집계aggregates-과-샘플사이즈"><i class="fa fa-check"></i><b>5.5</b> 케이스 스터디: 집계(aggregates) 과 샘플사이즈</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-tidy.html"><a href="data-tidy.html"><i class="fa fa-check"></i><b>6</b> 데이터 타이디하게 하기</a><ul>
<li class="chapter" data-level="6.1" data-path="data-tidy.html"><a href="data-tidy.html#들어가기-2"><i class="fa fa-check"></i><b>6.1</b> 들어가기</a><ul>
<li class="chapter" data-level="6.1.1" data-path="data-tidy.html"><a href="data-tidy.html#준비하기-3"><i class="fa fa-check"></i><b>6.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-tidy.html"><a href="data-tidy.html#tidy-data"><i class="fa fa-check"></i><b>6.2</b> Tidy Data</a><ul>
<li class="chapter" data-level="6.2.1" data-path="data-tidy.html"><a href="data-tidy.html#연습문제-2"><i class="fa fa-check"></i><b>6.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-tidy.html"><a href="data-tidy.html#피봇팅"><i class="fa fa-check"></i><b>6.3</b> 피봇팅</a><ul>
<li class="chapter" data-level="6.3.1" data-path="data-tidy.html"><a href="data-tidy.html#longer"><i class="fa fa-check"></i><b>6.3.1</b> Longer</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-tidy.html"><a href="data-tidy.html#wider"><i class="fa fa-check"></i><b>6.3.2</b> Wider</a></li>
<li class="chapter" data-level="6.3.3" data-path="data-tidy.html"><a href="data-tidy.html#연습문제-3"><i class="fa fa-check"></i><b>6.3.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-tidy.html"><a href="data-tidy.html#사례-연구"><i class="fa fa-check"></i><b>6.4</b> 사례 연구</a><ul>
<li class="chapter" data-level="6.4.1" data-path="data-tidy.html"><a href="data-tidy.html#연습문제-4"><i class="fa fa-check"></i><b>6.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-tidy.html"><a href="data-tidy.html#타이디하지-않은-데이터"><i class="fa fa-check"></i><b>6.5</b> 타이디하지 않은 데이터</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html"><i class="fa fa-check"></i><b>7</b> 워크플로우: 스크립트</a><ul>
<li class="chapter" data-level="7.1" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html#코드-실행하기"><i class="fa fa-check"></i><b>7.1</b> 코드 실행하기</a></li>
<li class="chapter" data-level="7.2" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html#rstudio-진단"><i class="fa fa-check"></i><b>7.2</b> RStudio 진단</a></li>
<li class="chapter" data-level="7.3" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html#exercises-9"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html"><i class="fa fa-check"></i><b>8</b> 탐색적 데이터 분석</a><ul>
<li class="chapter" data-level="8.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#들어가기-3"><i class="fa fa-check"></i><b>8.1</b> 들어가기</a><ul>
<li class="chapter" data-level="8.1.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#준비하기-4"><i class="fa fa-check"></i><b>8.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#질문"><i class="fa fa-check"></i><b>8.2</b> 질문</a></li>
<li class="chapter" data-level="8.3" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#변량-variation"><i class="fa fa-check"></i><b>8.3</b> 변량 (variation)</a><ul>
<li class="chapter" data-level="8.3.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#분포-시각화"><i class="fa fa-check"></i><b>8.3.1</b> 분포 시각화</a></li>
<li class="chapter" data-level="8.3.2" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#typical-values"><i class="fa fa-check"></i><b>8.3.2</b> Typical values</a></li>
<li class="chapter" data-level="8.3.3" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#unusual-values"><i class="fa fa-check"></i><b>8.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="8.3.4" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#exercises-10"><i class="fa fa-check"></i><b>8.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#missing-values-eda"><i class="fa fa-check"></i><b>8.4</b> Missing values</a><ul>
<li class="chapter" data-level="8.4.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#exercises-11"><i class="fa fa-check"></i><b>8.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#covariation"><i class="fa fa-check"></i><b>8.5</b> Covariation</a><ul>
<li class="chapter" data-level="8.5.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#cat-cont"><i class="fa fa-check"></i><b>8.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="8.5.2" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#two-categorical-variables"><i class="fa fa-check"></i><b>8.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="8.5.3" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#two-continuous-variables"><i class="fa fa-check"></i><b>8.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#patterns-and-models"><i class="fa fa-check"></i><b>8.6</b> Patterns and models</a></li>
<li class="chapter" data-level="8.7" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#ggplot2-calls"><i class="fa fa-check"></i><b>8.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="8.8" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#learning-more"><i class="fa fa-check"></i><b>8.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html"><i class="fa fa-check"></i><b>9</b> 워크플로우: 프로젝트</a><ul>
<li class="chapter" data-level="9.1" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#무엇이-리얼인가"><i class="fa fa-check"></i><b>9.1</b> 무엇이 리얼인가?</a></li>
<li class="chapter" data-level="9.2" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>9.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="9.3" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#paths-and-directories"><i class="fa fa-check"></i><b>9.3</b> Paths and directories</a></li>
<li class="chapter" data-level="9.4" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#rstudio-프로젝트"><i class="fa fa-check"></i><b>9.4</b> RStudio 프로젝트</a></li>
<li class="chapter" data-level="9.5" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#summary"><i class="fa fa-check"></i><b>9.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II 변환하기</b></span></li>
<li class="chapter" data-level="10" data-path="data-types-intro.html"><a href="data-types-intro.html"><i class="fa fa-check"></i><b>10</b> 들어가기</a></li>
<li class="chapter" data-level="11" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>11</b> 티블</a><ul>
<li class="chapter" data-level="11.1" data-path="tibbles.html"><a href="tibbles.html#들어가기-4"><i class="fa fa-check"></i><b>11.1</b> 들어가기</a><ul>
<li class="chapter" data-level="11.1.1" data-path="tibbles.html"><a href="tibbles.html#준비하기-5"><i class="fa fa-check"></i><b>11.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="tibbles.html"><a href="tibbles.html#tibble-생성하기"><i class="fa fa-check"></i><b>11.2</b> tibble 생성하기</a></li>
<li class="chapter" data-level="11.3" data-path="tibbles.html"><a href="tibbles.html#tibble-vs.-data.frame"><i class="fa fa-check"></i><b>11.3</b> Tibble vs. data.frame</a><ul>
<li class="chapter" data-level="11.3.1" data-path="tibbles.html"><a href="tibbles.html#화면출력"><i class="fa fa-check"></i><b>11.3.1</b> 화면출력</a></li>
<li class="chapter" data-level="11.3.2" data-path="tibbles.html"><a href="tibbles.html#서브셋하기"><i class="fa fa-check"></i><b>11.3.2</b> 서브셋하기</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="tibbles.html"><a href="tibbles.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>11.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="11.5" data-path="tibbles.html"><a href="tibbles.html#연습문제-5"><i class="fa fa-check"></i><b>11.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>12</b> 관계형 데이터</a><ul>
<li class="chapter" data-level="12.1" data-path="relational-data.html"><a href="relational-data.html#들어가기-5"><i class="fa fa-check"></i><b>12.1</b> 들어가기</a><ul>
<li class="chapter" data-level="12.1.1" data-path="relational-data.html"><a href="relational-data.html#준비하기-6"><i class="fa fa-check"></i><b>12.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>12.2</b> nycflights13</a><ul>
<li class="chapter" data-level="12.2.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-6"><i class="fa fa-check"></i><b>12.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="relational-data.html"><a href="relational-data.html#키"><i class="fa fa-check"></i><b>12.3</b> 키</a><ul>
<li class="chapter" data-level="12.3.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-7"><i class="fa fa-check"></i><b>12.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>12.4</b> 뮤테이팅 조인</a><ul>
<li class="chapter" data-level="12.4.1" data-path="relational-data.html"><a href="relational-data.html#조인-이해하기"><i class="fa fa-check"></i><b>12.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="12.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>12.4.2</b> 내부 조인</a></li>
<li class="chapter" data-level="12.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>12.4.3</b> 외부 조인</a></li>
<li class="chapter" data-level="12.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>12.4.4</b> 중복키</a></li>
<li class="chapter" data-level="12.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>12.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="12.4.6" data-path="relational-data.html"><a href="relational-data.html#연습문제-8"><i class="fa fa-check"></i><b>12.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="12.4.7" data-path="relational-data.html"><a href="relational-data.html#기타-구현"><i class="fa fa-check"></i><b>12.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>12.5</b> 필터링 조인</a><ul>
<li class="chapter" data-level="12.5.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-9"><i class="fa fa-check"></i><b>12.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="relational-data.html"><a href="relational-data.html#조인-문제"><i class="fa fa-check"></i><b>12.6</b> 조인 문제</a></li>
<li class="chapter" data-level="12.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>12.7</b> 집합 연산</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>13</b> 결측값</a><ul>
<li class="chapter" data-level="13.1" data-path="missing-values.html"><a href="missing-values.html#들어가기-6"><i class="fa fa-check"></i><b>13.1</b> 들어가기</a></li>
<li class="chapter" data-level="13.2" data-path="missing-values.html"><a href="missing-values.html#기초"><i class="fa fa-check"></i><b>13.2</b> 기초</a><ul>
<li class="chapter" data-level="13.2.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-filter"><i class="fa fa-check"></i><b>13.2.1</b> 결측값</a></li>
<li class="chapter" data-level="13.2.2" data-path="missing-values.html"><a href="missing-values.html#exercises-15"><i class="fa fa-check"></i><b>13.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="missing-values.html"><a href="missing-values.html#missing-values-tidy"><i class="fa fa-check"></i><b>13.3</b> 명시적 vs 암묵적 결측값</a><ul>
<li class="chapter" data-level="13.3.1" data-path="missing-values.html"><a href="missing-values.html#exercises-16"><i class="fa fa-check"></i><b>13.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="missing-values.html"><a href="missing-values.html#dplyr-verbs"><i class="fa fa-check"></i><b>13.4</b> dplyr verbs</a></li>
<li class="chapter" data-level="13.5" data-path="missing-values.html"><a href="missing-values.html#exercises-17"><i class="fa fa-check"></i><b>13.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>14</b> 문자열</a><ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#들어가기-7"><i class="fa fa-check"></i><b>14.1</b> 들어가기</a><ul>
<li class="chapter" data-level="14.1.1" data-path="strings.html"><a href="strings.html#준비하기-7"><i class="fa fa-check"></i><b>14.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="strings.html"><a href="strings.html#strings-basics"><i class="fa fa-check"></i><b>14.2</b> 문자열 기초</a><ul>
<li class="chapter" data-level="14.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>14.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="14.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>14.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="14.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>14.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="14.2.4" data-path="strings.html"><a href="strings.html#로캘"><i class="fa fa-check"></i><b>14.2.4</b> 로캘</a></li>
<li class="chapter" data-level="14.2.5" data-path="strings.html"><a href="strings.html#연습문제-10"><i class="fa fa-check"></i><b>14.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings.html"><a href="strings.html#정규표현식을-이용한-패턴-매칭"><i class="fa fa-check"></i><b>14.3</b> 정규표현식을 이용한 패턴 매칭</a><ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#기초-매칭"><i class="fa fa-check"></i><b>14.3.1</b> 기초 매칭</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>14.3.2</b> 앵커</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>14.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>14.3.4</b> 반복</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>14.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="strings.html"><a href="strings.html#도구"><i class="fa fa-check"></i><b>14.4</b> 도구</a><ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>14.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>14.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="14.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>14.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="14.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>14.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="14.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>14.4.5</b> Splitting</a></li>
<li class="chapter" data-level="14.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>14.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="strings.html"><a href="strings.html#기타-패턴-유형"><i class="fa fa-check"></i><b>14.5</b> 기타 패턴 유형</a><ul>
<li class="chapter" data-level="14.5.1" data-path="strings.html"><a href="strings.html#연습문제-21"><i class="fa fa-check"></i><b>14.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="strings.html"><a href="strings.html#정규표현식의-기타-용도"><i class="fa fa-check"></i><b>14.6</b> 정규표현식의 기타 용도</a></li>
<li class="chapter" data-level="14.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>14.7</b> stringi</a><ul>
<li class="chapter" data-level="14.7.1" data-path="strings.html"><a href="strings.html#연습문제-22"><i class="fa fa-check"></i><b>14.7.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>15</b> 팩터형</a><ul>
<li class="chapter" data-level="15.1" data-path="factors.html"><a href="factors.html#들어가기-8"><i class="fa fa-check"></i><b>15.1</b> 들어가기</a><ul>
<li class="chapter" data-level="15.1.1" data-path="factors.html"><a href="factors.html#준비하기-8"><i class="fa fa-check"></i><b>15.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="15.1.2" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>15.1.2</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="factors.html"><a href="factors.html#팩터형-생성하기"><i class="fa fa-check"></i><b>15.2</b> 팩터형 생성하기</a></li>
<li class="chapter" data-level="15.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>15.3</b> General Social Survey</a><ul>
<li class="chapter" data-level="15.3.1" data-path="factors.html"><a href="factors.html#연습문제-23"><i class="fa fa-check"></i><b>15.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="factors.html"><a href="factors.html#팩터-순서-수정하기"><i class="fa fa-check"></i><b>15.4</b> 팩터 순서 수정하기</a><ul>
<li class="chapter" data-level="15.4.1" data-path="factors.html"><a href="factors.html#연습문제-24"><i class="fa fa-check"></i><b>15.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="factors.html"><a href="factors.html#팩터-레벨-수정하기"><i class="fa fa-check"></i><b>15.5</b> 팩터 레벨 수정하기</a><ul>
<li class="chapter" data-level="15.5.1" data-path="factors.html"><a href="factors.html#연습문제-25"><i class="fa fa-check"></i><b>15.5.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>16</b> 날짜와 시간</a><ul>
<li class="chapter" data-level="16.1" data-path="dates-and-times.html"><a href="dates-and-times.html#들어가기-9"><i class="fa fa-check"></i><b>16.1</b> 들어가기</a><ul>
<li class="chapter" data-level="16.1.1" data-path="dates-and-times.html"><a href="dates-and-times.html#준비하기-9"><i class="fa fa-check"></i><b>16.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="dates-and-times.html"><a href="dates-and-times.html#날짜시간-생성하기"><i class="fa fa-check"></i><b>16.2</b> 날짜/시간 생성하기</a><ul>
<li class="chapter" data-level="16.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#문자열에서-생성"><i class="fa fa-check"></i><b>16.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="16.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#개별-구성요소에서-생성"><i class="fa fa-check"></i><b>16.2.2</b> 개별 구성요소에서 생성</a></li>
<li class="chapter" data-level="16.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>16.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="16.2.4" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-26"><i class="fa fa-check"></i><b>16.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="dates-and-times.html"><a href="dates-and-times.html#데이트-타임형-구성요소"><i class="fa fa-check"></i><b>16.3</b> 데이트-타임형 구성요소</a><ul>
<li class="chapter" data-level="16.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-가져오기"><i class="fa fa-check"></i><b>16.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="16.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#반올림"><i class="fa fa-check"></i><b>16.3.2</b> 반올림</a></li>
<li class="chapter" data-level="16.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-설정"><i class="fa fa-check"></i><b>16.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="16.3.4" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-27"><i class="fa fa-check"></i><b>16.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="dates-and-times.html"><a href="dates-and-times.html#시간-범위"><i class="fa fa-check"></i><b>16.4</b> 시간 범위</a><ul>
<li class="chapter" data-level="16.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#듀레이션형"><i class="fa fa-check"></i><b>16.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="16.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#피리어드형"><i class="fa fa-check"></i><b>16.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="16.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#인터벌형"><i class="fa fa-check"></i><b>16.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="16.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#요약"><i class="fa fa-check"></i><b>16.4.4</b> 요약</a></li>
<li class="chapter" data-level="16.4.5" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-28"><i class="fa fa-check"></i><b>16.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>16.5</b> 시간대</a></li>
</ul></li>
<li class="part"><span><b>III 불러오기</b></span></li>
<li class="chapter" data-level="17" data-path="import-intro.html"><a href="import-intro.html"><i class="fa fa-check"></i><b>17</b> 들어가기</a></li>
<li class="chapter" data-level="18" data-path="import-rectangular.html"><a href="import-rectangular.html"><i class="fa fa-check"></i><b>18</b> 직사각형 데이터</a><ul>
<li class="chapter" data-level="18.1" data-path="import-rectangular.html"><a href="import-rectangular.html#벡터-파싱하기"><i class="fa fa-check"></i><b>18.1</b> 벡터 파싱하기</a><ul>
<li class="chapter" data-level="18.1.1" data-path="import-rectangular.html"><a href="import-rectangular.html#숫자"><i class="fa fa-check"></i><b>18.1.1</b> 숫자</a></li>
<li class="chapter" data-level="18.1.2" data-path="import-rectangular.html"><a href="import-rectangular.html#readr-strings"><i class="fa fa-check"></i><b>18.1.2</b> 문자열</a></li>
<li class="chapter" data-level="18.1.3" data-path="import-rectangular.html"><a href="import-rectangular.html#readr-factors"><i class="fa fa-check"></i><b>18.1.3</b> 팩터형</a></li>
<li class="chapter" data-level="18.1.4" data-path="import-rectangular.html"><a href="import-rectangular.html#readr-datetimes"><i class="fa fa-check"></i><b>18.1.4</b> 데이트형, 데이트-타임형, 타임형</a></li>
<li class="chapter" data-level="18.1.5" data-path="import-rectangular.html"><a href="import-rectangular.html#연습문제-29"><i class="fa fa-check"></i><b>18.1.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="import-rectangular.html"><a href="import-rectangular.html#파일-파싱하기"><i class="fa fa-check"></i><b>18.2</b> 파일 파싱하기</a><ul>
<li class="chapter" data-level="18.2.1" data-path="import-rectangular.html"><a href="import-rectangular.html#전략"><i class="fa fa-check"></i><b>18.2.1</b> 전략</a></li>
<li class="chapter" data-level="18.2.2" data-path="import-rectangular.html"><a href="import-rectangular.html#문제점"><i class="fa fa-check"></i><b>18.2.2</b> 문제점</a></li>
<li class="chapter" data-level="18.2.3" data-path="import-rectangular.html"><a href="import-rectangular.html#기타-전략"><i class="fa fa-check"></i><b>18.2.3</b> 기타 전략</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html"><i class="fa fa-check"></i><b>19</b> 스프레드시트</a><ul>
<li class="chapter" data-level="19.1" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#들어가기-10"><i class="fa fa-check"></i><b>19.1</b> 들어가기</a></li>
<li class="chapter" data-level="19.2" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#엑셀"><i class="fa fa-check"></i><b>19.2</b> 엑셀</a><ul>
<li class="chapter" data-level="19.2.1" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#준비하기-10"><i class="fa fa-check"></i><b>19.2.1</b> 준비하기</a></li>
<li class="chapter" data-level="19.2.2" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#시작하기"><i class="fa fa-check"></i><b>19.2.2</b> 시작하기</a></li>
<li class="chapter" data-level="19.2.3" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#스프레드시트-읽어오기"><i class="fa fa-check"></i><b>19.2.3</b> 스프레드시트 읽어오기</a></li>
<li class="chapter" data-level="19.2.4" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#개별-시트-읽어오기"><i class="fa fa-check"></i><b>19.2.4</b> 개별 시트 읽어오기</a></li>
<li class="chapter" data-level="19.2.5" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#reading-part-of-a-sheet"><i class="fa fa-check"></i><b>19.2.5</b> Reading part of a sheet</a></li>
<li class="chapter" data-level="19.2.6" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#data-types"><i class="fa fa-check"></i><b>19.2.6</b> Data types</a></li>
<li class="chapter" data-level="19.2.7" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#data-not-in-cell-values"><i class="fa fa-check"></i><b>19.2.7</b> Data not in cell values</a></li>
<li class="chapter" data-level="19.2.8" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#writing-to-excel"><i class="fa fa-check"></i><b>19.2.8</b> Writing to Excel</a></li>
<li class="chapter" data-level="19.2.9" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#formatted-output"><i class="fa fa-check"></i><b>19.2.9</b> Formatted output</a></li>
<li class="chapter" data-level="19.2.10" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#exercises-18"><i class="fa fa-check"></i><b>19.2.10</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV 프로그래밍</b></span></li>
<li class="chapter" data-level="20" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>20</b> 소개</a><ul>
<li class="chapter" data-level="20.1" data-path="program-intro.html"><a href="program-intro.html#learning-more-1"><i class="fa fa-check"></i><b>20.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="Pipes.html"><a href="Pipes.html"><i class="fa fa-check"></i><b>21</b> 파이프</a><ul>
<li class="chapter" data-level="21.1" data-path="Pipes.html"><a href="Pipes.html#들어가기-11"><i class="fa fa-check"></i><b>21.1</b> 들어가기</a><ul>
<li class="chapter" data-level="21.1.1" data-path="Pipes.html"><a href="Pipes.html#준비하기-11"><i class="fa fa-check"></i><b>21.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="Pipes.html"><a href="Pipes.html#파이프-대안"><i class="fa fa-check"></i><b>21.2</b> 파이프 대안</a><ul>
<li class="chapter" data-level="21.2.1" data-path="Pipes.html"><a href="Pipes.html#중간단계-이용"><i class="fa fa-check"></i><b>21.2.1</b> 중간단계 이용</a></li>
<li class="chapter" data-level="21.2.2" data-path="Pipes.html"><a href="Pipes.html#원본-덮어쓰기"><i class="fa fa-check"></i><b>21.2.2</b> 원본 덮어쓰기</a></li>
<li class="chapter" data-level="21.2.3" data-path="Pipes.html"><a href="Pipes.html#함수-작성"><i class="fa fa-check"></i><b>21.2.3</b> 함수 작성</a></li>
<li class="chapter" data-level="21.2.4" data-path="Pipes.html"><a href="Pipes.html#파이프-사용"><i class="fa fa-check"></i><b>21.2.4</b> 파이프 사용</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="Pipes.html"><a href="Pipes.html#파이프를-사용하지-않아야-할-경우"><i class="fa fa-check"></i><b>21.3</b> 파이프를 사용하지 않아야 할 경우</a></li>
<li class="chapter" data-level="21.4" data-path="Pipes.html"><a href="Pipes.html#magrittr-의-기타-도구"><i class="fa fa-check"></i><b>21.4</b> magrittr 의 기타 도구</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>22</b> 함수</a><ul>
<li class="chapter" data-level="22.1" data-path="functions.html"><a href="functions.html#들어가기-12"><i class="fa fa-check"></i><b>22.1</b> 들어가기</a><ul>
<li class="chapter" data-level="22.1.1" data-path="functions.html"><a href="functions.html#준비하기-12"><i class="fa fa-check"></i><b>22.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="functions.html"><a href="functions.html#함수를-언제-작성해야-하나"><i class="fa fa-check"></i><b>22.2</b> 함수를 언제 작성해야 하나?</a><ul>
<li class="chapter" data-level="22.2.1" data-path="functions.html"><a href="functions.html#연습문제-30"><i class="fa fa-check"></i><b>22.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="functions.html"><a href="functions.html#함수는-사람과-컴퓨터를-위한-것"><i class="fa fa-check"></i><b>22.3</b> 함수는 사람과 컴퓨터를 위한 것</a><ul>
<li class="chapter" data-level="22.3.1" data-path="functions.html"><a href="functions.html#연습문제-31"><i class="fa fa-check"></i><b>22.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="functions.html"><a href="functions.html#조건부-실행"><i class="fa fa-check"></i><b>22.4</b> 조건부 실행</a><ul>
<li class="chapter" data-level="22.4.1" data-path="functions.html"><a href="functions.html#조건문"><i class="fa fa-check"></i><b>22.4.1</b> 조건문</a></li>
<li class="chapter" data-level="22.4.2" data-path="functions.html"><a href="functions.html#다중-조건"><i class="fa fa-check"></i><b>22.4.2</b> 다중 조건</a></li>
<li class="chapter" data-level="22.4.3" data-path="functions.html"><a href="functions.html#코드-스타일"><i class="fa fa-check"></i><b>22.4.3</b> 코드 스타일</a></li>
<li class="chapter" data-level="22.4.4" data-path="functions.html"><a href="functions.html#연습문제-32"><i class="fa fa-check"></i><b>22.4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="functions.html"><a href="functions.html#함수-인수"><i class="fa fa-check"></i><b>22.5</b> 함수 인수</a><ul>
<li class="chapter" data-level="22.5.1" data-path="functions.html"><a href="functions.html#이름-정하기"><i class="fa fa-check"></i><b>22.5.1</b> 이름 정하기</a></li>
<li class="chapter" data-level="22.5.2" data-path="functions.html"><a href="functions.html#값-확인하기"><i class="fa fa-check"></i><b>22.5.2</b> 값 확인하기</a></li>
<li class="chapter" data-level="22.5.3" data-path="functions.html"><a href="functions.html#점-점-점"><i class="fa fa-check"></i><b>22.5.3</b> 점-점-점 (…)</a></li>
<li class="chapter" data-level="22.5.4" data-path="functions.html"><a href="functions.html#지연-평가"><i class="fa fa-check"></i><b>22.5.4</b> 지연 평가</a></li>
<li class="chapter" data-level="22.5.5" data-path="functions.html"><a href="functions.html#연습문제-33"><i class="fa fa-check"></i><b>22.5.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="functions.html"><a href="functions.html#반환값"><i class="fa fa-check"></i><b>22.6</b> 반환값</a><ul>
<li class="chapter" data-level="22.6.1" data-path="functions.html"><a href="functions.html#명시적-반환문"><i class="fa fa-check"></i><b>22.6.1</b> 명시적 반환문</a></li>
<li class="chapter" data-level="22.6.2" data-path="functions.html"><a href="functions.html#파이핑-가능한-함수-작성하기"><i class="fa fa-check"></i><b>22.6.2</b> 파이핑 가능한 함수 작성하기</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="functions.html"><a href="functions.html#환경"><i class="fa fa-check"></i><b>22.7</b> 환경</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>23</b> 벡터</a><ul>
<li class="chapter" data-level="23.1" data-path="vectors.html"><a href="vectors.html#들어가기-13"><i class="fa fa-check"></i><b>23.1</b> 들어가기</a><ul>
<li class="chapter" data-level="23.1.1" data-path="vectors.html"><a href="vectors.html#준비하기-13"><i class="fa fa-check"></i><b>23.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="vectors.html"><a href="vectors.html#벡터-기본-사항"><i class="fa fa-check"></i><b>23.2</b> 벡터 기본 사항</a></li>
<li class="chapter" data-level="23.3" data-path="vectors.html"><a href="vectors.html#원자-벡터의-주요-유형"><i class="fa fa-check"></i><b>23.3</b> 원자 벡터의 주요 유형</a><ul>
<li class="chapter" data-level="23.3.1" data-path="vectors.html"><a href="vectors.html#논리형"><i class="fa fa-check"></i><b>23.3.1</b> 논리형</a></li>
<li class="chapter" data-level="23.3.2" data-path="vectors.html"><a href="vectors.html#수치형"><i class="fa fa-check"></i><b>23.3.2</b> 수치형</a></li>
<li class="chapter" data-level="23.3.3" data-path="vectors.html"><a href="vectors.html#문자형"><i class="fa fa-check"></i><b>23.3.3</b> 문자형</a></li>
<li class="chapter" data-level="23.3.4" data-path="vectors.html"><a href="vectors.html#결측값"><i class="fa fa-check"></i><b>23.3.4</b> 결측값</a></li>
<li class="chapter" data-level="23.3.5" data-path="vectors.html"><a href="vectors.html#연습문제-34"><i class="fa fa-check"></i><b>23.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="vectors.html"><a href="vectors.html#원자벡터-이용하기"><i class="fa fa-check"></i><b>23.4</b> 원자벡터 이용하기</a><ul>
<li class="chapter" data-level="23.4.1" data-path="vectors.html"><a href="vectors.html#강제변환"><i class="fa fa-check"></i><b>23.4.1</b> 강제변환</a></li>
<li class="chapter" data-level="23.4.2" data-path="vectors.html"><a href="vectors.html#테스트-함수"><i class="fa fa-check"></i><b>23.4.2</b> 테스트 함수</a></li>
<li class="chapter" data-level="23.4.3" data-path="vectors.html"><a href="vectors.html#스칼라와-재활용-규칙"><i class="fa fa-check"></i><b>23.4.3</b> 스칼라와 재활용 규칙</a></li>
<li class="chapter" data-level="23.4.4" data-path="vectors.html"><a href="vectors.html#벡터-이름-짓기"><i class="fa fa-check"></i><b>23.4.4</b> 벡터 이름 짓기</a></li>
<li class="chapter" data-level="23.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>23.4.5</b> 서브셋하기</a></li>
<li class="chapter" data-level="23.4.6" data-path="vectors.html"><a href="vectors.html#연습문제-35"><i class="fa fa-check"></i><b>23.4.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>23.5</b> 재귀 벡터 (리스트)</a><ul>
<li class="chapter" data-level="23.5.1" data-path="vectors.html"><a href="vectors.html#리스트-시각화"><i class="fa fa-check"></i><b>23.5.1</b> 리스트 시각화</a></li>
<li class="chapter" data-level="23.5.2" data-path="vectors.html"><a href="vectors.html#서브셋하기-1"><i class="fa fa-check"></i><b>23.5.2</b> 서브셋하기</a></li>
<li class="chapter" data-level="23.5.3" data-path="vectors.html"><a href="vectors.html#후추-리스트"><i class="fa fa-check"></i><b>23.5.3</b> 후추 리스트</a></li>
<li class="chapter" data-level="23.5.4" data-path="vectors.html"><a href="vectors.html#exercises-19"><i class="fa fa-check"></i><b>23.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="23.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>23.6</b> Attributes</a></li>
<li class="chapter" data-level="23.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>23.7</b> Augmented vectors</a><ul>
<li class="chapter" data-level="23.7.1" data-path="vectors.html"><a href="vectors.html#factors-1"><i class="fa fa-check"></i><b>23.7.1</b> Factors</a></li>
<li class="chapter" data-level="23.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>23.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="23.7.3" data-path="vectors.html"><a href="vectors.html#tibbles-1"><i class="fa fa-check"></i><b>23.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="23.7.4" data-path="vectors.html"><a href="vectors.html#exercises-20"><i class="fa fa-check"></i><b>23.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>24</b> 반복</a><ul>
<li class="chapter" data-level="24.1" data-path="iteration.html"><a href="iteration.html#들어가기-14"><i class="fa fa-check"></i><b>24.1</b> 들어가기</a><ul>
<li class="chapter" data-level="24.1.1" data-path="iteration.html"><a href="iteration.html#준비하기-14"><i class="fa fa-check"></i><b>24.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="iteration.html"><a href="iteration.html#for-루프"><i class="fa fa-check"></i><b>24.2</b> For 루프</a><ul>
<li class="chapter" data-level="24.2.1" data-path="iteration.html"><a href="iteration.html#exercises-21"><i class="fa fa-check"></i><b>24.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>24.3</b> For loop variations</a><ul>
<li class="chapter" data-level="24.3.1" data-path="iteration.html"><a href="iteration.html#modifying-an-existing-object"><i class="fa fa-check"></i><b>24.3.1</b> Modifying an existing object</a></li>
<li class="chapter" data-level="24.3.2" data-path="iteration.html"><a href="iteration.html#looping-patterns"><i class="fa fa-check"></i><b>24.3.2</b> Looping patterns</a></li>
<li class="chapter" data-level="24.3.3" data-path="iteration.html"><a href="iteration.html#unknown-output-length"><i class="fa fa-check"></i><b>24.3.3</b> Unknown output length</a></li>
<li class="chapter" data-level="24.3.4" data-path="iteration.html"><a href="iteration.html#unknown-sequence-length"><i class="fa fa-check"></i><b>24.3.4</b> Unknown sequence length</a></li>
<li class="chapter" data-level="24.3.5" data-path="iteration.html"><a href="iteration.html#exercises-22"><i class="fa fa-check"></i><b>24.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>24.4</b> For loops vs. functionals</a><ul>
<li class="chapter" data-level="24.4.1" data-path="iteration.html"><a href="iteration.html#exercises-23"><i class="fa fa-check"></i><b>24.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>24.5</b> The map functions</a><ul>
<li class="chapter" data-level="24.5.1" data-path="iteration.html"><a href="iteration.html#단축어"><i class="fa fa-check"></i><b>24.5.1</b> 단축어</a></li>
<li class="chapter" data-level="24.5.2" data-path="iteration.html"><a href="iteration.html#base-r"><i class="fa fa-check"></i><b>24.5.2</b> Base R</a></li>
<li class="chapter" data-level="24.5.3" data-path="iteration.html"><a href="iteration.html#exercises-24"><i class="fa fa-check"></i><b>24.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>24.6</b> Dealing with failure</a></li>
<li class="chapter" data-level="24.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>24.7</b> Mapping over multiple arguments</a><ul>
<li class="chapter" data-level="24.7.1" data-path="iteration.html"><a href="iteration.html#invoking-different-functions"><i class="fa fa-check"></i><b>24.7.1</b> Invoking different functions</a></li>
</ul></li>
<li class="chapter" data-level="24.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>24.8</b> Walk</a></li>
<li class="chapter" data-level="24.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>24.9</b> Other patterns of for loops</a><ul>
<li class="chapter" data-level="24.9.1" data-path="iteration.html"><a href="iteration.html#predicate-functions"><i class="fa fa-check"></i><b>24.9.1</b> Predicate functions</a></li>
<li class="chapter" data-level="24.9.2" data-path="iteration.html"><a href="iteration.html#reduce-and-accumulate"><i class="fa fa-check"></i><b>24.9.2</b> Reduce and accumulate</a></li>
<li class="chapter" data-level="24.9.3" data-path="iteration.html"><a href="iteration.html#exercises-25"><i class="fa fa-check"></i><b>24.9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.10" data-path="iteration.html"><a href="iteration.html#case-study"><i class="fa fa-check"></i><b>24.10</b> Case study</a></li>
</ul></li>
<li class="part"><span><b>V 의사소통하기</b></span></li>
<li class="chapter" data-level="25" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>25</b> 소개</a></li>
<li class="chapter" data-level="26" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>26</b> R 마크다운</a><ul>
<li class="chapter" data-level="26.1" data-path="rmarkdown.html"><a href="rmarkdown.html#들어가기-15"><i class="fa fa-check"></i><b>26.1</b> 들어가기</a><ul>
<li class="chapter" data-level="26.1.1" data-path="rmarkdown.html"><a href="rmarkdown.html#준비하기-15"><i class="fa fa-check"></i><b>26.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="rmarkdown.html"><a href="rmarkdown.html#r-마크다운-기초"><i class="fa fa-check"></i><b>26.2</b> R 마크다운 기초</a><ul>
<li class="chapter" data-level="26.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#연습문제-36"><i class="fa fa-check"></i><b>26.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="rmarkdown.html"><a href="rmarkdown.html#마크다운으로-텍스트-서식-지정하기"><i class="fa fa-check"></i><b>26.3</b> 마크다운으로 텍스트 서식 지정하기</a><ul>
<li class="chapter" data-level="26.3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#연습문제-37"><i class="fa fa-check"></i><b>26.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="rmarkdown.html"><a href="rmarkdown.html#코드-청크"><i class="fa fa-check"></i><b>26.4</b> 코드 청크</a><ul>
<li class="chapter" data-level="26.4.1" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-이름"><i class="fa fa-check"></i><b>26.4.1</b> 청크 이름</a></li>
<li class="chapter" data-level="26.4.2" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-옵션"><i class="fa fa-check"></i><b>26.4.2</b> 청크 옵션</a></li>
<li class="chapter" data-level="26.4.3" data-path="rmarkdown.html"><a href="rmarkdown.html#표"><i class="fa fa-check"></i><b>26.4.3</b> 표</a></li>
<li class="chapter" data-level="26.4.4" data-path="rmarkdown.html"><a href="rmarkdown.html#캐싱"><i class="fa fa-check"></i><b>26.4.4</b> 캐싱</a></li>
<li class="chapter" data-level="26.4.5" data-path="rmarkdown.html"><a href="rmarkdown.html#전역-옵션"><i class="fa fa-check"></i><b>26.4.5</b> 전역 옵션</a></li>
<li class="chapter" data-level="26.4.6" data-path="rmarkdown.html"><a href="rmarkdown.html#inline-code"><i class="fa fa-check"></i><b>26.4.6</b> Inline code</a></li>
<li class="chapter" data-level="26.4.7" data-path="rmarkdown.html"><a href="rmarkdown.html#exercises-26"><i class="fa fa-check"></i><b>26.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="rmarkdown.html"><a href="rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>26.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="26.6" data-path="rmarkdown.html"><a href="rmarkdown.html#yaml-header"><i class="fa fa-check"></i><b>26.6</b> YAML header</a><ul>
<li class="chapter" data-level="26.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#parameters"><i class="fa fa-check"></i><b>26.6.1</b> Parameters</a></li>
<li class="chapter" data-level="26.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>26.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="26.7" data-path="rmarkdown.html"><a href="rmarkdown.html#learning-more-2"><i class="fa fa-check"></i><b>26.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>27</b> 그래프를 통한 의사소통</a><ul>
<li class="chapter" data-level="27.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#들어가기-16"><i class="fa fa-check"></i><b>27.1</b> 들어가기</a><ul>
<li class="chapter" data-level="27.1.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#준비하기-16"><i class="fa fa-check"></i><b>27.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>27.2</b> Label</a><ul>
<li class="chapter" data-level="27.2.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-27"><i class="fa fa-check"></i><b>27.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>27.3</b> Annotations</a><ul>
<li class="chapter" data-level="27.3.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-28"><i class="fa fa-check"></i><b>27.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>27.4</b> Scales</a><ul>
<li class="chapter" data-level="27.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>27.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="27.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>27.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="27.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>27.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="27.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-29"><i class="fa fa-check"></i><b>27.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>27.5</b> Zooming</a></li>
<li class="chapter" data-level="27.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>27.6</b> Themes</a></li>
<li class="chapter" data-level="27.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>27.7</b> Saving your plots</a><ul>
<li class="chapter" data-level="27.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>27.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="27.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>27.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="27.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-3"><i class="fa fa-check"></i><b>27.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html"><i class="fa fa-check"></i><b>28</b> R 마크다운 유형</a><ul>
<li class="chapter" data-level="28.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#들어가기-17"><i class="fa fa-check"></i><b>28.1</b> 들어가기</a></li>
<li class="chapter" data-level="28.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#출력-옵션"><i class="fa fa-check"></i><b>28.2</b> 출력 옵션</a></li>
<li class="chapter" data-level="28.3" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#document"><i class="fa fa-check"></i><b>28.3</b> Document</a></li>
<li class="chapter" data-level="28.4" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#notebook"><i class="fa fa-check"></i><b>28.4</b> Notebook</a></li>
<li class="chapter" data-level="28.5" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#presentation"><i class="fa fa-check"></i><b>28.5</b> Presentation</a></li>
<li class="chapter" data-level="28.6" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#dashboard"><i class="fa fa-check"></i><b>28.6</b> Dashboard</a></li>
<li class="chapter" data-level="28.7" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#대화형-동작"><i class="fa fa-check"></i><b>28.7</b> 대화형 동작</a><ul>
<li class="chapter" data-level="28.7.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>28.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="28.7.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#shiny"><i class="fa fa-check"></i><b>28.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="28.8" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#website"><i class="fa fa-check"></i><b>28.8</b> Website</a></li>
<li class="chapter" data-level="28.9" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#other-formats"><i class="fa fa-check"></i><b>28.9</b> Other formats</a></li>
<li class="chapter" data-level="28.10" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#더-배우기-1"><i class="fa fa-check"></i><b>28.10</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="rmarkdown-workflow.html"><a href="rmarkdown-workflow.html"><i class="fa fa-check"></i><b>29</b> R 마크다운 워크플로</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 을 활용한 데이터과학</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transform" class="section level1">
<h1><span class="header-section-number">5</span> 데이터 변환</h1>
<div id="들어가기-1" class="section level2">
<h2><span class="header-section-number">5.1</span> 들어가기</h2>
<p>시각화는 직관을 얻을 수 있는 중요한 도구이다. 하지만 데이터가 정확히 필요한 형태를 취하는 경우는 거의 없다. 데이터를 좀 더 쉽게 사용할 수 있도록 새로운 변수나 요약값을 만들어야 할 수도 있고, 아니면 변수 이름을 변경하거나
관측값들을 재정렬해야 되는 경우가 종종 있다. 이 장에서 이 모든 것(과 그 이상!)을 배울 것인데, dplyr 패키지와 2013년 뉴욕시 출발 항공편 데이터셋을 이용하여 데이터 변환 방법을 배워보자.</p>
<div id="준비하기-2" class="section level3">
<h3><span class="header-section-number">5.1.1</span> 준비하기</h3>
<p>이 장에서 우리는 tidyverse의 또 다른 핵심 구성원인 dplyr 패키지를 사용하는
법에 집중할 것이다. nycflights13 패키지의 데이터를 이용하여 핵심 아이디어를
배우고, ggplot2를 이용하여 데이터를 이해해볼 것이다.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-transform.html#cb68-1"></a><span class="kw">library</span>(nycflights13)</span>
<span id="cb68-2"><a href="data-transform.html#cb68-2"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb68-3"><a href="data-transform.html#cb68-3"></a><span class="co">#&gt; ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</span></span>
<span id="cb68-4"><a href="data-transform.html#cb68-4"></a><span class="co">#&gt; ✓ ggplot2 3.3.5     ✓ purrr   0.3.4</span></span>
<span id="cb68-5"><a href="data-transform.html#cb68-5"></a><span class="co">#&gt; ✓ tibble  3.1.5     ✓ dplyr   1.0.7</span></span>
<span id="cb68-6"><a href="data-transform.html#cb68-6"></a><span class="co">#&gt; ✓ tidyr   1.1.4     ✓ stringr 1.4.0</span></span>
<span id="cb68-7"><a href="data-transform.html#cb68-7"></a><span class="co">#&gt; ✓ readr   1.4.0     ✓ forcats 0.5.1</span></span>
<span id="cb68-8"><a href="data-transform.html#cb68-8"></a><span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span id="cb68-9"><a href="data-transform.html#cb68-9"></a><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></span>
<span id="cb68-10"><a href="data-transform.html#cb68-10"></a><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></span></code></pre></div>
<p>tidyverse를 로드할 때 출력되는 충돌 메시지를 조심히 살펴보라. dplyr이 베이스 R 함수 몇 개를 덮어쓴다고 알려준다. dplyr를 로딩한 후 이 함수들의 베이스
버전을 사용하고 싶다면 <code>stats::filter()</code>, <code>stats::lag()</code> 와 같이 전체 이름을
사용해야 한다.</p>
</div>
<div id="nycflights13" class="section level3">
<h3><span class="header-section-number">5.1.2</span> nycflights13</h3>
<p>dplyr의 기본 데이터 작업(manipulation) 동사를 탐색하기 위해서 <code>nycflights13::flights</code> 를 사용할 것이다. 이 데이터프레임에는 뉴욕시에서 2013년에 출발한
336,776 편의 모든 항공편이 포함되어 있다. 데이터의 출처는 <a href="http://www.transtats.bts.gov/DatabaseInfo.asp?DB_ID=120&amp;Link=0">Bureau of Transportation Statistics</a>이며 <code>?flights</code> 에 문서화되어 있다.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-transform.html#cb69-1"></a>flights</span>
<span id="cb69-2"><a href="data-transform.html#cb69-2"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb69-3"><a href="data-transform.html#cb69-3"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb69-4"><a href="data-transform.html#cb69-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb69-5"><a href="data-transform.html#cb69-5"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb69-6"><a href="data-transform.html#cb69-6"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb69-7"><a href="data-transform.html#cb69-7"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb69-8"><a href="data-transform.html#cb69-8"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb69-9"><a href="data-transform.html#cb69-9"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb69-10"><a href="data-transform.html#cb69-10"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb69-11"><a href="data-transform.html#cb69-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb69-12"><a href="data-transform.html#cb69-12"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb69-13"><a href="data-transform.html#cb69-13"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p>R 을 사용해본 독자라면 이 데이터프레임은 이전에 사용했던 데이터프레임과 조금 다르게 출력되는 것을 알아차렸을 것이다. 데이터가 <strong>티블(tibble)</strong> 이기 때문인데, tidyverse 팀에서 data.frame 의 불편한 점을 피하기 위해 고안한 특수한 종류의 데이터프레임이다.
가장 중요한 차이는 출력하는 방법에 있다. 티블은 큰 데이터셋을 위해 설계되었기 때문에 처음 몇 행과 한 화면에 들어갈 개수의 열만 표시된다.
데이터셋 전체를 보려면 <code>View(flights)</code> 를 실행하여 RStudio 뷰어에서 데이터셋을 열 수 있다.
다른 중요한 차이점들은 <a href="tibbles.html#tibbles">11</a> 장에서 살펴볼 것이다.</p>
<p>열 이름 아래의 세 글자(또는 네 글자) 줄임말 행을 봤을 것이다. 이는 각 변수의 유형을 설명한다.</p>
<ul>
<li><p><code>int</code> 는 정수(integer).</p></li>
<li><p><code>dbl</code> 은 더블형(double), 즉 실수.</p></li>
<li><p><code>chr</code> 는 문자형(character) 벡터.</p></li>
<li><p><code>dttm</code> 은 데이트-타임형(날짜 + 시간).</p></li>
</ul>
<p>이 데이터셋에서 사용되지 않은 세 가지 일반적인 변수 유형이 있는데 이 책 뒤에서 살펴볼 것이다.</p>
<ul>
<li><p><code>lgl</code> 은 <code>TRUE</code> 나 <code>FALSE</code> 만 포함하는 벡터인 논리형(logical).</p></li>
<li><p><code>fctr</code> 는 팩터형을 의미하는데, R 은 이를 이용하여 가능한 값이 미리 정해진 범주형 변수를 나타냄.</p></li>
<li><p><code>date</code> 는 데이트형.</p></li>
</ul>
</div>
<div id="dplyr-기초" class="section level3">
<h3><span class="header-section-number">5.1.3</span> dplyr 기초</h3>
<p>이 장에서는 데이터 작업 문제 대부분을 풀 수 있는 핵심 dplyr 동사들을 배울 것이다. 이러한 함수들은 네가지 종류로 정리할 수 있다:</p>
<ul>
<li><p><strong>행(rows)</strong> 에 작동하는 함수들: <code>filter()</code> 는 열의 값을 기준으로 행들을 서브셋하고, <code>slice()</code> 와 이웃함수들은 행의 위치를 기준으로 서브셋하고, <code>arrange()</code> 는 행의 순서를 바꾼다.</p></li>
<li><p><strong>열(columns)</strong> 에 작동하는 함수들: <code>mutate()</code> 는 새 열을 생성하고, <code>select()</code> 는 열을 선택하고, <code>rename()</code> 은 열의 이름을 바꾸고, <code>relocate()</code> 은 열의 위치를 바꾼다.</p></li>
<li><p><strong>그룹(groups)</strong> 에 작동하는 함수들: <code>group_by()</code> 는 분석을 위해 데이터를 그룹으로 나누고 <code>summarise()</code> 는 각 그룹을 하나의 행으로 요약한다.</p></li>
</ul>
<p>조인 함수나 집합연산과 같이 <strong>테이블(tables)</strong> 에 작동하는 동사들에 대해서도 <a href="relational-data.html#relational-data">12</a> 장에서 배울 것이다.</p>
<p>모든 dplyr 동사들은 비슷하게 작동한다:</p>
<ol style="list-style-type: decimal">
<li><p>첫번째 인수는 데이터프레임이다.</p></li>
<li><p>그 이후의 인수들은 (따옴표가 없는) 변수 이름을 사용하여 데이터프레임에
무엇을 할지를 설명한다.</p></li>
<li><p>겨로가는 새로운 데이터프레임이다.</p></li>
</ol>
<p>이 속성들을 함께 이용하면 여러 단순한 단계를 쉽게 연결하여 복잡한 결과를
얻을 수 있다. 이 동사들이 어떻게 작동하는지 좀 더 살펴보자.</p>
</div>
</div>
<div id="행" class="section level2">
<h2><span class="header-section-number">5.2</span> 행</h2>
<p>아래의 함수들은 행 (관측값들) 에 영향을 주지만 열 (변수들) 에는 변화를 주지 않는다.
<code>filter()</code> 는 순서를 변화시키지 않고 어떤 행이 포함될지를 결정하고, <code>arrange()</code> 는 멤버십을 변화시키지 않으면서 순서만 바꾼다.</p>
<div id="filter" class="section level3">
<h3><span class="header-section-number">5.2.1</span> <code>filter()</code></h3>
<p><code>filter()</code> 를 이용하면 값을 기준으로 데이터를 서브셋 할 수 있다<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.
첫 번째 인수는 데이터프레임 이름이다. 두 번째 이후의 인수들은 데이터프레임을 필터링하는
표현식들이다. 예를 들어 1월 1일 항공편 모두를 다음과 같이 선택할 수 있다.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-transform.html#cb70-1"></a><span class="kw">filter</span>(flights, month <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, day <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb70-2"><a href="data-transform.html#cb70-2"></a><span class="co">#&gt; # A tibble: 842 × 19</span></span>
<span id="cb70-3"><a href="data-transform.html#cb70-3"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb70-4"><a href="data-transform.html#cb70-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb70-5"><a href="data-transform.html#cb70-5"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb70-6"><a href="data-transform.html#cb70-6"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb70-7"><a href="data-transform.html#cb70-7"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb70-8"><a href="data-transform.html#cb70-8"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb70-9"><a href="data-transform.html#cb70-9"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb70-10"><a href="data-transform.html#cb70-10"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb70-11"><a href="data-transform.html#cb70-11"></a><span class="co">#&gt; # … with 836 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,</span></span>
<span id="cb70-12"><a href="data-transform.html#cb70-12"></a><span class="co">#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span></span>
<span id="cb70-13"><a href="data-transform.html#cb70-13"></a><span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p>해당 코드 라인을 실행하면 dplyr 은 필터링 연산을 실행하고 새로운 데이터프레임을 반환한다. dplyr 함수들은 입력을 절대 수정하지 않기 때문에, 결과를 저장하려면 할당 연산자 <code>&lt;-</code> 를 사용해야 한다.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-transform.html#cb71-1"></a>jan1 &lt;-<span class="st"> </span><span class="kw">filter</span>(flights, month <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, day <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<p>필터링을 효과적으로 사용하기 위해서는, 비교 연산자들을 사용하여 관측값을 선택하는 방법을 알아야한다.
R 은 표준 스위트를 제공한다: <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>!=</code> (not equal), and <code>==</code> (equal).
<code>%in%</code> 도 제공한다: <code>filter(df, x %in% c(a, b, c))</code> 는 <code>x</code> 가 <code>a</code> 이거나, <code>b</code> 이거나, <code>c</code> 인 모든 행을 반환한다.</p>
<p>R 을 배우기 시작할 때 가장 범하기 쉬운 실수는, 같음을 테스트할 때 <code>==</code> 대신 <code>=</code> 를 사용하는 것이다. 이런 실수를 하면 <code>filter()</code> 는 해당 내용을 알려준다.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-transform.html#cb72-1"></a><span class="kw">filter</span>(flights, <span class="dt">month =</span> <span class="dv">1</span>)</span>
<span id="cb72-2"><a href="data-transform.html#cb72-2"></a><span class="co">#&gt; Error: Problem with `filter()` input `..1`.</span></span>
<span id="cb72-3"><a href="data-transform.html#cb72-3"></a><span class="co">#&gt; x Input `..1` is named.</span></span>
<span id="cb72-4"><a href="data-transform.html#cb72-4"></a><span class="co">#&gt; ℹ This usually means that you&#39;ve used `=` instead of `==`.</span></span>
<span id="cb72-5"><a href="data-transform.html#cb72-5"></a><span class="co">#&gt; ℹ Did you mean `month == 1`?</span></span></code></pre></div>
</div>
<div id="arrange" class="section level3">
<h3><span class="header-section-number">5.2.2</span> <code>arrange()</code></h3>
<p><code>arrange()</code> 는 <code>filter()</code> 와 비슷하게 작동하는데, 차이점은 행을 선택하는 대신 행의 순서를 바꾼다.
데이터프레임과 순서의 기준으로 삼을 열 이름 (혹은 더 복잡한 표현식) 을 입력으로 한다.
열 이름이 하나 이상 입력된다면 추가된 열은 이전 열 값 동전값(tie) 상황을 해결하는 데에 사용된다.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-transform.html#cb73-1"></a><span class="kw">arrange</span>(flights, year, month, day)</span>
<span id="cb73-2"><a href="data-transform.html#cb73-2"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb73-3"><a href="data-transform.html#cb73-3"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb73-4"><a href="data-transform.html#cb73-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb73-5"><a href="data-transform.html#cb73-5"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb73-6"><a href="data-transform.html#cb73-6"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb73-7"><a href="data-transform.html#cb73-7"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb73-8"><a href="data-transform.html#cb73-8"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb73-9"><a href="data-transform.html#cb73-9"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb73-10"><a href="data-transform.html#cb73-10"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb73-11"><a href="data-transform.html#cb73-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb73-12"><a href="data-transform.html#cb73-12"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb73-13"><a href="data-transform.html#cb73-13"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p><code>desc()</code> 을 사용하면 내림차순 (descending order) 으로 정렬한다:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-transform.html#cb74-1"></a><span class="kw">arrange</span>(flights, <span class="kw">desc</span>(dep_delay))</span>
<span id="cb74-2"><a href="data-transform.html#cb74-2"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb74-3"><a href="data-transform.html#cb74-3"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb74-4"><a href="data-transform.html#cb74-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb74-5"><a href="data-transform.html#cb74-5"></a><span class="co">#&gt; 1  2013     1     9      641            900      1301     1242           1530</span></span>
<span id="cb74-6"><a href="data-transform.html#cb74-6"></a><span class="co">#&gt; 2  2013     6    15     1432           1935      1137     1607           2120</span></span>
<span id="cb74-7"><a href="data-transform.html#cb74-7"></a><span class="co">#&gt; 3  2013     1    10     1121           1635      1126     1239           1810</span></span>
<span id="cb74-8"><a href="data-transform.html#cb74-8"></a><span class="co">#&gt; 4  2013     9    20     1139           1845      1014     1457           2210</span></span>
<span id="cb74-9"><a href="data-transform.html#cb74-9"></a><span class="co">#&gt; 5  2013     7    22      845           1600      1005     1044           1815</span></span>
<span id="cb74-10"><a href="data-transform.html#cb74-10"></a><span class="co">#&gt; 6  2013     4    10     1100           1900       960     1342           2211</span></span>
<span id="cb74-11"><a href="data-transform.html#cb74-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb74-12"><a href="data-transform.html#cb74-12"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb74-13"><a href="data-transform.html#cb74-13"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
</div>
<div id="exercises-6" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Find all flights that</p>
<ol style="list-style-type: lower-alpha">
<li>Had an arrival delay of two or more hours</li>
<li>Flew to Houston (<code>IAH</code> or <code>HOU</code>)</li>
<li>Were operated by United, American, or Delta</li>
<li>Departed in summer (July, August, and September)</li>
<li>Arrived more than two hours late, but didn’t leave late</li>
</ol></li>
</ol>
<ol start="6" style="list-style-type: lower-alpha">
<li>Were delayed by at least an hour, but made up over 30 minutes in flight</li>
<li>Departed between midnight and 6am (inclusive)</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li><p>Sort <code>flights</code> to find the flights with longest departure delays.
Find the flights that left earliest.</p></li>
<li><p>Sort <code>flights</code> to find the fastest (highest speed) flights.
(Hint: try sorting by a calculation).</p></li>
<li><p>Which flights travelled the farthest?
Which travelled the shortest?</p></li>
</ol>
</div>
</div>
<div id="열" class="section level2">
<h2><span class="header-section-number">5.3</span> 열</h2>
<p>아래의 함수들은 열 (변수들) 에 영향을 주지만, 행 (관측값) 을 변환시키지는 않는다.
<code>mutate()</code> 는 존재하는 변수들의 함수인 새로운 변수들을 생성시킨다.; <code>select()</code>, <code>rename()</code>, <code>relocate()</code> 은 어떤 변수가 있어야하는지를 정하고, 변수이름과 위치를 변화시킨다.</p>
<div id="mutate" class="section level3">
<h3><span class="header-section-number">5.3.1</span> <code>mutate()</code></h3>
<p><code>mutate()</code> 이 하는 일은 존재하는 열의 함수인 새로운 열을 추가하는 것이다.
이후 나올 장에서 다양한 종류의 변수들을 다루는데 사용할 수 있는 함수 모두를 배우게 될 것이다.
여기에서는 기초 수학 연산자들만 볼 것인데, 연착 비행기가 비행 중에 얼마나 따라 잡았는지를 나타내는 <code>gain</code> 과, 시간당 마일단위의 <code>speed</code> 를 계산해보자:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-transform.html#cb75-1"></a><span class="kw">mutate</span>(flights,</span>
<span id="cb75-2"><a href="data-transform.html#cb75-2"></a>     <span class="dt">gain =</span> dep_delay <span class="op">-</span><span class="st"> </span>arr_delay,</span>
<span id="cb75-3"><a href="data-transform.html#cb75-3"></a>     <span class="dt">speed =</span> distance <span class="op">/</span><span class="st"> </span>air_time <span class="op">*</span><span class="st"> </span><span class="dv">60</span></span>
<span id="cb75-4"><a href="data-transform.html#cb75-4"></a>)</span>
<span id="cb75-5"><a href="data-transform.html#cb75-5"></a><span class="co">#&gt; # A tibble: 336,776 × 21</span></span>
<span id="cb75-6"><a href="data-transform.html#cb75-6"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb75-7"><a href="data-transform.html#cb75-7"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb75-8"><a href="data-transform.html#cb75-8"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb75-9"><a href="data-transform.html#cb75-9"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb75-10"><a href="data-transform.html#cb75-10"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb75-11"><a href="data-transform.html#cb75-11"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb75-12"><a href="data-transform.html#cb75-12"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb75-13"><a href="data-transform.html#cb75-13"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb75-14"><a href="data-transform.html#cb75-14"></a><span class="co">#&gt; # … with 336,770 more rows, and 13 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb75-15"><a href="data-transform.html#cb75-15"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb75-16"><a href="data-transform.html#cb75-16"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;,</span></span>
<span id="cb75-17"><a href="data-transform.html#cb75-17"></a><span class="co">#&gt; #   gain &lt;dbl&gt;, speed &lt;dbl&gt;</span></span></code></pre></div>
<p><code>mutate()</code> 의 기본값 동작은 새로운 열을 항상 데이터셋 오른쪽에 추가하기 때문에 일어나는 일을 보기가 어렵다.
<code>.before</code> 인수를 사용하여 왼쪽에 변수들을 추가할 수 있다<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data-transform.html#cb76-1"></a><span class="kw">mutate</span>(flights,</span>
<span id="cb76-2"><a href="data-transform.html#cb76-2"></a>       <span class="dt">gain =</span> dep_delay <span class="op">-</span><span class="st"> </span>arr_delay,</span>
<span id="cb76-3"><a href="data-transform.html#cb76-3"></a>       <span class="dt">speed =</span> distance <span class="op">/</span><span class="st"> </span>air_time <span class="op">*</span><span class="st"> </span><span class="dv">60</span>,</span>
<span id="cb76-4"><a href="data-transform.html#cb76-4"></a>       <span class="dt">.before =</span> <span class="dv">1</span></span>
<span id="cb76-5"><a href="data-transform.html#cb76-5"></a>)</span>
<span id="cb76-6"><a href="data-transform.html#cb76-6"></a><span class="co">#&gt; # A tibble: 336,776 × 21</span></span>
<span id="cb76-7"><a href="data-transform.html#cb76-7"></a><span class="co">#&gt;    gain speed  year month   day dep_time sched_dep_time dep_delay arr_time</span></span>
<span id="cb76-8"><a href="data-transform.html#cb76-8"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;</span></span>
<span id="cb76-9"><a href="data-transform.html#cb76-9"></a><span class="co">#&gt; 1    -9  370.  2013     1     1      517            515         2      830</span></span>
<span id="cb76-10"><a href="data-transform.html#cb76-10"></a><span class="co">#&gt; 2   -16  374.  2013     1     1      533            529         4      850</span></span>
<span id="cb76-11"><a href="data-transform.html#cb76-11"></a><span class="co">#&gt; 3   -31  408.  2013     1     1      542            540         2      923</span></span>
<span id="cb76-12"><a href="data-transform.html#cb76-12"></a><span class="co">#&gt; 4    17  517.  2013     1     1      544            545        -1     1004</span></span>
<span id="cb76-13"><a href="data-transform.html#cb76-13"></a><span class="co">#&gt; 5    19  394.  2013     1     1      554            600        -6      812</span></span>
<span id="cb76-14"><a href="data-transform.html#cb76-14"></a><span class="co">#&gt; 6   -16  288.  2013     1     1      554            558        -4      740</span></span>
<span id="cb76-15"><a href="data-transform.html#cb76-15"></a><span class="co">#&gt; # … with 336,770 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,</span></span>
<span id="cb76-16"><a href="data-transform.html#cb76-16"></a><span class="co">#&gt; #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;,</span></span>
<span id="cb76-17"><a href="data-transform.html#cb76-17"></a><span class="co">#&gt; #   dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span></span>
<span id="cb76-18"><a href="data-transform.html#cb76-18"></a><span class="co">#&gt; #   time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p>맨 앞의 <code>.</code> 은 <code>.before</code> 가 생성되는 변수가 아니라 함수의 인수라는 것을 나타낸다.
<code>.after</code> 를 사용하여 어떤 변수 뒤에 추가하고, 또 위치 대신 변수이름을 사용할 수도 있다.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-transform.html#cb77-1"></a><span class="kw">mutate</span>(flights,</span>
<span id="cb77-2"><a href="data-transform.html#cb77-2"></a>       <span class="dt">gain =</span> dep_delay <span class="op">-</span><span class="st"> </span>arr_delay,</span>
<span id="cb77-3"><a href="data-transform.html#cb77-3"></a>       <span class="dt">speed =</span> distance <span class="op">/</span><span class="st"> </span>air_time <span class="op">*</span><span class="st"> </span><span class="dv">60</span>,</span>
<span id="cb77-4"><a href="data-transform.html#cb77-4"></a>       <span class="dt">.after =</span> day</span>
<span id="cb77-5"><a href="data-transform.html#cb77-5"></a>)</span>
<span id="cb77-6"><a href="data-transform.html#cb77-6"></a><span class="co">#&gt; # A tibble: 336,776 × 21</span></span>
<span id="cb77-7"><a href="data-transform.html#cb77-7"></a><span class="co">#&gt;    year month   day  gain speed dep_time sched_dep_time dep_delay arr_time</span></span>
<span id="cb77-8"><a href="data-transform.html#cb77-8"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;</span></span>
<span id="cb77-9"><a href="data-transform.html#cb77-9"></a><span class="co">#&gt; 1  2013     1     1    -9  370.      517            515         2      830</span></span>
<span id="cb77-10"><a href="data-transform.html#cb77-10"></a><span class="co">#&gt; 2  2013     1     1   -16  374.      533            529         4      850</span></span>
<span id="cb77-11"><a href="data-transform.html#cb77-11"></a><span class="co">#&gt; 3  2013     1     1   -31  408.      542            540         2      923</span></span>
<span id="cb77-12"><a href="data-transform.html#cb77-12"></a><span class="co">#&gt; 4  2013     1     1    17  517.      544            545        -1     1004</span></span>
<span id="cb77-13"><a href="data-transform.html#cb77-13"></a><span class="co">#&gt; 5  2013     1     1    19  394.      554            600        -6      812</span></span>
<span id="cb77-14"><a href="data-transform.html#cb77-14"></a><span class="co">#&gt; 6  2013     1     1   -16  288.      554            558        -4      740</span></span>
<span id="cb77-15"><a href="data-transform.html#cb77-15"></a><span class="co">#&gt; # … with 336,770 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,</span></span>
<span id="cb77-16"><a href="data-transform.html#cb77-16"></a><span class="co">#&gt; #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;,</span></span>
<span id="cb77-17"><a href="data-transform.html#cb77-17"></a><span class="co">#&gt; #   dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span></span>
<span id="cb77-18"><a href="data-transform.html#cb77-18"></a><span class="co">#&gt; #   time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p>다른 방법으로, <code>.keep</code> 인수를 사용하여 어떤 변수들을 유지할지를 조정할 수 있다:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-transform.html#cb78-1"></a><span class="kw">mutate</span>(flights,</span>
<span id="cb78-2"><a href="data-transform.html#cb78-2"></a>       <span class="dt">gain =</span> dep_delay <span class="op">-</span><span class="st"> </span>arr_delay,</span>
<span id="cb78-3"><a href="data-transform.html#cb78-3"></a>       <span class="dt">hours =</span> air_time <span class="op">/</span><span class="st"> </span><span class="dv">60</span>,</span>
<span id="cb78-4"><a href="data-transform.html#cb78-4"></a>       <span class="dt">gain_per_hour =</span> gain <span class="op">/</span><span class="st"> </span>hours,</span>
<span id="cb78-5"><a href="data-transform.html#cb78-5"></a>       <span class="dt">.keep =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb78-6"><a href="data-transform.html#cb78-6"></a>)</span>
<span id="cb78-7"><a href="data-transform.html#cb78-7"></a><span class="co">#&gt; # A tibble: 336,776 × 3</span></span>
<span id="cb78-8"><a href="data-transform.html#cb78-8"></a><span class="co">#&gt;    gain hours gain_per_hour</span></span>
<span id="cb78-9"><a href="data-transform.html#cb78-9"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;</span></span>
<span id="cb78-10"><a href="data-transform.html#cb78-10"></a><span class="co">#&gt; 1    -9  3.78         -2.38</span></span>
<span id="cb78-11"><a href="data-transform.html#cb78-11"></a><span class="co">#&gt; 2   -16  3.78         -4.23</span></span>
<span id="cb78-12"><a href="data-transform.html#cb78-12"></a><span class="co">#&gt; 3   -31  2.67        -11.6 </span></span>
<span id="cb78-13"><a href="data-transform.html#cb78-13"></a><span class="co">#&gt; 4    17  3.05          5.57</span></span>
<span id="cb78-14"><a href="data-transform.html#cb78-14"></a><span class="co">#&gt; 5    19  1.93          9.83</span></span>
<span id="cb78-15"><a href="data-transform.html#cb78-15"></a><span class="co">#&gt; 6   -16  2.5          -6.4 </span></span>
<span id="cb78-16"><a href="data-transform.html#cb78-16"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
</div>
<div id="select" class="section level3">
<h3><span class="header-section-number">5.3.2</span> <code>select()</code></h3>
<p>변수가 수백, 수천 개인 데이터셋을 심심치 않게 만날 것이다. 이 경우 첫 과제는 실제로 관심 있는 변수들로 좁히는 것이다.
<code>select()</code> 와 변수 이름에 기반한 연산들을 이용하면 유용한 서브셋으로 신속하게 줌-인해 볼 수 있다.
변수가 19개밖에 없는 항공편 데이터에서는 <code>select()</code> 가 엄청나게 유용하지는
않지만 일반적인 개념을 볼 수는 있다.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-transform.html#cb79-1"></a><span class="co"># Select columns by name</span></span>
<span id="cb79-2"><a href="data-transform.html#cb79-2"></a><span class="kw">select</span>(flights, year, month, day)</span>
<span id="cb79-3"><a href="data-transform.html#cb79-3"></a><span class="co">#&gt; # A tibble: 336,776 × 3</span></span>
<span id="cb79-4"><a href="data-transform.html#cb79-4"></a><span class="co">#&gt;    year month   day</span></span>
<span id="cb79-5"><a href="data-transform.html#cb79-5"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb79-6"><a href="data-transform.html#cb79-6"></a><span class="co">#&gt; 1  2013     1     1</span></span>
<span id="cb79-7"><a href="data-transform.html#cb79-7"></a><span class="co">#&gt; 2  2013     1     1</span></span>
<span id="cb79-8"><a href="data-transform.html#cb79-8"></a><span class="co">#&gt; 3  2013     1     1</span></span>
<span id="cb79-9"><a href="data-transform.html#cb79-9"></a><span class="co">#&gt; 4  2013     1     1</span></span>
<span id="cb79-10"><a href="data-transform.html#cb79-10"></a><span class="co">#&gt; 5  2013     1     1</span></span>
<span id="cb79-11"><a href="data-transform.html#cb79-11"></a><span class="co">#&gt; 6  2013     1     1</span></span>
<span id="cb79-12"><a href="data-transform.html#cb79-12"></a><span class="co">#&gt; # … with 336,770 more rows</span></span>
<span id="cb79-13"><a href="data-transform.html#cb79-13"></a><span class="co"># Select all columns between year and day (inclusive)</span></span>
<span id="cb79-14"><a href="data-transform.html#cb79-14"></a><span class="kw">select</span>(flights, year<span class="op">:</span>day)</span>
<span id="cb79-15"><a href="data-transform.html#cb79-15"></a><span class="co">#&gt; # A tibble: 336,776 × 3</span></span>
<span id="cb79-16"><a href="data-transform.html#cb79-16"></a><span class="co">#&gt;    year month   day</span></span>
<span id="cb79-17"><a href="data-transform.html#cb79-17"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb79-18"><a href="data-transform.html#cb79-18"></a><span class="co">#&gt; 1  2013     1     1</span></span>
<span id="cb79-19"><a href="data-transform.html#cb79-19"></a><span class="co">#&gt; 2  2013     1     1</span></span>
<span id="cb79-20"><a href="data-transform.html#cb79-20"></a><span class="co">#&gt; 3  2013     1     1</span></span>
<span id="cb79-21"><a href="data-transform.html#cb79-21"></a><span class="co">#&gt; 4  2013     1     1</span></span>
<span id="cb79-22"><a href="data-transform.html#cb79-22"></a><span class="co">#&gt; 5  2013     1     1</span></span>
<span id="cb79-23"><a href="data-transform.html#cb79-23"></a><span class="co">#&gt; 6  2013     1     1</span></span>
<span id="cb79-24"><a href="data-transform.html#cb79-24"></a><span class="co">#&gt; # … with 336,770 more rows</span></span>
<span id="cb79-25"><a href="data-transform.html#cb79-25"></a><span class="co"># Select all columns except those from year to day (inclusive)</span></span>
<span id="cb79-26"><a href="data-transform.html#cb79-26"></a><span class="kw">select</span>(flights, <span class="op">-</span>(year<span class="op">:</span>day))</span>
<span id="cb79-27"><a href="data-transform.html#cb79-27"></a><span class="co">#&gt; # A tibble: 336,776 × 16</span></span>
<span id="cb79-28"><a href="data-transform.html#cb79-28"></a><span class="co">#&gt;   dep_time sched_dep_time dep_delay arr_time sched_arr_time arr_delay carrier</span></span>
<span id="cb79-29"><a href="data-transform.html#cb79-29"></a><span class="co">#&gt;      &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb79-30"><a href="data-transform.html#cb79-30"></a><span class="co">#&gt; 1      517            515         2      830            819        11 UA     </span></span>
<span id="cb79-31"><a href="data-transform.html#cb79-31"></a><span class="co">#&gt; 2      533            529         4      850            830        20 UA     </span></span>
<span id="cb79-32"><a href="data-transform.html#cb79-32"></a><span class="co">#&gt; 3      542            540         2      923            850        33 AA     </span></span>
<span id="cb79-33"><a href="data-transform.html#cb79-33"></a><span class="co">#&gt; 4      544            545        -1     1004           1022       -18 B6     </span></span>
<span id="cb79-34"><a href="data-transform.html#cb79-34"></a><span class="co">#&gt; 5      554            600        -6      812            837       -25 DL     </span></span>
<span id="cb79-35"><a href="data-transform.html#cb79-35"></a><span class="co">#&gt; 6      554            558        -4      740            728        12 UA     </span></span>
<span id="cb79-36"><a href="data-transform.html#cb79-36"></a><span class="co">#&gt; # … with 336,770 more rows, and 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,</span></span>
<span id="cb79-37"><a href="data-transform.html#cb79-37"></a><span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,</span></span>
<span id="cb79-38"><a href="data-transform.html#cb79-38"></a><span class="co">#&gt; #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p><code>select()</code> 안에서 사용할 수 있는 도우미 함수들이 많다:</p>
<ul>
<li><p><code>starts_with("abc")</code>: “abc” 로 시작하는 이름에 매칭.</p></li>
<li><p><code>ends_with("xyz")</code>: “xyz” 로 끝나는 이름에 매칭.</p></li>
<li><p><code>contains("ijk")</code>: “ijk” 를 포함하는 이름에 매칭.</p></li>
<li><p><code>num_range("x", 1:3)</code>: <code>x1</code>, <code>x2</code> <code>x3</code> 에 매칭.</p></li>
</ul>
<p>자세한 내용은 <code>?select</code> 를 보자.
정규표현식 (<a href="#regular-expressions"><strong>??</strong></a> 장의 주제) 을 배우면, <code>matches()</code> 를 사용하여 정규표현식에 매칭되는 변수들을 선택할 수 있게 될 것이다.</p>
<p>변수명을 바꾸는 작업을, <code>=</code> 를 사용하여 변수를 선택하는 방법으로 <code>select()</code> 를 이용하여 할 수 있다.
새 이름은 <code>=</code> 의 왼편에, 이전 이름은 오른편에 둔다.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-transform.html#cb80-1"></a><span class="kw">select</span>(flights, <span class="dt">tail_num =</span> tailnum)</span>
<span id="cb80-2"><a href="data-transform.html#cb80-2"></a><span class="co">#&gt; # A tibble: 336,776 × 1</span></span>
<span id="cb80-3"><a href="data-transform.html#cb80-3"></a><span class="co">#&gt;   tail_num</span></span>
<span id="cb80-4"><a href="data-transform.html#cb80-4"></a><span class="co">#&gt;   &lt;chr&gt;   </span></span>
<span id="cb80-5"><a href="data-transform.html#cb80-5"></a><span class="co">#&gt; 1 N14228  </span></span>
<span id="cb80-6"><a href="data-transform.html#cb80-6"></a><span class="co">#&gt; 2 N24211  </span></span>
<span id="cb80-7"><a href="data-transform.html#cb80-7"></a><span class="co">#&gt; 3 N619AA  </span></span>
<span id="cb80-8"><a href="data-transform.html#cb80-8"></a><span class="co">#&gt; 4 N804JB  </span></span>
<span id="cb80-9"><a href="data-transform.html#cb80-9"></a><span class="co">#&gt; 5 N668DN  </span></span>
<span id="cb80-10"><a href="data-transform.html#cb80-10"></a><span class="co">#&gt; 6 N39463  </span></span>
<span id="cb80-11"><a href="data-transform.html#cb80-11"></a><span class="co">#&gt; # … with 336,770 more rows</span></span></code></pre></div>
</div>
<div id="rename" class="section level3">
<h3><span class="header-section-number">5.3.3</span> <code>rename()</code></h3>
<p>모든 변수들을 유지하면서, 변수 몇 개의 이름만 바꾸고 싶다면, <code>select()</code> 대신 <code>rename()</code> 을 사용하면 된다:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-transform.html#cb81-1"></a><span class="kw">rename</span>(flights, <span class="dt">tail_num =</span> tailnum)</span>
<span id="cb81-2"><a href="data-transform.html#cb81-2"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb81-3"><a href="data-transform.html#cb81-3"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb81-4"><a href="data-transform.html#cb81-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb81-5"><a href="data-transform.html#cb81-5"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb81-6"><a href="data-transform.html#cb81-6"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb81-7"><a href="data-transform.html#cb81-7"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb81-8"><a href="data-transform.html#cb81-8"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb81-9"><a href="data-transform.html#cb81-9"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb81-10"><a href="data-transform.html#cb81-10"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb81-11"><a href="data-transform.html#cb81-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb81-12"><a href="data-transform.html#cb81-12"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tail_num &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb81-13"><a href="data-transform.html#cb81-13"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p><code>select()</code> 와 완벽히 같은 방법으로 작동하지만 명시적으로 선택하지 않은 변수 모두를 유지한다.</p>
</div>
<div id="relocate" class="section level3">
<h3><span class="header-section-number">5.3.4</span> <code>relocate()</code></h3>
<p><code>relocate</code> 으로 변수를 여기저기 이동시킬 수 있다.
기본값으로 맨 앞으로 변수들을 이동시킨다:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-transform.html#cb82-1"></a><span class="kw">relocate</span>(flights, time_hour, air_time)</span>
<span id="cb82-2"><a href="data-transform.html#cb82-2"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb82-3"><a href="data-transform.html#cb82-3"></a><span class="co">#&gt;   time_hour           air_time  year month   day dep_time sched_dep_time</span></span>
<span id="cb82-4"><a href="data-transform.html#cb82-4"></a><span class="co">#&gt;   &lt;dttm&gt;                 &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb82-5"><a href="data-transform.html#cb82-5"></a><span class="co">#&gt; 1 2013-01-01 05:00:00      227  2013     1     1      517            515</span></span>
<span id="cb82-6"><a href="data-transform.html#cb82-6"></a><span class="co">#&gt; 2 2013-01-01 05:00:00      227  2013     1     1      533            529</span></span>
<span id="cb82-7"><a href="data-transform.html#cb82-7"></a><span class="co">#&gt; 3 2013-01-01 05:00:00      160  2013     1     1      542            540</span></span>
<span id="cb82-8"><a href="data-transform.html#cb82-8"></a><span class="co">#&gt; 4 2013-01-01 05:00:00      183  2013     1     1      544            545</span></span>
<span id="cb82-9"><a href="data-transform.html#cb82-9"></a><span class="co">#&gt; 5 2013-01-01 06:00:00      116  2013     1     1      554            600</span></span>
<span id="cb82-10"><a href="data-transform.html#cb82-10"></a><span class="co">#&gt; 6 2013-01-01 05:00:00      150  2013     1     1      554            558</span></span>
<span id="cb82-11"><a href="data-transform.html#cb82-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 12 more variables: dep_delay &lt;dbl&gt;,</span></span>
<span id="cb82-12"><a href="data-transform.html#cb82-12"></a><span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,</span></span>
<span id="cb82-13"><a href="data-transform.html#cb82-13"></a><span class="co">#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, distance &lt;dbl&gt;,</span></span>
<span id="cb82-14"><a href="data-transform.html#cb82-14"></a><span class="co">#&gt; #   hour &lt;dbl&gt;, minute &lt;dbl&gt;</span></span></code></pre></div>
<p><code>.before</code> 인수와 <code>.after</code> 인수를 사용하여 변수를 위치시킬 곳을 정할 수 있다:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-transform.html#cb83-1"></a><span class="kw">relocate</span>(flights, year<span class="op">:</span>dep_time, <span class="dt">.after =</span> time_hour)</span>
<span id="cb83-2"><a href="data-transform.html#cb83-2"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb83-3"><a href="data-transform.html#cb83-3"></a><span class="co">#&gt;   sched_dep_time dep_delay arr_time sched_arr_time arr_delay carrier flight</span></span>
<span id="cb83-4"><a href="data-transform.html#cb83-4"></a><span class="co">#&gt;            &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt;</span></span>
<span id="cb83-5"><a href="data-transform.html#cb83-5"></a><span class="co">#&gt; 1            515         2      830            819        11 UA        1545</span></span>
<span id="cb83-6"><a href="data-transform.html#cb83-6"></a><span class="co">#&gt; 2            529         4      850            830        20 UA        1714</span></span>
<span id="cb83-7"><a href="data-transform.html#cb83-7"></a><span class="co">#&gt; 3            540         2      923            850        33 AA        1141</span></span>
<span id="cb83-8"><a href="data-transform.html#cb83-8"></a><span class="co">#&gt; 4            545        -1     1004           1022       -18 B6         725</span></span>
<span id="cb83-9"><a href="data-transform.html#cb83-9"></a><span class="co">#&gt; 5            600        -6      812            837       -25 DL         461</span></span>
<span id="cb83-10"><a href="data-transform.html#cb83-10"></a><span class="co">#&gt; 6            558        -4      740            728        12 UA        1696</span></span>
<span id="cb83-11"><a href="data-transform.html#cb83-11"></a><span class="co">#&gt; # … with 336,770 more rows, and 12 more variables: tailnum &lt;chr&gt;, origin &lt;chr&gt;,</span></span>
<span id="cb83-12"><a href="data-transform.html#cb83-12"></a><span class="co">#&gt; #   dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span></span>
<span id="cb83-13"><a href="data-transform.html#cb83-13"></a><span class="co">#&gt; #   time_hour &lt;dttm&gt;, year &lt;int&gt;, month &lt;int&gt;, day &lt;int&gt;, dep_time &lt;int&gt;</span></span>
<span id="cb83-14"><a href="data-transform.html#cb83-14"></a><span class="kw">relocate</span>(flights, <span class="kw">starts_with</span>(<span class="st">&quot;arr&quot;</span>), <span class="dt">.before =</span> dep_time)</span>
<span id="cb83-15"><a href="data-transform.html#cb83-15"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb83-16"><a href="data-transform.html#cb83-16"></a><span class="co">#&gt;    year month   day arr_time arr_delay dep_time sched_dep_time dep_delay</span></span>
<span id="cb83-17"><a href="data-transform.html#cb83-17"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb83-18"><a href="data-transform.html#cb83-18"></a><span class="co">#&gt; 1  2013     1     1      830        11      517            515         2</span></span>
<span id="cb83-19"><a href="data-transform.html#cb83-19"></a><span class="co">#&gt; 2  2013     1     1      850        20      533            529         4</span></span>
<span id="cb83-20"><a href="data-transform.html#cb83-20"></a><span class="co">#&gt; 3  2013     1     1      923        33      542            540         2</span></span>
<span id="cb83-21"><a href="data-transform.html#cb83-21"></a><span class="co">#&gt; 4  2013     1     1     1004       -18      544            545        -1</span></span>
<span id="cb83-22"><a href="data-transform.html#cb83-22"></a><span class="co">#&gt; 5  2013     1     1      812       -25      554            600        -6</span></span>
<span id="cb83-23"><a href="data-transform.html#cb83-23"></a><span class="co">#&gt; 6  2013     1     1      740        12      554            558        -4</span></span>
<span id="cb83-24"><a href="data-transform.html#cb83-24"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: sched_arr_time &lt;int&gt;,</span></span>
<span id="cb83-25"><a href="data-transform.html#cb83-25"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb83-26"><a href="data-transform.html#cb83-26"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p><code>mutate()</code> 의 <code>.before</code> 인수와 <code>.after</code> 인수와 같은 방법으로 작동한다 — 수치형의 위치, 변수의 이름, <code>select()</code> 에서 사용할 수 있는 함수들 어떤 것으로 할 수 있다.</p>
</div>
<div id="exercises-7" class="section level3">
<h3><span class="header-section-number">5.3.5</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Currently <code>dep_time</code> and <code>sched_dep_time</code> are convenient to look at, but hard to compute with because they’re not really continuous numbers.
Convert them to a more convenient representation of number of minutes since midnight.</p></li>
<li><p>Compare <code>air_time</code> with <code>arr_time - dep_time</code>.
What do you expect to see?
What do you see?
What do you need to do to fix it?</p></li>
<li><p>Compare <code>dep_time</code>, <code>sched_dep_time</code>, and <code>dep_delay</code>.
How would you expect those three numbers to be related?</p></li>
<li><p>Brainstorm as many ways as possible to select <code>dep_time</code>, <code>dep_delay</code>, <code>arr_time</code>, and <code>arr_delay</code> from <code>flights</code>.</p></li>
<li><p>What happens if you include the name of a variable multiple times in a <code>select()</code> call?</p></li>
<li><p>What does the <code>any_of()</code> function do?
Why might it be helpful in conjunction with this vector?</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-transform.html#cb84-1"></a>variables &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;month&quot;</span>, <span class="st">&quot;day&quot;</span>, <span class="st">&quot;dep_delay&quot;</span>, <span class="st">&quot;arr_delay&quot;</span>)</span></code></pre></div></li>
<li><p>Does the result of running the following code surprise you?
How do the select helpers deal with case by default?
How can you change that default?</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data-transform.html#cb85-1"></a><span class="kw">select</span>(flights, <span class="kw">contains</span>(<span class="st">&quot;TIME&quot;</span>))</span></code></pre></div></li>
</ol>
</div>
</div>
<div id="그룹" class="section level2">
<h2><span class="header-section-number">5.4</span> 그룹</h2>
<p>dplyr 의 진정한 유용성은 그룹화를 추가할 때 나온다.
핵심 함수는 <code>group_by()</code> 와 <code>summarise()</code> 인데, <code>group_by()</code> 는 다른 dplyr 동사들을 흥미로운 방법으로 영향을 준다.</p>
<div id="group_by" class="section level3">
<h3><span class="header-section-number">5.4.1</span> <code>group_by()</code></h3>
<p><code>group_by()</code> 를 사용하여 분석에 의미있는 그룹으로 데이터셋을 나눌 수 있다:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="data-transform.html#cb86-1"></a>by_month &lt;-<span class="st"> </span><span class="kw">group_by</span>(flights, month)</span>
<span id="cb86-2"><a href="data-transform.html#cb86-2"></a>by_month</span>
<span id="cb86-3"><a href="data-transform.html#cb86-3"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb86-4"><a href="data-transform.html#cb86-4"></a><span class="co">#&gt; # Groups:   month [12]</span></span>
<span id="cb86-5"><a href="data-transform.html#cb86-5"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb86-6"><a href="data-transform.html#cb86-6"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb86-7"><a href="data-transform.html#cb86-7"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb86-8"><a href="data-transform.html#cb86-8"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb86-9"><a href="data-transform.html#cb86-9"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb86-10"><a href="data-transform.html#cb86-10"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb86-11"><a href="data-transform.html#cb86-11"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb86-12"><a href="data-transform.html#cb86-12"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb86-13"><a href="data-transform.html#cb86-13"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb86-14"><a href="data-transform.html#cb86-14"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb86-15"><a href="data-transform.html#cb86-15"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p><code>group_by()</code> 는 데이터를 변화시키지는 않지만 자세하기 보면, 데이터가 월로 그룹화 (“grouped by” month) 되었음을 알 수 있다.
데이터를 그룹화하는 이유는 이후 동사들의 연산이 변화되기 때문이다.</p>
</div>
<div id="summarise" class="section level3">
<h3><span class="header-section-number">5.4.2</span> <code>summarise()</code></h3>
<p>그룹화된 데이터에 적용할 연산 중 가장 중요한 연산은 요약일 것이다.
각 그룹을 하나의 행으로 축약한다<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.
여기에서 월별 평균 출발지연시간을 계산한다:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-transform.html#cb87-1"></a><span class="kw">summarise</span>(by_month, <span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</span>
<span id="cb87-2"><a href="data-transform.html#cb87-2"></a><span class="co">#&gt; # A tibble: 12 × 2</span></span>
<span id="cb87-3"><a href="data-transform.html#cb87-3"></a><span class="co">#&gt;   month delay</span></span>
<span id="cb87-4"><a href="data-transform.html#cb87-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb87-5"><a href="data-transform.html#cb87-5"></a><span class="co">#&gt; 1     1  10.0</span></span>
<span id="cb87-6"><a href="data-transform.html#cb87-6"></a><span class="co">#&gt; 2     2  10.8</span></span>
<span id="cb87-7"><a href="data-transform.html#cb87-7"></a><span class="co">#&gt; 3     3  13.2</span></span>
<span id="cb87-8"><a href="data-transform.html#cb87-8"></a><span class="co">#&gt; 4     4  13.9</span></span>
<span id="cb87-9"><a href="data-transform.html#cb87-9"></a><span class="co">#&gt; 5     5  13.0</span></span>
<span id="cb87-10"><a href="data-transform.html#cb87-10"></a><span class="co">#&gt; 6     6  20.8</span></span>
<span id="cb87-11"><a href="data-transform.html#cb87-11"></a><span class="co">#&gt; # … with 6 more rows</span></span></code></pre></div>
<p><code>summarise()</code> 한 번의 호출로 요약값 여러개를 생성할 수 있다.
각 데이터 타잎을 다루는 이후 장들에서 유용한 요약값들에 대해 배울 것이다. 유용한 요약값 중 하나는 <code>n()</code> 인데 이는 각 그룹의 행 개수를 반환한다:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="data-transform.html#cb88-1"></a><span class="kw">summarise</span>(by_month, <span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">n =</span> <span class="kw">n</span>())</span>
<span id="cb88-2"><a href="data-transform.html#cb88-2"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb88-3"><a href="data-transform.html#cb88-3"></a><span class="co">#&gt;   month delay     n</span></span>
<span id="cb88-4"><a href="data-transform.html#cb88-4"></a><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb88-5"><a href="data-transform.html#cb88-5"></a><span class="co">#&gt; 1     1  10.0 27004</span></span>
<span id="cb88-6"><a href="data-transform.html#cb88-6"></a><span class="co">#&gt; 2     2  10.8 24951</span></span>
<span id="cb88-7"><a href="data-transform.html#cb88-7"></a><span class="co">#&gt; 3     3  13.2 28834</span></span>
<span id="cb88-8"><a href="data-transform.html#cb88-8"></a><span class="co">#&gt; 4     4  13.9 28330</span></span>
<span id="cb88-9"><a href="data-transform.html#cb88-9"></a><span class="co">#&gt; 5     5  13.0 28796</span></span>
<span id="cb88-10"><a href="data-transform.html#cb88-10"></a><span class="co">#&gt; 6     6  20.8 28243</span></span>
<span id="cb88-11"><a href="data-transform.html#cb88-11"></a><span class="co">#&gt; # … with 6 more rows</span></span></code></pre></div>
<p>(사실, 앞 장에서 여러 번 사용한 <code>count()</code> 는 <code>group_by()</code> + <code>summarise(n = n())</code> 의 단축어이다.)</p>
<p><a href="missing-values.html#missing-values">13</a> 장에서 결측값들을 논의할 것이다.
여기에서는 <code>na.rm = TRUE</code> 으로 요약함수에서 빼거나 <code>!is.na()</code> 를 사용하여 필터함수로 제거할 수 있다:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-transform.html#cb89-1"></a>not_cancelled &lt;-<span class="st"> </span><span class="kw">filter</span>(flights, <span class="op">!</span><span class="kw">is.na</span>(dep_delay))</span>
<span id="cb89-2"><a href="data-transform.html#cb89-2"></a>by_month &lt;-<span class="st"> </span><span class="kw">group_by</span>(not_cancelled, month)</span>
<span id="cb89-3"><a href="data-transform.html#cb89-3"></a><span class="kw">summarise</span>(by_month, <span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay))</span>
<span id="cb89-4"><a href="data-transform.html#cb89-4"></a><span class="co">#&gt; # A tibble: 12 × 2</span></span>
<span id="cb89-5"><a href="data-transform.html#cb89-5"></a><span class="co">#&gt;   month delay</span></span>
<span id="cb89-6"><a href="data-transform.html#cb89-6"></a><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb89-7"><a href="data-transform.html#cb89-7"></a><span class="co">#&gt; 1     1  10.0</span></span>
<span id="cb89-8"><a href="data-transform.html#cb89-8"></a><span class="co">#&gt; 2     2  10.8</span></span>
<span id="cb89-9"><a href="data-transform.html#cb89-9"></a><span class="co">#&gt; 3     3  13.2</span></span>
<span id="cb89-10"><a href="data-transform.html#cb89-10"></a><span class="co">#&gt; 4     4  13.9</span></span>
<span id="cb89-11"><a href="data-transform.html#cb89-11"></a><span class="co">#&gt; 5     5  13.0</span></span>
<span id="cb89-12"><a href="data-transform.html#cb89-12"></a><span class="co">#&gt; 6     6  20.8</span></span>
<span id="cb89-13"><a href="data-transform.html#cb89-13"></a><span class="co">#&gt; # … with 6 more rows</span></span></code></pre></div>
</div>
<div id="다중-연산-결합하기" class="section level3">
<h3><span class="header-section-number">5.4.3</span> 다중 연산 결합하기</h3>
<p>코드를 작성하기 조금씩 힘들어 지고 있는데, 별로 중요하지 않은 중간 단계의 데이터 프레임에 이름을 지어줘야 하기 때문이다.
이름을 짓는 것은 쉽지 않아서 분석에 속도가 나지 않는다.
이 문제를 <strong>파이프</strong>, <code>%&gt;%</code> 로 해결하는 방법이 있다:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="data-transform.html#cb90-1"></a>flights <span class="op">%&gt;%</span></span>
<span id="cb90-2"><a href="data-transform.html#cb90-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(dep_delay)) <span class="op">%&gt;%</span></span>
<span id="cb90-3"><a href="data-transform.html#cb90-3"></a><span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span></span>
<span id="cb90-4"><a href="data-transform.html#cb90-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay), <span class="dt">n =</span> <span class="kw">n</span>())</span>
<span id="cb90-5"><a href="data-transform.html#cb90-5"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb90-6"><a href="data-transform.html#cb90-6"></a><span class="co">#&gt;   month delay     n</span></span>
<span id="cb90-7"><a href="data-transform.html#cb90-7"></a><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb90-8"><a href="data-transform.html#cb90-8"></a><span class="co">#&gt; 1     1  10.0 26483</span></span>
<span id="cb90-9"><a href="data-transform.html#cb90-9"></a><span class="co">#&gt; 2     2  10.8 23690</span></span>
<span id="cb90-10"><a href="data-transform.html#cb90-10"></a><span class="co">#&gt; 3     3  13.2 27973</span></span>
<span id="cb90-11"><a href="data-transform.html#cb90-11"></a><span class="co">#&gt; 4     4  13.9 27662</span></span>
<span id="cb90-12"><a href="data-transform.html#cb90-12"></a><span class="co">#&gt; 5     5  13.0 28233</span></span>
<span id="cb90-13"><a href="data-transform.html#cb90-13"></a><span class="co">#&gt; 6     6  20.8 27234</span></span>
<span id="cb90-14"><a href="data-transform.html#cb90-14"></a><span class="co">#&gt; # … with 6 more rows</span></span></code></pre></div>
<p>코드의 <code>%&gt;%</code> 를 볼 때마다 이를 마음속으로 “그런다음(then)” 로 “읽는” 것이 좋다.
이렇게 하면 다음과 같이 연속된 명령문으로 읽을 수 있다: flights 데이터셋을 가져오라, 그런다음, <code>dep_delay</code> 에 결측값이 있는 행을 필터하라, 그런다음, month 로 그룹화하라, 그런다음, 평균 <code>dep_delay</code> 와 관측값 개수로 요약하라.</p>
<p>내부적으로는, <code>x %&gt;% f(y)</code> 은 <code>f(x, y)</code> 으로 변환되고 <code>x %&gt;% f(y) %&gt;% g(z)</code> 은 <code>g(f(x, y), z)</code> 로 변환되는 식이다.
파이프를 사용하여 다중 작업을 왼쪽에서 오른쪽으로, 위에서 아래
로 읽을 수 있게 다시 쓸 수 있다.
파이프를 사용하면 코드 가독성이 훨씬 좋아지므로 지금부터는 파이프를 자주 사용할 것이다. 파이프의 세부사항에 대해서는 <a href="#workflow-pipes"><strong>??</strong></a> 장에서 다시 살펴보자.</p>
</div>
<div id="다중변수로-그룹화하기" class="section level3">
<h3><span class="header-section-number">5.4.4</span> 다중변수로 그룹화하기</h3>
<p>데이터프레임을 다중변수로 그룹화할 수 있다:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data-transform.html#cb91-1"></a>daily &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(year, month, day)</span>
<span id="cb91-2"><a href="data-transform.html#cb91-2"></a>daily</span>
<span id="cb91-3"><a href="data-transform.html#cb91-3"></a><span class="co">#&gt; # A tibble: 336,776 × 19</span></span>
<span id="cb91-4"><a href="data-transform.html#cb91-4"></a><span class="co">#&gt; # Groups:   year, month, day [365]</span></span>
<span id="cb91-5"><a href="data-transform.html#cb91-5"></a><span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time</span></span>
<span id="cb91-6"><a href="data-transform.html#cb91-6"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;</span></span>
<span id="cb91-7"><a href="data-transform.html#cb91-7"></a><span class="co">#&gt; 1  2013     1     1      517            515         2      830            819</span></span>
<span id="cb91-8"><a href="data-transform.html#cb91-8"></a><span class="co">#&gt; 2  2013     1     1      533            529         4      850            830</span></span>
<span id="cb91-9"><a href="data-transform.html#cb91-9"></a><span class="co">#&gt; 3  2013     1     1      542            540         2      923            850</span></span>
<span id="cb91-10"><a href="data-transform.html#cb91-10"></a><span class="co">#&gt; 4  2013     1     1      544            545        -1     1004           1022</span></span>
<span id="cb91-11"><a href="data-transform.html#cb91-11"></a><span class="co">#&gt; 5  2013     1     1      554            600        -6      812            837</span></span>
<span id="cb91-12"><a href="data-transform.html#cb91-12"></a><span class="co">#&gt; 6  2013     1     1      554            558        -4      740            728</span></span>
<span id="cb91-13"><a href="data-transform.html#cb91-13"></a><span class="co">#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,</span></span>
<span id="cb91-14"><a href="data-transform.html#cb91-14"></a><span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span></span>
<span id="cb91-15"><a href="data-transform.html#cb91-15"></a><span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></span></code></pre></div>
<p>다중변수로 그룹화하면, 기본적으로 각 요약함수는 그룹의 한 수준을 벗겨내고 이 동작을 바꾸는 법을 출력한다.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-transform.html#cb92-1"></a>daily <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>())</span>
<span id="cb92-2"><a href="data-transform.html#cb92-2"></a><span class="co">#&gt; # A tibble: 365 × 4</span></span>
<span id="cb92-3"><a href="data-transform.html#cb92-3"></a><span class="co">#&gt; # Groups:   year, month [12]</span></span>
<span id="cb92-4"><a href="data-transform.html#cb92-4"></a><span class="co">#&gt;    year month   day     n</span></span>
<span id="cb92-5"><a href="data-transform.html#cb92-5"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb92-6"><a href="data-transform.html#cb92-6"></a><span class="co">#&gt; 1  2013     1     1   842</span></span>
<span id="cb92-7"><a href="data-transform.html#cb92-7"></a><span class="co">#&gt; 2  2013     1     2   943</span></span>
<span id="cb92-8"><a href="data-transform.html#cb92-8"></a><span class="co">#&gt; 3  2013     1     3   914</span></span>
<span id="cb92-9"><a href="data-transform.html#cb92-9"></a><span class="co">#&gt; 4  2013     1     4   915</span></span>
<span id="cb92-10"><a href="data-transform.html#cb92-10"></a><span class="co">#&gt; 5  2013     1     5   720</span></span>
<span id="cb92-11"><a href="data-transform.html#cb92-11"></a><span class="co">#&gt; 6  2013     1     6   832</span></span>
<span id="cb92-12"><a href="data-transform.html#cb92-12"></a><span class="co">#&gt; # … with 359 more rows</span></span></code></pre></div>
<p>이러한 동작에 만족한다면, 메세지를 없애기 위해 명시적으로 정의할 수 있다:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-transform.html#cb93-1"></a>daily <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>(), <span class="dt">.groups =</span> <span class="st">&quot;drop_last&quot;</span>)</span></code></pre></div>
<p>다른 방법으로는, 이러한 기본동작을 다른 값을 설정하여 바꿀 수 있다. 예를 들어 <code>"drop"</code> 은 그룹의 모든 수준을 풀고 <code>"keep"</code> 은 <code>daily</code> 와 같은 그룹화 구조가 유지된다:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="data-transform.html#cb94-1"></a>daily <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>(), <span class="dt">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb94-2"><a href="data-transform.html#cb94-2"></a>daily <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>(), <span class="dt">.groups =</span> <span class="st">&quot;keep&quot;</span>)</span></code></pre></div>
</div>
<div id="그룹화풀기-ungrouping" class="section level3">
<h3><span class="header-section-number">5.4.5</span> 그룹화풀기 (ungrouping)</h3>
<p><code>summarise()</code> 의 바깥에서 그룹화를 제거하고 싶을 수도 있다.
<code>ungroup()</code> 을 사용하여 그룹화되지 않은 데이터 작업으로 돌아갈 수 있다.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-transform.html#cb95-1"></a>daily <span class="op">%&gt;%</span></span>
<span id="cb95-2"><a href="data-transform.html#cb95-2"></a><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb95-3"><a href="data-transform.html#cb95-3"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb95-4"><a href="data-transform.html#cb95-4"></a>    <span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb95-5"><a href="data-transform.html#cb95-5"></a>    <span class="dt">flights =</span> <span class="kw">n</span>()</span>
<span id="cb95-6"><a href="data-transform.html#cb95-6"></a>  )</span>
<span id="cb95-7"><a href="data-transform.html#cb95-7"></a><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span id="cb95-8"><a href="data-transform.html#cb95-8"></a><span class="co">#&gt;   delay flights</span></span>
<span id="cb95-9"><a href="data-transform.html#cb95-9"></a><span class="co">#&gt;   &lt;dbl&gt;   &lt;int&gt;</span></span>
<span id="cb95-10"><a href="data-transform.html#cb95-10"></a><span class="co">#&gt; 1  12.6  336776</span></span></code></pre></div>
<p>그룹화되지 않은 데이터는 모든 데이터가 하나의 그룹에 속한 것 같이 취급하기 때문에 하나의 행만 반환받는다.</p>
</div>
<div id="행-선택하기" class="section level3">
<h3><span class="header-section-number">5.4.6</span> 행 선택하기</h3>
<p><code>arrange()</code> 와 <code>filter()</code> 는 그룹화에 대부분 영향을 받지 않는다.
하지만 슬라이스 함수들은 핵유용하다:</p>
<ul>
<li><p><code>slice_head()</code>, <code>slice_tail()</code> 는 각 그룹의 처음과 마지막 행들을 선택한다.</p></li>
<li><p><code>slice_max()</code>, <code>slice_min()</code> 는 각 그룹에서 가장 크거나 작은 값을 가진 행들을 선택한다.</p></li>
<li><p><code>slice_sample()</code> 은 각 그룹에서 행들을 랜덤하게 선택한다.</p></li>
</ul>
<p>이러한 동사들은 일정 개수의 행이나 그룹크기에 비례한 개수의 행들을 선택하고 싶은지에 따라 <code>n</code> 이나 <code>prop</code> 인수를 사용한다.</p>
</div>
<div id="기타-동사들" class="section level3">
<h3><span class="header-section-number">5.4.7</span> 기타 동사들</h3>
<ul>
<li><p><code>select()</code>, <code>rename()</code>, <code>relocate()</code>: 그룹화가 영향을 주지 않음</p></li>
<li><p><code>filter()</code>, <code>mutate()</code>: 계산이 그룹마다 일어남.
여러분들이 현재 알고있는 함수들에 영향을 주지 않지만, <a href="#window-functions"><strong>??</strong></a> 섹션의 윈도함수(window functions) 에 대해 배우면 매우 유용할 것이다.</p></li>
</ul>
</div>
<div id="exercises-8" class="section level3">
<h3><span class="header-section-number">5.4.8</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Which carrier has the worst delays?
Challenge: can you disentangle the effects of bad airports vs. bad carriers?
Why/why not?
(Hint: think about <code>flights %&gt;% group_by(carrier, dest) %&gt;% summarise(n())</code>)</p></li>
<li><p>What does the <code>sort</code> argument to <code>count()</code> do.
Can you explain it in terms of the dplyr verbs you’ve learned so far?</p></li>
</ol>
</div>
</div>
<div id="케이스-스터디-집계aggregates-과-샘플사이즈" class="section level2">
<h2><span class="header-section-number">5.5</span> 케이스 스터디: 집계(aggregates) 과 샘플사이즈</h2>
<p>집계를 수행할 때마다 카운트 (<code>n()</code>) 혹은, 결측이 아닌 값의 카운트 (<code>sum(!is.na(x))</code>) 를 포함하는 것이 좋다. 이렇게 하면 매우 적은 양의 데이터를 기반으로
결론을 도출하지 않는지 확인할 수 있다. 예를 들어 평균 지연시간이 가장 긴 항공편(꼬리 번호(tail number)로 식별)을 보자.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-transform.html#cb96-1"></a>delays &lt;-<span class="st"> </span>not_cancelled <span class="op">%&gt;%</span></span>
<span id="cb96-2"><a href="data-transform.html#cb96-2"></a><span class="st">  </span><span class="kw">group_by</span>(tailnum) <span class="op">%&gt;%</span></span>
<span id="cb96-3"><a href="data-transform.html#cb96-3"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb96-4"><a href="data-transform.html#cb96-4"></a>    <span class="dt">delay =</span> <span class="kw">mean</span>(arr_delay)</span>
<span id="cb96-5"><a href="data-transform.html#cb96-5"></a>  )</span>
<span id="cb96-6"><a href="data-transform.html#cb96-6"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> delays, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> delay)) <span class="op">+</span></span>
<span id="cb96-7"><a href="data-transform.html#cb96-7"></a><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="dv">10</span>)</span>
<span id="cb96-8"><a href="data-transform.html#cb96-8"></a><span class="co">#&gt; Warning: Removed 874 rows containing non-finite values (stat_bin).</span></span></code></pre></div>
<p><img src="data-transform_files/figure-html/unnamed-chunk-29-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>우와, 어떤 항공기들은 <strong>평균</strong> 5시간 (300분) 지연되었다!
이 이야기는 사실 좀 더 복잡한 문제이다.
비행 횟수 대 평균 지연시간의 산점도를 그리면 더 많은 통찰력을 얻을 수 있다.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-transform.html#cb97-1"></a>delays &lt;-<span class="st"> </span>not_cancelled <span class="op">%&gt;%</span></span>
<span id="cb97-2"><a href="data-transform.html#cb97-2"></a><span class="st">  </span><span class="kw">group_by</span>(tailnum) <span class="op">%&gt;%</span></span>
<span id="cb97-3"><a href="data-transform.html#cb97-3"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb97-4"><a href="data-transform.html#cb97-4"></a>    <span class="dt">delay =</span> <span class="kw">mean</span>(arr_delay),</span>
<span id="cb97-5"><a href="data-transform.html#cb97-5"></a>    <span class="dt">n =</span> <span class="kw">n</span>()</span>
<span id="cb97-6"><a href="data-transform.html#cb97-6"></a>  )</span>
<span id="cb97-7"><a href="data-transform.html#cb97-7"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> delays, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> n, <span class="dt">y =</span> delay)) <span class="op">+</span></span>
<span id="cb97-8"><a href="data-transform.html#cb97-8"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb97-9"><a href="data-transform.html#cb97-9"></a><span class="co">#&gt; Warning: Removed 874 rows containing missing values (geom_point).</span></span></code></pre></div>
<p><img src="data-transform_files/figure-html/unnamed-chunk-30-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>당연히 비행이 적을 때 평균 지연시간에 변동이 훨씬 더 크다. 이 플롯의 모양은
매우 특징적이다. 평균(혹은 다른 요약값) 대 그룹 크기의 플롯을 그리면 표본
크기가 커짐에 따라 변동이 줄어드는 것을 볼 수 있다.</p>
<p>이런 종류의 플롯을 살펴볼 때는, 관측값 개수가 가장 적은 그룹을 필터링하는 것이 좋은 경우가 많다. 심한 변동이 아닌 패턴이 더 잘 보이기 때문이다. 이를 수행하는 다음 코드는 ggplot2 를 dplyr 플로우에 통합하는 편리한 패턴도
보여준다. <code>%&gt;%</code> 에서 <code>+</code> 로 전환해야 한다는 것은 조금 고통스러운 일이지만, 일단
요령을 터득하면 꽤 편리하다.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="data-transform.html#cb98-1"></a>delays <span class="op">%&gt;%</span></span>
<span id="cb98-2"><a href="data-transform.html#cb98-2"></a><span class="st">  </span><span class="kw">filter</span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>) <span class="op">%&gt;%</span></span>
<span id="cb98-3"><a href="data-transform.html#cb98-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> n, <span class="dt">y =</span> delay)) <span class="op">+</span></span>
<span id="cb98-4"><a href="data-transform.html#cb98-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb98-5"><a href="data-transform.html#cb98-5"></a><span class="co">#&gt; Warning: Removed 828 rows containing missing values (geom_point).</span></span></code></pre></div>
<p><img src="data-transform_files/figure-html/unnamed-chunk-31-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>이와 비슷한 유형도 자주 볼 수 있다. 야구에서 타자의 평균 능력치가 타석 수와
어떻게 관련되었는지 살펴보자. 여기에서 <strong>Lahman</strong> 패키지 데이터를 사용하여
메이저리그의 모든 야구 선수의 타율(안타수/유효타석수)을 계산한다.</p>
<p>타자의 기술(타율, <code>ba</code> 로 측정)을 안타 기회 횟수(타석수, <code>ab</code> 로 측정) 에 대해 플롯을 그리면 두 가지
패턴이 보인다.</p>
<ol style="list-style-type: decimal">
<li><p>앞에서와 같이 집계값의 변동량은 데이터 포인트가 많아짐에 따라 감소한다.</p></li>
<li><p>기술 수준(<code>ba</code>)과 볼을 칠 기회(<code>ab</code>) 사이에 양의 상관관계가 있다. 팀이 누구를
타석에 내보낼지 선택할 때 당연히 최고의 선수를 선택할 것이기 때문이다.</p></li>
</ol>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-transform.html#cb99-1"></a><span class="co"># Convert to a tibble so it prints nicely</span></span>
<span id="cb99-2"><a href="data-transform.html#cb99-2"></a>batting &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(Lahman<span class="op">::</span>Batting)</span>
<span id="cb99-3"><a href="data-transform.html#cb99-3"></a>batters &lt;-<span class="st"> </span>batting <span class="op">%&gt;%</span></span>
<span id="cb99-4"><a href="data-transform.html#cb99-4"></a><span class="st">  </span><span class="kw">group_by</span>(playerID) <span class="op">%&gt;%</span></span>
<span id="cb99-5"><a href="data-transform.html#cb99-5"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb99-6"><a href="data-transform.html#cb99-6"></a>    <span class="dt">ba =</span> <span class="kw">sum</span>(H, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(AB, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb99-7"><a href="data-transform.html#cb99-7"></a>    <span class="dt">ab =</span> <span class="kw">sum</span>(AB, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb99-8"><a href="data-transform.html#cb99-8"></a>  )</span>
<span id="cb99-9"><a href="data-transform.html#cb99-9"></a>batters <span class="op">%&gt;%</span></span>
<span id="cb99-10"><a href="data-transform.html#cb99-10"></a><span class="st">  </span><span class="kw">filter</span>(ab <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%&gt;%</span></span>
<span id="cb99-11"><a href="data-transform.html#cb99-11"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> ab, <span class="dt">y =</span> ba)) <span class="op">+</span></span>
<span id="cb99-12"><a href="data-transform.html#cb99-12"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb99-13"><a href="data-transform.html#cb99-13"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">se =</span> <span class="ot">FALSE</span>)</span>
<span id="cb99-14"><a href="data-transform.html#cb99-14"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</span></span></code></pre></div>
<p><img src="data-transform_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>이 사실은 랭킹에 관해 중요한 시사점을 제공한다. 단순히 <code>desc(ba)</code> 로 정렬하면 평균 타율이
가장 높은 선수는 능력치가 좋은 것이 아니라 단순히 운이 좋은 선수들이다.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-transform.html#cb100-1"></a>batters <span class="op">%&gt;%</span></span>
<span id="cb100-2"><a href="data-transform.html#cb100-2"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ba))</span>
<span id="cb100-3"><a href="data-transform.html#cb100-3"></a><span class="co">#&gt; # A tibble: 19,689 × 3</span></span>
<span id="cb100-4"><a href="data-transform.html#cb100-4"></a><span class="co">#&gt;   playerID     ba    ab</span></span>
<span id="cb100-5"><a href="data-transform.html#cb100-5"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb100-6"><a href="data-transform.html#cb100-6"></a><span class="co">#&gt; 1 abramge01     1     1</span></span>
<span id="cb100-7"><a href="data-transform.html#cb100-7"></a><span class="co">#&gt; 2 alanirj01     1     1</span></span>
<span id="cb100-8"><a href="data-transform.html#cb100-8"></a><span class="co">#&gt; 3 alberan01     1     1</span></span>
<span id="cb100-9"><a href="data-transform.html#cb100-9"></a><span class="co">#&gt; 4 banisje01     1     1</span></span>
<span id="cb100-10"><a href="data-transform.html#cb100-10"></a><span class="co">#&gt; 5 bartocl01     1     1</span></span>
<span id="cb100-11"><a href="data-transform.html#cb100-11"></a><span class="co">#&gt; 6 bassdo01      1     1</span></span>
<span id="cb100-12"><a href="data-transform.html#cb100-12"></a><span class="co">#&gt; # … with 19,683 more rows</span></span></code></pre></div>
<p>다음 사이트에 이 문제에 관해 설명이 잘 되어 있다: <a href="http://varianceexplained.org/r/empirical_bayes_baseball/" class="uri">http://varianceexplained.org/r/empirical_bayes_baseball/</a>, <a href="http://www.evanmiller.org/how-not-to-sort-by-average-rating.html" class="uri">http://www.evanmiller.org/how-not-to-sort-by-average-rating.html</a>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Later, you’ll learn about the <code>slice_*()</code> family which allows you to choose rows based on their positions<a href="data-transform.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Remember that when you’re in RStudio, the easiest way to see all the columns is <code>View()</code>.<a href="data-transform.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>This is a slightly simplification; later on you’ll learn how to use <code>summarise()</code> to produce multiple summary rows for each group.<a href="data-transform.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="워크플로우-기초.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-tidy.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/data-transform.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
