<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 데이터 타이디하게 하기 | R for Data Science - 한국어</title>
  <meta name="description" content="6 데이터 타이디하게 하기 | R for Data Science - 한국어" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="6 데이터 타이디하게 하기 | R for Data Science - 한국어" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://sulgik.github.io/r4ds/" />
  <meta property="og:image" content="https://sulgik.github.io/r4ds//cover.png" />
  
  <meta name="github-repo" content="sulgik/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 데이터 타이디하게 하기 | R for Data Science - 한국어" />
  <meta name="twitter:site" content="@sulgik" />
  
  <meta name="twitter:image" content="https://sulgik.github.io/r4ds//cover.png" />

<meta name="author" content="해들리 위컴" />
<meta name="author" content="개럿 그롤문드" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-transform.html"/>
<link rel="next" href="워크플로우-스크립트.html"/>
<script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>환영합니다</a></li>
<li class="chapter" data-level="1" data-path="서문.html"><a href="서문.html"><i class="fa fa-check"></i><b>1</b> 서문</a><ul>
<li class="chapter" data-level="1.1" data-path="서문.html"><a href="서문.html#무엇을-배우게-될까"><i class="fa fa-check"></i><b>1.1</b> 무엇을 배우게 될까</a></li>
<li class="chapter" data-level="1.2" data-path="서문.html"><a href="서문.html#이-책의-구성"><i class="fa fa-check"></i><b>1.2</b> 이 책의 구성</a></li>
<li class="chapter" data-level="1.3" data-path="서문.html"><a href="서문.html#배우지-않는-것"><i class="fa fa-check"></i><b>1.3</b> 배우지 않는 것</a><ul>
<li class="chapter" data-level="1.3.1" data-path="서문.html"><a href="서문.html#빅데이터"><i class="fa fa-check"></i><b>1.3.1</b> 빅데이터</a></li>
<li class="chapter" data-level="1.3.2" data-path="서문.html"><a href="서문.html#python-julia"><i class="fa fa-check"></i><b>1.3.2</b> Python, Julia</a></li>
<li class="chapter" data-level="1.3.3" data-path="서문.html"><a href="서문.html#비직사각형-데이터"><i class="fa fa-check"></i><b>1.3.3</b> 비직사각형 데이터</a></li>
<li class="chapter" data-level="1.3.4" data-path="서문.html"><a href="서문.html#가설-확인"><i class="fa fa-check"></i><b>1.3.4</b> 가설 확인</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="서문.html"><a href="서문.html#준비하기"><i class="fa fa-check"></i><b>1.4</b> 준비하기</a><ul>
<li class="chapter" data-level="1.4.1" data-path="서문.html"><a href="서문.html#r"><i class="fa fa-check"></i><b>1.4.1</b> R</a></li>
<li class="chapter" data-level="1.4.2" data-path="서문.html"><a href="서문.html#rstudio"><i class="fa fa-check"></i><b>1.4.2</b> RStudio</a></li>
<li class="chapter" data-level="1.4.3" data-path="서문.html"><a href="서문.html#tidyverse"><i class="fa fa-check"></i><b>1.4.3</b> Tidyverse</a></li>
<li class="chapter" data-level="1.4.4" data-path="서문.html"><a href="서문.html#기타-패키지들"><i class="fa fa-check"></i><b>1.4.4</b> 기타 패키지들</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="서문.html"><a href="서문.html#r-코드-실행하기"><i class="fa fa-check"></i><b>1.5</b> R 코드 실행하기</a></li>
<li class="chapter" data-level="1.6" data-path="서문.html"><a href="서문.html#도움받기-더-배우기"><i class="fa fa-check"></i><b>1.6</b> 도움받기, 더 배우기</a></li>
<li class="chapter" data-level="1.7" data-path="서문.html"><a href="서문.html#acknowledgements"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="서문.html"><a href="서문.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Whole game</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> 소개</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> 데이터 시각화</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#들어가기"><i class="fa fa-check"></i><b>3.1</b> 들어가기</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-visualisation.html"><a href="data-visualisation.html#준비하기-1"><i class="fa fa-check"></i><b>3.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#첫-단계"><i class="fa fa-check"></i><b>3.2</b> 첫 단계</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#mpg-데이터프레임"><i class="fa fa-check"></i><b>3.2.1</b> <code>mpg</code> 데이터프레임</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#ggplot-생성하기"><i class="fa fa-check"></i><b>3.2.2</b> ggplot 생성하기</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#그래프-작성-템플릿"><i class="fa fa-check"></i><b>3.2.3</b> 그래프 작성 템플릿</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#연습문제"><i class="fa fa-check"></i><b>3.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#심미성-매핑"><i class="fa fa-check"></i><b>3.3</b> 심미성 매핑</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a><ul>
<li class="chapter" data-level="3.5.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-1"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a><ul>
<li class="chapter" data-level="3.6.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-2"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#통계적-변환"><i class="fa fa-check"></i><b>3.7</b> 통계적 변환</a><ul>
<li class="chapter" data-level="3.7.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-3"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a><ul>
<li class="chapter" data-level="3.8.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-4"><i class="fa fa-check"></i><b>3.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems</a><ul>
<li class="chapter" data-level="3.9.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-5"><i class="fa fa-check"></i><b>3.9.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html"><i class="fa fa-check"></i><b>4</b> 워크플로우: 기초</a><ul>
<li class="chapter" data-level="4.1" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#코딩-기초"><i class="fa fa-check"></i><b>4.1</b> 코딩 기초</a></li>
<li class="chapter" data-level="4.2" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#이름짓기"><i class="fa fa-check"></i><b>4.2</b> 이름짓기</a></li>
<li class="chapter" data-level="4.3" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#함수-호출하기"><i class="fa fa-check"></i><b>4.3</b> 함수 호출하기</a></li>
<li class="chapter" data-level="4.4" data-path="워크플로우-기초.html"><a href="워크플로우-기초.html#연습문제-1"><i class="fa fa-check"></i><b>4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transform.html"><a href="data-transform.html"><i class="fa fa-check"></i><b>5</b> 데이터 변환</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transform.html"><a href="data-transform.html#들어가기-1"><i class="fa fa-check"></i><b>5.1</b> 들어가기</a><ul>
<li class="chapter" data-level="5.1.1" data-path="data-transform.html"><a href="data-transform.html#준비하기-2"><i class="fa fa-check"></i><b>5.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-transform.html"><a href="data-transform.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-transform.html"><a href="data-transform.html#dplyr-기초"><i class="fa fa-check"></i><b>5.1.3</b> dplyr 기초</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-transform.html"><a href="data-transform.html#행"><i class="fa fa-check"></i><b>5.2</b> 행</a><ul>
<li class="chapter" data-level="5.2.1" data-path="data-transform.html"><a href="data-transform.html#filter"><i class="fa fa-check"></i><b>5.2.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="data-transform.html"><a href="data-transform.html#arrange"><i class="fa fa-check"></i><b>5.2.2</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="data-transform.html"><a href="data-transform.html#exercises-6"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transform.html"><a href="data-transform.html#열"><i class="fa fa-check"></i><b>5.3</b> 열</a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-transform.html"><a href="data-transform.html#mutate"><i class="fa fa-check"></i><b>5.3.1</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transform.html"><a href="data-transform.html#select"><i class="fa fa-check"></i><b>5.3.2</b> <code>select()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data-transform.html"><a href="data-transform.html#rename"><i class="fa fa-check"></i><b>5.3.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="data-transform.html"><a href="data-transform.html#relocate"><i class="fa fa-check"></i><b>5.3.4</b> <code>relocate()</code></a></li>
<li class="chapter" data-level="5.3.5" data-path="data-transform.html"><a href="data-transform.html#exercises-7"><i class="fa fa-check"></i><b>5.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transform.html"><a href="data-transform.html#그룹"><i class="fa fa-check"></i><b>5.4</b> 그룹</a><ul>
<li class="chapter" data-level="5.4.1" data-path="data-transform.html"><a href="data-transform.html#group_by"><i class="fa fa-check"></i><b>5.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transform.html"><a href="data-transform.html#summarise"><i class="fa fa-check"></i><b>5.4.2</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transform.html"><a href="data-transform.html#다중-연산-결합하기"><i class="fa fa-check"></i><b>5.4.3</b> 다중 연산 결합하기</a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transform.html"><a href="data-transform.html#다중변수로-그룹화하기"><i class="fa fa-check"></i><b>5.4.4</b> 다중변수로 그룹화하기</a></li>
<li class="chapter" data-level="5.4.5" data-path="data-transform.html"><a href="data-transform.html#그룹화풀기-ungrouping"><i class="fa fa-check"></i><b>5.4.5</b> 그룹화풀기 (ungrouping)</a></li>
<li class="chapter" data-level="5.4.6" data-path="data-transform.html"><a href="data-transform.html#행-선택하기"><i class="fa fa-check"></i><b>5.4.6</b> 행 선택하기</a></li>
<li class="chapter" data-level="5.4.7" data-path="data-transform.html"><a href="data-transform.html#기타-동사들"><i class="fa fa-check"></i><b>5.4.7</b> 기타 동사들</a></li>
<li class="chapter" data-level="5.4.8" data-path="data-transform.html"><a href="data-transform.html#exercises-8"><i class="fa fa-check"></i><b>5.4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transform.html"><a href="data-transform.html#케이스-스터디-집계aggregates-과-샘플사이즈"><i class="fa fa-check"></i><b>5.5</b> 케이스 스터디: 집계(aggregates) 과 샘플사이즈</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-tidy.html"><a href="data-tidy.html"><i class="fa fa-check"></i><b>6</b> 데이터 타이디하게 하기</a><ul>
<li class="chapter" data-level="6.1" data-path="data-tidy.html"><a href="data-tidy.html#들어가기-2"><i class="fa fa-check"></i><b>6.1</b> 들어가기</a><ul>
<li class="chapter" data-level="6.1.1" data-path="data-tidy.html"><a href="data-tidy.html#준비하기-3"><i class="fa fa-check"></i><b>6.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-tidy.html"><a href="data-tidy.html#tidy-data"><i class="fa fa-check"></i><b>6.2</b> Tidy Data</a><ul>
<li class="chapter" data-level="6.2.1" data-path="data-tidy.html"><a href="data-tidy.html#연습문제-2"><i class="fa fa-check"></i><b>6.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-tidy.html"><a href="data-tidy.html#피봇팅"><i class="fa fa-check"></i><b>6.3</b> 피봇팅</a><ul>
<li class="chapter" data-level="6.3.1" data-path="data-tidy.html"><a href="data-tidy.html#longer"><i class="fa fa-check"></i><b>6.3.1</b> Longer</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-tidy.html"><a href="data-tidy.html#wider"><i class="fa fa-check"></i><b>6.3.2</b> Wider</a></li>
<li class="chapter" data-level="6.3.3" data-path="data-tidy.html"><a href="data-tidy.html#연습문제-3"><i class="fa fa-check"></i><b>6.3.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-tidy.html"><a href="data-tidy.html#사례-연구"><i class="fa fa-check"></i><b>6.4</b> 사례 연구</a><ul>
<li class="chapter" data-level="6.4.1" data-path="data-tidy.html"><a href="data-tidy.html#연습문제-4"><i class="fa fa-check"></i><b>6.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-tidy.html"><a href="data-tidy.html#타이디하지-않은-데이터"><i class="fa fa-check"></i><b>6.5</b> 타이디하지 않은 데이터</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html"><i class="fa fa-check"></i><b>7</b> 워크플로우: 스크립트</a><ul>
<li class="chapter" data-level="7.1" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html#코드-실행하기"><i class="fa fa-check"></i><b>7.1</b> 코드 실행하기</a></li>
<li class="chapter" data-level="7.2" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html#rstudio-진단"><i class="fa fa-check"></i><b>7.2</b> RStudio 진단</a></li>
<li class="chapter" data-level="7.3" data-path="워크플로우-스크립트.html"><a href="워크플로우-스크립트.html#exercises-9"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html"><i class="fa fa-check"></i><b>8</b> 탐색적 데이터 분석</a><ul>
<li class="chapter" data-level="8.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#들어가기-3"><i class="fa fa-check"></i><b>8.1</b> 들어가기</a><ul>
<li class="chapter" data-level="8.1.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#준비하기-4"><i class="fa fa-check"></i><b>8.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#질문"><i class="fa fa-check"></i><b>8.2</b> 질문</a></li>
<li class="chapter" data-level="8.3" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#변량-variation"><i class="fa fa-check"></i><b>8.3</b> 변량 (variation)</a><ul>
<li class="chapter" data-level="8.3.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#분포-시각화"><i class="fa fa-check"></i><b>8.3.1</b> 분포 시각화</a></li>
<li class="chapter" data-level="8.3.2" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#typical-values"><i class="fa fa-check"></i><b>8.3.2</b> Typical values</a></li>
<li class="chapter" data-level="8.3.3" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#unusual-values"><i class="fa fa-check"></i><b>8.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="8.3.4" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#exercises-10"><i class="fa fa-check"></i><b>8.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#missing-values-eda"><i class="fa fa-check"></i><b>8.4</b> Missing values</a><ul>
<li class="chapter" data-level="8.4.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#exercises-11"><i class="fa fa-check"></i><b>8.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#covariation"><i class="fa fa-check"></i><b>8.5</b> Covariation</a><ul>
<li class="chapter" data-level="8.5.1" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#cat-cont"><i class="fa fa-check"></i><b>8.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="8.5.2" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#two-categorical-variables"><i class="fa fa-check"></i><b>8.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="8.5.3" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#two-continuous-variables"><i class="fa fa-check"></i><b>8.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#patterns-and-models"><i class="fa fa-check"></i><b>8.6</b> Patterns and models</a></li>
<li class="chapter" data-level="8.7" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#ggplot2-calls"><i class="fa fa-check"></i><b>8.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="8.8" data-path="탐색적-데이터-분석.html"><a href="탐색적-데이터-분석.html#learning-more"><i class="fa fa-check"></i><b>8.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html"><i class="fa fa-check"></i><b>9</b> 워크플로우: 프로젝트</a><ul>
<li class="chapter" data-level="9.1" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#무엇이-리얼인가"><i class="fa fa-check"></i><b>9.1</b> 무엇이 리얼인가?</a></li>
<li class="chapter" data-level="9.2" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>9.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="9.3" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#paths-and-directories"><i class="fa fa-check"></i><b>9.3</b> Paths and directories</a></li>
<li class="chapter" data-level="9.4" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#rstudio-프로젝트"><i class="fa fa-check"></i><b>9.4</b> RStudio 프로젝트</a></li>
<li class="chapter" data-level="9.5" data-path="워크플로우-프로젝트.html"><a href="워크플로우-프로젝트.html#summary"><i class="fa fa-check"></i><b>9.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II 변환하기</b></span></li>
<li class="chapter" data-level="10" data-path="data-types-intro.html"><a href="data-types-intro.html"><i class="fa fa-check"></i><b>10</b> 들어가기</a></li>
<li class="chapter" data-level="11" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>11</b> 티블</a><ul>
<li class="chapter" data-level="11.1" data-path="tibbles.html"><a href="tibbles.html#들어가기-4"><i class="fa fa-check"></i><b>11.1</b> 들어가기</a><ul>
<li class="chapter" data-level="11.1.1" data-path="tibbles.html"><a href="tibbles.html#준비하기-5"><i class="fa fa-check"></i><b>11.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="tibbles.html"><a href="tibbles.html#tibble-생성하기"><i class="fa fa-check"></i><b>11.2</b> tibble 생성하기</a></li>
<li class="chapter" data-level="11.3" data-path="tibbles.html"><a href="tibbles.html#tibble-vs.-data.frame"><i class="fa fa-check"></i><b>11.3</b> Tibble vs. data.frame</a><ul>
<li class="chapter" data-level="11.3.1" data-path="tibbles.html"><a href="tibbles.html#화면출력"><i class="fa fa-check"></i><b>11.3.1</b> 화면출력</a></li>
<li class="chapter" data-level="11.3.2" data-path="tibbles.html"><a href="tibbles.html#서브셋하기"><i class="fa fa-check"></i><b>11.3.2</b> 서브셋하기</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="tibbles.html"><a href="tibbles.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>11.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="11.5" data-path="tibbles.html"><a href="tibbles.html#연습문제-5"><i class="fa fa-check"></i><b>11.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>12</b> 관계형 데이터</a><ul>
<li class="chapter" data-level="12.1" data-path="relational-data.html"><a href="relational-data.html#들어가기-5"><i class="fa fa-check"></i><b>12.1</b> 들어가기</a><ul>
<li class="chapter" data-level="12.1.1" data-path="relational-data.html"><a href="relational-data.html#준비하기-6"><i class="fa fa-check"></i><b>12.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>12.2</b> nycflights13</a><ul>
<li class="chapter" data-level="12.2.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-6"><i class="fa fa-check"></i><b>12.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="relational-data.html"><a href="relational-data.html#키"><i class="fa fa-check"></i><b>12.3</b> 키</a><ul>
<li class="chapter" data-level="12.3.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-7"><i class="fa fa-check"></i><b>12.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>12.4</b> 뮤테이팅 조인</a><ul>
<li class="chapter" data-level="12.4.1" data-path="relational-data.html"><a href="relational-data.html#조인-이해하기"><i class="fa fa-check"></i><b>12.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="12.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>12.4.2</b> 내부 조인</a></li>
<li class="chapter" data-level="12.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>12.4.3</b> 외부 조인</a></li>
<li class="chapter" data-level="12.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>12.4.4</b> 중복키</a></li>
<li class="chapter" data-level="12.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>12.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="12.4.6" data-path="relational-data.html"><a href="relational-data.html#연습문제-8"><i class="fa fa-check"></i><b>12.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="12.4.7" data-path="relational-data.html"><a href="relational-data.html#기타-구현"><i class="fa fa-check"></i><b>12.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>12.5</b> 필터링 조인</a><ul>
<li class="chapter" data-level="12.5.1" data-path="relational-data.html"><a href="relational-data.html#연습문제-9"><i class="fa fa-check"></i><b>12.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="relational-data.html"><a href="relational-data.html#조인-문제"><i class="fa fa-check"></i><b>12.6</b> 조인 문제</a></li>
<li class="chapter" data-level="12.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>12.7</b> 집합 연산</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>13</b> 결측값</a><ul>
<li class="chapter" data-level="13.1" data-path="missing-values.html"><a href="missing-values.html#들어가기-6"><i class="fa fa-check"></i><b>13.1</b> 들어가기</a></li>
<li class="chapter" data-level="13.2" data-path="missing-values.html"><a href="missing-values.html#기초"><i class="fa fa-check"></i><b>13.2</b> 기초</a><ul>
<li class="chapter" data-level="13.2.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-filter"><i class="fa fa-check"></i><b>13.2.1</b> 결측값</a></li>
<li class="chapter" data-level="13.2.2" data-path="missing-values.html"><a href="missing-values.html#exercises-15"><i class="fa fa-check"></i><b>13.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="missing-values.html"><a href="missing-values.html#missing-values-tidy"><i class="fa fa-check"></i><b>13.3</b> 명시적 vs 암묵적 결측값</a><ul>
<li class="chapter" data-level="13.3.1" data-path="missing-values.html"><a href="missing-values.html#exercises-16"><i class="fa fa-check"></i><b>13.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="missing-values.html"><a href="missing-values.html#dplyr-verbs"><i class="fa fa-check"></i><b>13.4</b> dplyr verbs</a></li>
<li class="chapter" data-level="13.5" data-path="missing-values.html"><a href="missing-values.html#exercises-17"><i class="fa fa-check"></i><b>13.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>14</b> 문자열</a><ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#들어가기-7"><i class="fa fa-check"></i><b>14.1</b> 들어가기</a><ul>
<li class="chapter" data-level="14.1.1" data-path="strings.html"><a href="strings.html#준비하기-7"><i class="fa fa-check"></i><b>14.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="strings.html"><a href="strings.html#strings-basics"><i class="fa fa-check"></i><b>14.2</b> 문자열 기초</a><ul>
<li class="chapter" data-level="14.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>14.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="14.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>14.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="14.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>14.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="14.2.4" data-path="strings.html"><a href="strings.html#로캘"><i class="fa fa-check"></i><b>14.2.4</b> 로캘</a></li>
<li class="chapter" data-level="14.2.5" data-path="strings.html"><a href="strings.html#연습문제-10"><i class="fa fa-check"></i><b>14.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings.html"><a href="strings.html#정규표현식을-이용한-패턴-매칭"><i class="fa fa-check"></i><b>14.3</b> 정규표현식을 이용한 패턴 매칭</a><ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#기초-매칭"><i class="fa fa-check"></i><b>14.3.1</b> 기초 매칭</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>14.3.2</b> 앵커</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>14.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>14.3.4</b> 반복</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>14.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="strings.html"><a href="strings.html#도구"><i class="fa fa-check"></i><b>14.4</b> 도구</a><ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>14.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>14.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="14.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>14.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="14.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>14.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="14.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>14.4.5</b> Splitting</a></li>
<li class="chapter" data-level="14.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>14.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="strings.html"><a href="strings.html#기타-패턴-유형"><i class="fa fa-check"></i><b>14.5</b> 기타 패턴 유형</a><ul>
<li class="chapter" data-level="14.5.1" data-path="strings.html"><a href="strings.html#연습문제-21"><i class="fa fa-check"></i><b>14.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="strings.html"><a href="strings.html#정규표현식의-기타-용도"><i class="fa fa-check"></i><b>14.6</b> 정규표현식의 기타 용도</a></li>
<li class="chapter" data-level="14.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>14.7</b> stringi</a><ul>
<li class="chapter" data-level="14.7.1" data-path="strings.html"><a href="strings.html#연습문제-22"><i class="fa fa-check"></i><b>14.7.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>15</b> 팩터형</a><ul>
<li class="chapter" data-level="15.1" data-path="factors.html"><a href="factors.html#들어가기-8"><i class="fa fa-check"></i><b>15.1</b> 들어가기</a><ul>
<li class="chapter" data-level="15.1.1" data-path="factors.html"><a href="factors.html#준비하기-8"><i class="fa fa-check"></i><b>15.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="15.1.2" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>15.1.2</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="factors.html"><a href="factors.html#팩터형-생성하기"><i class="fa fa-check"></i><b>15.2</b> 팩터형 생성하기</a></li>
<li class="chapter" data-level="15.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>15.3</b> General Social Survey</a><ul>
<li class="chapter" data-level="15.3.1" data-path="factors.html"><a href="factors.html#연습문제-23"><i class="fa fa-check"></i><b>15.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="factors.html"><a href="factors.html#팩터-순서-수정하기"><i class="fa fa-check"></i><b>15.4</b> 팩터 순서 수정하기</a><ul>
<li class="chapter" data-level="15.4.1" data-path="factors.html"><a href="factors.html#연습문제-24"><i class="fa fa-check"></i><b>15.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="factors.html"><a href="factors.html#팩터-레벨-수정하기"><i class="fa fa-check"></i><b>15.5</b> 팩터 레벨 수정하기</a><ul>
<li class="chapter" data-level="15.5.1" data-path="factors.html"><a href="factors.html#연습문제-25"><i class="fa fa-check"></i><b>15.5.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>16</b> 날짜와 시간</a><ul>
<li class="chapter" data-level="16.1" data-path="dates-and-times.html"><a href="dates-and-times.html#들어가기-9"><i class="fa fa-check"></i><b>16.1</b> 들어가기</a><ul>
<li class="chapter" data-level="16.1.1" data-path="dates-and-times.html"><a href="dates-and-times.html#준비하기-9"><i class="fa fa-check"></i><b>16.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="dates-and-times.html"><a href="dates-and-times.html#날짜시간-생성하기"><i class="fa fa-check"></i><b>16.2</b> 날짜/시간 생성하기</a><ul>
<li class="chapter" data-level="16.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#문자열에서-생성"><i class="fa fa-check"></i><b>16.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="16.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#개별-구성요소에서-생성"><i class="fa fa-check"></i><b>16.2.2</b> 개별 구성요소에서 생성</a></li>
<li class="chapter" data-level="16.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>16.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="16.2.4" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-26"><i class="fa fa-check"></i><b>16.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="dates-and-times.html"><a href="dates-and-times.html#데이트-타임형-구성요소"><i class="fa fa-check"></i><b>16.3</b> 데이트-타임형 구성요소</a><ul>
<li class="chapter" data-level="16.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-가져오기"><i class="fa fa-check"></i><b>16.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="16.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#반올림"><i class="fa fa-check"></i><b>16.3.2</b> 반올림</a></li>
<li class="chapter" data-level="16.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-설정"><i class="fa fa-check"></i><b>16.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="16.3.4" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-27"><i class="fa fa-check"></i><b>16.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="dates-and-times.html"><a href="dates-and-times.html#시간-범위"><i class="fa fa-check"></i><b>16.4</b> 시간 범위</a><ul>
<li class="chapter" data-level="16.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#듀레이션형"><i class="fa fa-check"></i><b>16.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="16.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#피리어드형"><i class="fa fa-check"></i><b>16.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="16.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#인터벌형"><i class="fa fa-check"></i><b>16.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="16.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#요약"><i class="fa fa-check"></i><b>16.4.4</b> 요약</a></li>
<li class="chapter" data-level="16.4.5" data-path="dates-and-times.html"><a href="dates-and-times.html#연습문제-28"><i class="fa fa-check"></i><b>16.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>16.5</b> 시간대</a></li>
</ul></li>
<li class="part"><span><b>III 불러오기</b></span></li>
<li class="chapter" data-level="17" data-path="import-intro.html"><a href="import-intro.html"><i class="fa fa-check"></i><b>17</b> 들어가기</a></li>
<li class="chapter" data-level="18" data-path="import-rectangular.html"><a href="import-rectangular.html"><i class="fa fa-check"></i><b>18</b> 직사각형 데이터</a><ul>
<li class="chapter" data-level="18.1" data-path="import-rectangular.html"><a href="import-rectangular.html#벡터-파싱하기"><i class="fa fa-check"></i><b>18.1</b> 벡터 파싱하기</a><ul>
<li class="chapter" data-level="18.1.1" data-path="import-rectangular.html"><a href="import-rectangular.html#숫자"><i class="fa fa-check"></i><b>18.1.1</b> 숫자</a></li>
<li class="chapter" data-level="18.1.2" data-path="import-rectangular.html"><a href="import-rectangular.html#readr-strings"><i class="fa fa-check"></i><b>18.1.2</b> 문자열</a></li>
<li class="chapter" data-level="18.1.3" data-path="import-rectangular.html"><a href="import-rectangular.html#readr-factors"><i class="fa fa-check"></i><b>18.1.3</b> 팩터형</a></li>
<li class="chapter" data-level="18.1.4" data-path="import-rectangular.html"><a href="import-rectangular.html#readr-datetimes"><i class="fa fa-check"></i><b>18.1.4</b> 데이트형, 데이트-타임형, 타임형</a></li>
<li class="chapter" data-level="18.1.5" data-path="import-rectangular.html"><a href="import-rectangular.html#연습문제-29"><i class="fa fa-check"></i><b>18.1.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="import-rectangular.html"><a href="import-rectangular.html#파일-파싱하기"><i class="fa fa-check"></i><b>18.2</b> 파일 파싱하기</a><ul>
<li class="chapter" data-level="18.2.1" data-path="import-rectangular.html"><a href="import-rectangular.html#전략"><i class="fa fa-check"></i><b>18.2.1</b> 전략</a></li>
<li class="chapter" data-level="18.2.2" data-path="import-rectangular.html"><a href="import-rectangular.html#문제점"><i class="fa fa-check"></i><b>18.2.2</b> 문제점</a></li>
<li class="chapter" data-level="18.2.3" data-path="import-rectangular.html"><a href="import-rectangular.html#기타-전략"><i class="fa fa-check"></i><b>18.2.3</b> 기타 전략</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html"><i class="fa fa-check"></i><b>19</b> 스프레드시트</a><ul>
<li class="chapter" data-level="19.1" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#들어가기-10"><i class="fa fa-check"></i><b>19.1</b> 들어가기</a></li>
<li class="chapter" data-level="19.2" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#엑셀"><i class="fa fa-check"></i><b>19.2</b> 엑셀</a><ul>
<li class="chapter" data-level="19.2.1" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#준비하기-10"><i class="fa fa-check"></i><b>19.2.1</b> 준비하기</a></li>
<li class="chapter" data-level="19.2.2" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#시작하기"><i class="fa fa-check"></i><b>19.2.2</b> 시작하기</a></li>
<li class="chapter" data-level="19.2.3" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#스프레드시트-읽어오기"><i class="fa fa-check"></i><b>19.2.3</b> 스프레드시트 읽어오기</a></li>
<li class="chapter" data-level="19.2.4" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#개별-시트-읽어오기"><i class="fa fa-check"></i><b>19.2.4</b> 개별 시트 읽어오기</a></li>
<li class="chapter" data-level="19.2.5" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#reading-part-of-a-sheet"><i class="fa fa-check"></i><b>19.2.5</b> Reading part of a sheet</a></li>
<li class="chapter" data-level="19.2.6" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#data-types"><i class="fa fa-check"></i><b>19.2.6</b> Data types</a></li>
<li class="chapter" data-level="19.2.7" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#data-not-in-cell-values"><i class="fa fa-check"></i><b>19.2.7</b> Data not in cell values</a></li>
<li class="chapter" data-level="19.2.8" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#writing-to-excel"><i class="fa fa-check"></i><b>19.2.8</b> Writing to Excel</a></li>
<li class="chapter" data-level="19.2.9" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#formatted-output"><i class="fa fa-check"></i><b>19.2.9</b> Formatted output</a></li>
<li class="chapter" data-level="19.2.10" data-path="import-spreadsheets.html"><a href="import-spreadsheets.html#exercises-18"><i class="fa fa-check"></i><b>19.2.10</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV 프로그래밍</b></span></li>
<li class="chapter" data-level="20" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>20</b> 소개</a><ul>
<li class="chapter" data-level="20.1" data-path="program-intro.html"><a href="program-intro.html#learning-more-1"><i class="fa fa-check"></i><b>20.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="Pipes.html"><a href="Pipes.html"><i class="fa fa-check"></i><b>21</b> 파이프</a><ul>
<li class="chapter" data-level="21.1" data-path="Pipes.html"><a href="Pipes.html#들어가기-11"><i class="fa fa-check"></i><b>21.1</b> 들어가기</a><ul>
<li class="chapter" data-level="21.1.1" data-path="Pipes.html"><a href="Pipes.html#준비하기-11"><i class="fa fa-check"></i><b>21.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="Pipes.html"><a href="Pipes.html#파이프-대안"><i class="fa fa-check"></i><b>21.2</b> 파이프 대안</a><ul>
<li class="chapter" data-level="21.2.1" data-path="Pipes.html"><a href="Pipes.html#중간단계-이용"><i class="fa fa-check"></i><b>21.2.1</b> 중간단계 이용</a></li>
<li class="chapter" data-level="21.2.2" data-path="Pipes.html"><a href="Pipes.html#원본-덮어쓰기"><i class="fa fa-check"></i><b>21.2.2</b> 원본 덮어쓰기</a></li>
<li class="chapter" data-level="21.2.3" data-path="Pipes.html"><a href="Pipes.html#함수-작성"><i class="fa fa-check"></i><b>21.2.3</b> 함수 작성</a></li>
<li class="chapter" data-level="21.2.4" data-path="Pipes.html"><a href="Pipes.html#파이프-사용"><i class="fa fa-check"></i><b>21.2.4</b> 파이프 사용</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="Pipes.html"><a href="Pipes.html#파이프를-사용하지-않아야-할-경우"><i class="fa fa-check"></i><b>21.3</b> 파이프를 사용하지 않아야 할 경우</a></li>
<li class="chapter" data-level="21.4" data-path="Pipes.html"><a href="Pipes.html#magrittr-의-기타-도구"><i class="fa fa-check"></i><b>21.4</b> magrittr 의 기타 도구</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>22</b> 함수</a><ul>
<li class="chapter" data-level="22.1" data-path="functions.html"><a href="functions.html#들어가기-12"><i class="fa fa-check"></i><b>22.1</b> 들어가기</a><ul>
<li class="chapter" data-level="22.1.1" data-path="functions.html"><a href="functions.html#준비하기-12"><i class="fa fa-check"></i><b>22.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="functions.html"><a href="functions.html#함수를-언제-작성해야-하나"><i class="fa fa-check"></i><b>22.2</b> 함수를 언제 작성해야 하나?</a><ul>
<li class="chapter" data-level="22.2.1" data-path="functions.html"><a href="functions.html#연습문제-30"><i class="fa fa-check"></i><b>22.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="functions.html"><a href="functions.html#함수는-사람과-컴퓨터를-위한-것"><i class="fa fa-check"></i><b>22.3</b> 함수는 사람과 컴퓨터를 위한 것</a><ul>
<li class="chapter" data-level="22.3.1" data-path="functions.html"><a href="functions.html#연습문제-31"><i class="fa fa-check"></i><b>22.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="functions.html"><a href="functions.html#조건부-실행"><i class="fa fa-check"></i><b>22.4</b> 조건부 실행</a><ul>
<li class="chapter" data-level="22.4.1" data-path="functions.html"><a href="functions.html#조건문"><i class="fa fa-check"></i><b>22.4.1</b> 조건문</a></li>
<li class="chapter" data-level="22.4.2" data-path="functions.html"><a href="functions.html#다중-조건"><i class="fa fa-check"></i><b>22.4.2</b> 다중 조건</a></li>
<li class="chapter" data-level="22.4.3" data-path="functions.html"><a href="functions.html#코드-스타일"><i class="fa fa-check"></i><b>22.4.3</b> 코드 스타일</a></li>
<li class="chapter" data-level="22.4.4" data-path="functions.html"><a href="functions.html#연습문제-32"><i class="fa fa-check"></i><b>22.4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="functions.html"><a href="functions.html#함수-인수"><i class="fa fa-check"></i><b>22.5</b> 함수 인수</a><ul>
<li class="chapter" data-level="22.5.1" data-path="functions.html"><a href="functions.html#이름-정하기"><i class="fa fa-check"></i><b>22.5.1</b> 이름 정하기</a></li>
<li class="chapter" data-level="22.5.2" data-path="functions.html"><a href="functions.html#값-확인하기"><i class="fa fa-check"></i><b>22.5.2</b> 값 확인하기</a></li>
<li class="chapter" data-level="22.5.3" data-path="functions.html"><a href="functions.html#점-점-점"><i class="fa fa-check"></i><b>22.5.3</b> 점-점-점 (…)</a></li>
<li class="chapter" data-level="22.5.4" data-path="functions.html"><a href="functions.html#지연-평가"><i class="fa fa-check"></i><b>22.5.4</b> 지연 평가</a></li>
<li class="chapter" data-level="22.5.5" data-path="functions.html"><a href="functions.html#연습문제-33"><i class="fa fa-check"></i><b>22.5.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="functions.html"><a href="functions.html#반환값"><i class="fa fa-check"></i><b>22.6</b> 반환값</a><ul>
<li class="chapter" data-level="22.6.1" data-path="functions.html"><a href="functions.html#명시적-반환문"><i class="fa fa-check"></i><b>22.6.1</b> 명시적 반환문</a></li>
<li class="chapter" data-level="22.6.2" data-path="functions.html"><a href="functions.html#파이핑-가능한-함수-작성하기"><i class="fa fa-check"></i><b>22.6.2</b> 파이핑 가능한 함수 작성하기</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="functions.html"><a href="functions.html#환경"><i class="fa fa-check"></i><b>22.7</b> 환경</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>23</b> 벡터</a><ul>
<li class="chapter" data-level="23.1" data-path="vectors.html"><a href="vectors.html#들어가기-13"><i class="fa fa-check"></i><b>23.1</b> 들어가기</a><ul>
<li class="chapter" data-level="23.1.1" data-path="vectors.html"><a href="vectors.html#준비하기-13"><i class="fa fa-check"></i><b>23.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="vectors.html"><a href="vectors.html#벡터-기본-사항"><i class="fa fa-check"></i><b>23.2</b> 벡터 기본 사항</a></li>
<li class="chapter" data-level="23.3" data-path="vectors.html"><a href="vectors.html#원자-벡터의-주요-유형"><i class="fa fa-check"></i><b>23.3</b> 원자 벡터의 주요 유형</a><ul>
<li class="chapter" data-level="23.3.1" data-path="vectors.html"><a href="vectors.html#논리형"><i class="fa fa-check"></i><b>23.3.1</b> 논리형</a></li>
<li class="chapter" data-level="23.3.2" data-path="vectors.html"><a href="vectors.html#수치형"><i class="fa fa-check"></i><b>23.3.2</b> 수치형</a></li>
<li class="chapter" data-level="23.3.3" data-path="vectors.html"><a href="vectors.html#문자형"><i class="fa fa-check"></i><b>23.3.3</b> 문자형</a></li>
<li class="chapter" data-level="23.3.4" data-path="vectors.html"><a href="vectors.html#결측값"><i class="fa fa-check"></i><b>23.3.4</b> 결측값</a></li>
<li class="chapter" data-level="23.3.5" data-path="vectors.html"><a href="vectors.html#연습문제-34"><i class="fa fa-check"></i><b>23.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="vectors.html"><a href="vectors.html#원자벡터-이용하기"><i class="fa fa-check"></i><b>23.4</b> 원자벡터 이용하기</a><ul>
<li class="chapter" data-level="23.4.1" data-path="vectors.html"><a href="vectors.html#강제변환"><i class="fa fa-check"></i><b>23.4.1</b> 강제변환</a></li>
<li class="chapter" data-level="23.4.2" data-path="vectors.html"><a href="vectors.html#테스트-함수"><i class="fa fa-check"></i><b>23.4.2</b> 테스트 함수</a></li>
<li class="chapter" data-level="23.4.3" data-path="vectors.html"><a href="vectors.html#스칼라와-재활용-규칙"><i class="fa fa-check"></i><b>23.4.3</b> 스칼라와 재활용 규칙</a></li>
<li class="chapter" data-level="23.4.4" data-path="vectors.html"><a href="vectors.html#벡터-이름-짓기"><i class="fa fa-check"></i><b>23.4.4</b> 벡터 이름 짓기</a></li>
<li class="chapter" data-level="23.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>23.4.5</b> 서브셋하기</a></li>
<li class="chapter" data-level="23.4.6" data-path="vectors.html"><a href="vectors.html#연습문제-35"><i class="fa fa-check"></i><b>23.4.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>23.5</b> 재귀 벡터 (리스트)</a><ul>
<li class="chapter" data-level="23.5.1" data-path="vectors.html"><a href="vectors.html#리스트-시각화"><i class="fa fa-check"></i><b>23.5.1</b> 리스트 시각화</a></li>
<li class="chapter" data-level="23.5.2" data-path="vectors.html"><a href="vectors.html#서브셋하기-1"><i class="fa fa-check"></i><b>23.5.2</b> 서브셋하기</a></li>
<li class="chapter" data-level="23.5.3" data-path="vectors.html"><a href="vectors.html#후추-리스트"><i class="fa fa-check"></i><b>23.5.3</b> 후추 리스트</a></li>
<li class="chapter" data-level="23.5.4" data-path="vectors.html"><a href="vectors.html#exercises-19"><i class="fa fa-check"></i><b>23.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="23.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>23.6</b> Attributes</a></li>
<li class="chapter" data-level="23.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>23.7</b> Augmented vectors</a><ul>
<li class="chapter" data-level="23.7.1" data-path="vectors.html"><a href="vectors.html#factors-1"><i class="fa fa-check"></i><b>23.7.1</b> Factors</a></li>
<li class="chapter" data-level="23.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>23.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="23.7.3" data-path="vectors.html"><a href="vectors.html#tibbles-1"><i class="fa fa-check"></i><b>23.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="23.7.4" data-path="vectors.html"><a href="vectors.html#exercises-20"><i class="fa fa-check"></i><b>23.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>24</b> 반복</a><ul>
<li class="chapter" data-level="24.1" data-path="iteration.html"><a href="iteration.html#들어가기-14"><i class="fa fa-check"></i><b>24.1</b> 들어가기</a><ul>
<li class="chapter" data-level="24.1.1" data-path="iteration.html"><a href="iteration.html#준비하기-14"><i class="fa fa-check"></i><b>24.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="iteration.html"><a href="iteration.html#for-루프"><i class="fa fa-check"></i><b>24.2</b> For 루프</a><ul>
<li class="chapter" data-level="24.2.1" data-path="iteration.html"><a href="iteration.html#exercises-21"><i class="fa fa-check"></i><b>24.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>24.3</b> For loop variations</a><ul>
<li class="chapter" data-level="24.3.1" data-path="iteration.html"><a href="iteration.html#modifying-an-existing-object"><i class="fa fa-check"></i><b>24.3.1</b> Modifying an existing object</a></li>
<li class="chapter" data-level="24.3.2" data-path="iteration.html"><a href="iteration.html#looping-patterns"><i class="fa fa-check"></i><b>24.3.2</b> Looping patterns</a></li>
<li class="chapter" data-level="24.3.3" data-path="iteration.html"><a href="iteration.html#unknown-output-length"><i class="fa fa-check"></i><b>24.3.3</b> Unknown output length</a></li>
<li class="chapter" data-level="24.3.4" data-path="iteration.html"><a href="iteration.html#unknown-sequence-length"><i class="fa fa-check"></i><b>24.3.4</b> Unknown sequence length</a></li>
<li class="chapter" data-level="24.3.5" data-path="iteration.html"><a href="iteration.html#exercises-22"><i class="fa fa-check"></i><b>24.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>24.4</b> For loops vs. functionals</a><ul>
<li class="chapter" data-level="24.4.1" data-path="iteration.html"><a href="iteration.html#exercises-23"><i class="fa fa-check"></i><b>24.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>24.5</b> The map functions</a><ul>
<li class="chapter" data-level="24.5.1" data-path="iteration.html"><a href="iteration.html#단축어"><i class="fa fa-check"></i><b>24.5.1</b> 단축어</a></li>
<li class="chapter" data-level="24.5.2" data-path="iteration.html"><a href="iteration.html#base-r"><i class="fa fa-check"></i><b>24.5.2</b> Base R</a></li>
<li class="chapter" data-level="24.5.3" data-path="iteration.html"><a href="iteration.html#exercises-24"><i class="fa fa-check"></i><b>24.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>24.6</b> Dealing with failure</a></li>
<li class="chapter" data-level="24.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>24.7</b> Mapping over multiple arguments</a><ul>
<li class="chapter" data-level="24.7.1" data-path="iteration.html"><a href="iteration.html#invoking-different-functions"><i class="fa fa-check"></i><b>24.7.1</b> Invoking different functions</a></li>
</ul></li>
<li class="chapter" data-level="24.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>24.8</b> Walk</a></li>
<li class="chapter" data-level="24.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>24.9</b> Other patterns of for loops</a><ul>
<li class="chapter" data-level="24.9.1" data-path="iteration.html"><a href="iteration.html#predicate-functions"><i class="fa fa-check"></i><b>24.9.1</b> Predicate functions</a></li>
<li class="chapter" data-level="24.9.2" data-path="iteration.html"><a href="iteration.html#reduce-and-accumulate"><i class="fa fa-check"></i><b>24.9.2</b> Reduce and accumulate</a></li>
<li class="chapter" data-level="24.9.3" data-path="iteration.html"><a href="iteration.html#exercises-25"><i class="fa fa-check"></i><b>24.9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24.10" data-path="iteration.html"><a href="iteration.html#case-study"><i class="fa fa-check"></i><b>24.10</b> Case study</a></li>
</ul></li>
<li class="part"><span><b>V 의사소통하기</b></span></li>
<li class="chapter" data-level="25" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>25</b> 소개</a></li>
<li class="chapter" data-level="26" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>26</b> R 마크다운</a><ul>
<li class="chapter" data-level="26.1" data-path="rmarkdown.html"><a href="rmarkdown.html#들어가기-15"><i class="fa fa-check"></i><b>26.1</b> 들어가기</a><ul>
<li class="chapter" data-level="26.1.1" data-path="rmarkdown.html"><a href="rmarkdown.html#준비하기-15"><i class="fa fa-check"></i><b>26.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="rmarkdown.html"><a href="rmarkdown.html#r-마크다운-기초"><i class="fa fa-check"></i><b>26.2</b> R 마크다운 기초</a><ul>
<li class="chapter" data-level="26.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#연습문제-36"><i class="fa fa-check"></i><b>26.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="rmarkdown.html"><a href="rmarkdown.html#마크다운으로-텍스트-서식-지정하기"><i class="fa fa-check"></i><b>26.3</b> 마크다운으로 텍스트 서식 지정하기</a><ul>
<li class="chapter" data-level="26.3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#연습문제-37"><i class="fa fa-check"></i><b>26.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="rmarkdown.html"><a href="rmarkdown.html#코드-청크"><i class="fa fa-check"></i><b>26.4</b> 코드 청크</a><ul>
<li class="chapter" data-level="26.4.1" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-이름"><i class="fa fa-check"></i><b>26.4.1</b> 청크 이름</a></li>
<li class="chapter" data-level="26.4.2" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-옵션"><i class="fa fa-check"></i><b>26.4.2</b> 청크 옵션</a></li>
<li class="chapter" data-level="26.4.3" data-path="rmarkdown.html"><a href="rmarkdown.html#표"><i class="fa fa-check"></i><b>26.4.3</b> 표</a></li>
<li class="chapter" data-level="26.4.4" data-path="rmarkdown.html"><a href="rmarkdown.html#캐싱"><i class="fa fa-check"></i><b>26.4.4</b> 캐싱</a></li>
<li class="chapter" data-level="26.4.5" data-path="rmarkdown.html"><a href="rmarkdown.html#전역-옵션"><i class="fa fa-check"></i><b>26.4.5</b> 전역 옵션</a></li>
<li class="chapter" data-level="26.4.6" data-path="rmarkdown.html"><a href="rmarkdown.html#inline-code"><i class="fa fa-check"></i><b>26.4.6</b> Inline code</a></li>
<li class="chapter" data-level="26.4.7" data-path="rmarkdown.html"><a href="rmarkdown.html#exercises-26"><i class="fa fa-check"></i><b>26.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="rmarkdown.html"><a href="rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>26.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="26.6" data-path="rmarkdown.html"><a href="rmarkdown.html#yaml-header"><i class="fa fa-check"></i><b>26.6</b> YAML header</a><ul>
<li class="chapter" data-level="26.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#parameters"><i class="fa fa-check"></i><b>26.6.1</b> Parameters</a></li>
<li class="chapter" data-level="26.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>26.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="26.7" data-path="rmarkdown.html"><a href="rmarkdown.html#learning-more-2"><i class="fa fa-check"></i><b>26.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>27</b> 그래프를 통한 의사소통</a><ul>
<li class="chapter" data-level="27.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#들어가기-16"><i class="fa fa-check"></i><b>27.1</b> 들어가기</a><ul>
<li class="chapter" data-level="27.1.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#준비하기-16"><i class="fa fa-check"></i><b>27.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>27.2</b> Label</a><ul>
<li class="chapter" data-level="27.2.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-27"><i class="fa fa-check"></i><b>27.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>27.3</b> Annotations</a><ul>
<li class="chapter" data-level="27.3.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-28"><i class="fa fa-check"></i><b>27.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>27.4</b> Scales</a><ul>
<li class="chapter" data-level="27.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>27.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="27.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>27.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="27.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>27.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="27.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-29"><i class="fa fa-check"></i><b>27.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>27.5</b> Zooming</a></li>
<li class="chapter" data-level="27.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>27.6</b> Themes</a></li>
<li class="chapter" data-level="27.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>27.7</b> Saving your plots</a><ul>
<li class="chapter" data-level="27.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>27.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="27.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>27.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="27.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-3"><i class="fa fa-check"></i><b>27.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html"><i class="fa fa-check"></i><b>28</b> R 마크다운 유형</a><ul>
<li class="chapter" data-level="28.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#들어가기-17"><i class="fa fa-check"></i><b>28.1</b> 들어가기</a></li>
<li class="chapter" data-level="28.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#출력-옵션"><i class="fa fa-check"></i><b>28.2</b> 출력 옵션</a></li>
<li class="chapter" data-level="28.3" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#document"><i class="fa fa-check"></i><b>28.3</b> Document</a></li>
<li class="chapter" data-level="28.4" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#notebook"><i class="fa fa-check"></i><b>28.4</b> Notebook</a></li>
<li class="chapter" data-level="28.5" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#presentation"><i class="fa fa-check"></i><b>28.5</b> Presentation</a></li>
<li class="chapter" data-level="28.6" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#dashboard"><i class="fa fa-check"></i><b>28.6</b> Dashboard</a></li>
<li class="chapter" data-level="28.7" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#대화형-동작"><i class="fa fa-check"></i><b>28.7</b> 대화형 동작</a><ul>
<li class="chapter" data-level="28.7.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>28.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="28.7.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#shiny"><i class="fa fa-check"></i><b>28.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="28.8" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#website"><i class="fa fa-check"></i><b>28.8</b> Website</a></li>
<li class="chapter" data-level="28.9" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#other-formats"><i class="fa fa-check"></i><b>28.9</b> Other formats</a></li>
<li class="chapter" data-level="28.10" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#더-배우기-1"><i class="fa fa-check"></i><b>28.10</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="rmarkdown-workflow.html"><a href="rmarkdown-workflow.html"><i class="fa fa-check"></i><b>29</b> R 마크다운 워크플로</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science - 한국어</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-tidy" class="section level1">
<h1><span class="header-section-number">6</span> 데이터 타이디하게 하기</h1>
<div id="들어가기-2" class="section level2">
<h2><span class="header-section-number">6.1</span> 들어가기</h2>
<blockquote>
<p>“행복한 가정은 모두 비슷하다. 불행한 가족은 자기 멋대로 불행하다.” — 레프 톨스토이</p>
</blockquote>
<blockquote>
<p>“깔끔한 데이터셋은 모두 비슷하지만 엉망인 데이터셋은 자기 멋대로 엉망이다.” — 해들리 위컴</p>
</blockquote>
<p>이 장에서는 R에서 데이터를 일관성 있게 정리하는 법을 학습한다. 이는 타이디(tidy, 깔끔한) 데이터라는 구조이다. 타이디 데이터 형식으로 만들기 위해서는 일부 선행되는 작업이 필요하지만, 장기적으로 이러한 작업이 큰 도움이 된다. tidyverse의 패키지들에 있는 타이디 데이터와 도구를 사용하면 데이터를 기존 표현법에서 다른 표현법으로 훨씬 짧은 시간 안에 처리할 수 있고, 따라서 분석 문제를 다루는 일에 더 많은 시간을 쓸 수 있게 된다.</p>
<p>이 장에서는 타이디 데이터에 대해 실무적으로 소개하고, <strong>tidyr</strong> 패키지에 포함된 도구를 살펴본다.
Journal of Statistical Software 에 실린 <a href="https://www.jstatsoft.org/article/view/v059i10">Tidy Data 논문</a> 에는 기본 이론에 대해 더 자세히 설명이 되어있다.</p>
<div id="준비하기-3" class="section level3">
<h3><span class="header-section-number">6.1.1</span> 준비하기</h3>
<p>이 장에서는 지저분한 데이터셋을 정리하는 도구가 있는 <strong>tidyr</strong> 패키지에 중점을 둘 것이다. <strong>tidyr</strong> 은 tidyverse 의 핵심 구성요소로 포함되어 있다.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="data-tidy.html#cb101-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
</div>
</div>
<div id="tidy-data" class="section level2">
<h2><span class="header-section-number">6.2</span> Tidy Data</h2>
<p>하나의 기본 데이터를 표현하는 방식은 다양하다. 다음 예는 같은 데이터를 다른 네 가지 방식으로 구성하여 보여준다. 각 데이터셋은 country(국가), year(연도), population(인구) 및 cases(사례), 네 개의 변수 값을 동일하게 보여주지만 다른 방식으로 구성한다.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-tidy.html#cb102-1"></a>table1</span>
<span id="cb102-2"><a href="data-tidy.html#cb102-2"></a><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span id="cb102-3"><a href="data-tidy.html#cb102-3"></a><span class="co">#&gt;   country      year  cases population</span></span>
<span id="cb102-4"><a href="data-tidy.html#cb102-4"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;</span></span>
<span id="cb102-5"><a href="data-tidy.html#cb102-5"></a><span class="co">#&gt; 1 Afghanistan  1999    745   19987071</span></span>
<span id="cb102-6"><a href="data-tidy.html#cb102-6"></a><span class="co">#&gt; 2 Afghanistan  2000   2666   20595360</span></span>
<span id="cb102-7"><a href="data-tidy.html#cb102-7"></a><span class="co">#&gt; 3 Brazil       1999  37737  172006362</span></span>
<span id="cb102-8"><a href="data-tidy.html#cb102-8"></a><span class="co">#&gt; 4 Brazil       2000  80488  174504898</span></span>
<span id="cb102-9"><a href="data-tidy.html#cb102-9"></a><span class="co">#&gt; 5 China        1999 212258 1272915272</span></span>
<span id="cb102-10"><a href="data-tidy.html#cb102-10"></a><span class="co">#&gt; 6 China        2000 213766 1280428583</span></span>
<span id="cb102-11"><a href="data-tidy.html#cb102-11"></a>table2</span>
<span id="cb102-12"><a href="data-tidy.html#cb102-12"></a><span class="co">#&gt; # A tibble: 12 × 4</span></span>
<span id="cb102-13"><a href="data-tidy.html#cb102-13"></a><span class="co">#&gt;   country      year type           count</span></span>
<span id="cb102-14"><a href="data-tidy.html#cb102-14"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;          &lt;int&gt;</span></span>
<span id="cb102-15"><a href="data-tidy.html#cb102-15"></a><span class="co">#&gt; 1 Afghanistan  1999 cases            745</span></span>
<span id="cb102-16"><a href="data-tidy.html#cb102-16"></a><span class="co">#&gt; 2 Afghanistan  1999 population  19987071</span></span>
<span id="cb102-17"><a href="data-tidy.html#cb102-17"></a><span class="co">#&gt; 3 Afghanistan  2000 cases           2666</span></span>
<span id="cb102-18"><a href="data-tidy.html#cb102-18"></a><span class="co">#&gt; 4 Afghanistan  2000 population  20595360</span></span>
<span id="cb102-19"><a href="data-tidy.html#cb102-19"></a><span class="co">#&gt; 5 Brazil       1999 cases          37737</span></span>
<span id="cb102-20"><a href="data-tidy.html#cb102-20"></a><span class="co">#&gt; 6 Brazil       1999 population 172006362</span></span>
<span id="cb102-21"><a href="data-tidy.html#cb102-21"></a><span class="co">#&gt; # … with 6 more rows</span></span>
<span id="cb102-22"><a href="data-tidy.html#cb102-22"></a>table3</span>
<span id="cb102-23"><a href="data-tidy.html#cb102-23"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb102-24"><a href="data-tidy.html#cb102-24"></a><span class="co">#&gt;   country      year rate             </span></span>
<span id="cb102-25"><a href="data-tidy.html#cb102-25"></a><span class="co">#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            </span></span>
<span id="cb102-26"><a href="data-tidy.html#cb102-26"></a><span class="co">#&gt; 1 Afghanistan  1999 745/19987071     </span></span>
<span id="cb102-27"><a href="data-tidy.html#cb102-27"></a><span class="co">#&gt; 2 Afghanistan  2000 2666/20595360    </span></span>
<span id="cb102-28"><a href="data-tidy.html#cb102-28"></a><span class="co">#&gt; 3 Brazil       1999 37737/172006362  </span></span>
<span id="cb102-29"><a href="data-tidy.html#cb102-29"></a><span class="co">#&gt; 4 Brazil       2000 80488/174504898  </span></span>
<span id="cb102-30"><a href="data-tidy.html#cb102-30"></a><span class="co">#&gt; 5 China        1999 212258/1272915272</span></span>
<span id="cb102-31"><a href="data-tidy.html#cb102-31"></a><span class="co">#&gt; 6 China        2000 213766/1280428583</span></span>
<span id="cb102-32"><a href="data-tidy.html#cb102-32"></a></span>
<span id="cb102-33"><a href="data-tidy.html#cb102-33"></a><span class="co"># Spread across two tibbles</span></span>
<span id="cb102-34"><a href="data-tidy.html#cb102-34"></a>table4a  <span class="co"># cases</span></span>
<span id="cb102-35"><a href="data-tidy.html#cb102-35"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb102-36"><a href="data-tidy.html#cb102-36"></a><span class="co">#&gt;   country     `1999` `2000`</span></span>
<span id="cb102-37"><a href="data-tidy.html#cb102-37"></a><span class="co">#&gt; * &lt;chr&gt;        &lt;int&gt;  &lt;int&gt;</span></span>
<span id="cb102-38"><a href="data-tidy.html#cb102-38"></a><span class="co">#&gt; 1 Afghanistan    745   2666</span></span>
<span id="cb102-39"><a href="data-tidy.html#cb102-39"></a><span class="co">#&gt; 2 Brazil       37737  80488</span></span>
<span id="cb102-40"><a href="data-tidy.html#cb102-40"></a><span class="co">#&gt; 3 China       212258 213766</span></span>
<span id="cb102-41"><a href="data-tidy.html#cb102-41"></a>table4b  <span class="co"># population</span></span>
<span id="cb102-42"><a href="data-tidy.html#cb102-42"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb102-43"><a href="data-tidy.html#cb102-43"></a><span class="co">#&gt;   country         `1999`     `2000`</span></span>
<span id="cb102-44"><a href="data-tidy.html#cb102-44"></a><span class="co">#&gt; * &lt;chr&gt;            &lt;int&gt;      &lt;int&gt;</span></span>
<span id="cb102-45"><a href="data-tidy.html#cb102-45"></a><span class="co">#&gt; 1 Afghanistan   19987071   20595360</span></span>
<span id="cb102-46"><a href="data-tidy.html#cb102-46"></a><span class="co">#&gt; 2 Brazil       172006362  174504898</span></span>
<span id="cb102-47"><a href="data-tidy.html#cb102-47"></a><span class="co">#&gt; 3 China       1272915272 1280428583</span></span></code></pre></div>
<p>이들은 모두 같은 데이터를 표현한 것이지만, 사용성이 같지는 않다. 타이디한 데이터셋만 tidyverse 내부에서 작업하기 훨씬 쉬울 것이다.</p>
<p>데이터셋을 타이디하게 만드는, 서로 연관된 세 가지 규칙이 있다.</p>
<ol style="list-style-type: decimal">
<li>변수마다 해당되는 열이 있어야 한다.<br />
</li>
<li>관측값마다 해당되는 행이 있어야 한다.</li>
<li>값마다 해당하는 하나의 셀이 있어야 한다.</li>
</ol>
<p>Figure <a href="data-tidy.html#fig:tidy-structure">6.1</a> 은 이러한 규칙을 시각적으로 보여준다.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidy-structure"></span>
<img src="images/tidy-1kr.png" alt="데이터셋을 타이디하게 만드는 세 가지 규칙: 변수는 열에 있고, 관측값은 행에 있고, 값은 셀에 있다." width="100%" />
<p class="caption">
Figure 6.1: 데이터셋을 타이디하게 만드는 세 가지 규칙: 변수는 열에 있고, 관측값은 행에 있고, 값은 셀에 있다.
</p>
</div>
<p>이 세 가지 규칙은 서로 연관되어 있다. 이 셋 중 두 가지만 충족시키는 것은 불가능하기 때문이다. 이 상호 관계때문에 다음과 같이 더 간단하고 실용적인 지침이 도출된다.</p>
<ol style="list-style-type: decimal">
<li>데이터셋을 티블에 각각 넣어라.</li>
<li>변수를 열에 각각 넣어라.</li>
</ol>
<p>위의 예에서는 table1 만 타이디하다. 이 테이블만 유일하게 각 열이 변수인 표현이다.</p>
<p>데이터가 타이디해야 하는 이유는 무엇인가? 주요 장점은 두 가지이다.</p>
<ol style="list-style-type: decimal">
<li><p>데이터를 일관된 방식으로 저장하면 일반적으로 장점이 있다. 일관된 데이터 구조를 사용하면 이에 적용할 도구들이 공통성을 가지게 되어, 이들을 배우기가 더 쉬워진다.</p></li>
<li><p>변수를 열에 배치하면 R의 벡터화 속성이 가장 잘 발휘된다는 점에서 구체적인 장점이 있다. <a href="#mutate-funs">뮤테이트</a> 와 <a href="#summary-funs">요약함수</a> 에서 배웠겠지만, 대부분의 내장 R 함수는 벡터에 작동한다. 이러한 성질 때문에 타이디 데이터로 작업하는 것이 더 자연스럽게 된다.</p></li>
</ol>
<p><strong>dplyr, ggplot2</strong> 를 비롯한 tidyverse 의 모든 패키지는 타이디 데이터로 동작하도록 설계되었다. 다음은 <code>table1</code> 을 사용하여 작업하는 방법을 보여주는 몇 가지 간단한 예제이다.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="data-tidy.html#cb103-1"></a><span class="co"># Compute rate per 10,000</span></span>
<span id="cb103-2"><a href="data-tidy.html#cb103-2"></a>table1 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb103-3"><a href="data-tidy.html#cb103-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rate =</span> cases <span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">10000</span>)</span>
<span id="cb103-4"><a href="data-tidy.html#cb103-4"></a><span class="co">#&gt; # A tibble: 6 × 5</span></span>
<span id="cb103-5"><a href="data-tidy.html#cb103-5"></a><span class="co">#&gt;   country      year  cases population  rate</span></span>
<span id="cb103-6"><a href="data-tidy.html#cb103-6"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb103-7"><a href="data-tidy.html#cb103-7"></a><span class="co">#&gt; 1 Afghanistan  1999    745   19987071 0.373</span></span>
<span id="cb103-8"><a href="data-tidy.html#cb103-8"></a><span class="co">#&gt; 2 Afghanistan  2000   2666   20595360 1.29 </span></span>
<span id="cb103-9"><a href="data-tidy.html#cb103-9"></a><span class="co">#&gt; 3 Brazil       1999  37737  172006362 2.19 </span></span>
<span id="cb103-10"><a href="data-tidy.html#cb103-10"></a><span class="co">#&gt; 4 Brazil       2000  80488  174504898 4.61 </span></span>
<span id="cb103-11"><a href="data-tidy.html#cb103-11"></a><span class="co">#&gt; 5 China        1999 212258 1272915272 1.67 </span></span>
<span id="cb103-12"><a href="data-tidy.html#cb103-12"></a><span class="co">#&gt; 6 China        2000 213766 1280428583 1.67</span></span>
<span id="cb103-13"><a href="data-tidy.html#cb103-13"></a></span>
<span id="cb103-14"><a href="data-tidy.html#cb103-14"></a><span class="co"># Compute cases per year</span></span>
<span id="cb103-15"><a href="data-tidy.html#cb103-15"></a>table1 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb103-16"><a href="data-tidy.html#cb103-16"></a><span class="st">  </span><span class="kw">count</span>(year, <span class="dt">wt =</span> cases)</span>
<span id="cb103-17"><a href="data-tidy.html#cb103-17"></a><span class="co">#&gt; # A tibble: 2 × 2</span></span>
<span id="cb103-18"><a href="data-tidy.html#cb103-18"></a><span class="co">#&gt;    year      n</span></span>
<span id="cb103-19"><a href="data-tidy.html#cb103-19"></a><span class="co">#&gt;   &lt;int&gt;  &lt;int&gt;</span></span>
<span id="cb103-20"><a href="data-tidy.html#cb103-20"></a><span class="co">#&gt; 1  1999 250740</span></span>
<span id="cb103-21"><a href="data-tidy.html#cb103-21"></a><span class="co">#&gt; 2  2000 296920</span></span>
<span id="cb103-22"><a href="data-tidy.html#cb103-22"></a></span>
<span id="cb103-23"><a href="data-tidy.html#cb103-23"></a><span class="co"># Visualise changes over time</span></span>
<span id="cb103-24"><a href="data-tidy.html#cb103-24"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb103-25"><a href="data-tidy.html#cb103-25"></a><span class="kw">ggplot</span>(table1, <span class="kw">aes</span>(year, cases)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb103-26"><a href="data-tidy.html#cb103-26"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group =</span> country), <span class="dt">colour =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb103-27"><a href="data-tidy.html#cb103-27"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> country, <span class="dt">shape =</span> country)) <span class="op">+</span></span>
<span id="cb103-28"><a href="data-tidy.html#cb103-28"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1999</span>, <span class="dv">2000</span>))</span></code></pre></div>
<p><img src="data-tidy_files/figure-html/unnamed-chunk-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div id="연습문제-2" class="section level3">
<h3><span class="header-section-number">6.2.1</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p>변수와 관측값이 각 샘플 테이블에서 어떻게 구성되어 있는지 설명하라.</p></li>
<li><p><code>table2</code> 와 <code>table4a + table4b</code> 에서 비율(<code>rate</code>)을 계산하라. 다음의 네 가지 작업을 수행해야 한다.</p>
<ol style="list-style-type: decimal">
<li><p>연도별, 국가별로 결핵 사례수(case)를 추출하라.</p></li>
<li><p>연도별, 국가별로 해당하는 인구를 추출하라.</p></li>
<li><p>사례수를 인구로 나누고 10,000 을 곱하라.</p></li>
<li><p>적절한 곳에 다시 저장하라.</p></li>
</ol></li>
<li><p>가장 쉬운 표현법은 무엇인가? 어느 것이 가장 어려운가? 이유는?</p></li>
<li><p><code>table1</code> 대신 <code>table2</code> 를 사용하여 시간 경과에 따른 사례수의 변화를 보여주는 플롯을 재생성하라. 먼저 무엇을 해야 하는가?</p></li>
</ol>
</div>
</div>
<div id="피봇팅" class="section level2">
<h2><span class="header-section-number">6.3</span> 피봇팅</h2>
<p>타이디 데이터의 원리는 너무 당연해 보여서, 과연 타이디하지 않은 데이터셋을 볼 일은 있을지 의문이 들 것이다. 하지만, 불행하게도 여러분이 마주치게 될 대부분의 데이터는 타이디하지 않을 것이다. 크게 두 가지 이유가 있다.</p>
<ol style="list-style-type: decimal">
<li><p>대부분의 사람들은 타이디 데이터의 원리에 익숙하지 않으며, 데이터 작업에 많은 시간을 써야만 타이디 데이터로 만들 수 있다.</p></li>
<li><p>데이터는 분석보다는 다른 용도에 편리하도록 구성되는 경우가 많다. 예를 들어 데이터는 가능한 한 쉽게 입력할 수 있도록 구성되기도 한다.</p></li>
</ol>
<p>따라서, 대부분의 실제 분석에서는 타이디하게 만드는 작업이 필요하다. 첫번째 단계는 항상 변수와 관측값이 무엇인지 파악하는 것이다. 이 작업이 쉬울 때도 있지만, 어떤 경우에는 데이터를 처음 생성한 사람들과 상의해야 할 수도 있다. 두 번째 단계는 자주 일어나는 다음의 두 가지 문제 중 하나를 해결하는 것이다.</p>
<ol style="list-style-type: decimal">
<li>하나의 변수가 여러 열에 분산되어 있을 수 있다.</li>
<li>하나의 관측값이 여러 행에 흩어져 있을 수 있다.</li>
</ol>
<p>일반적으로 데이터셋은 위 두가지 문제중 하나를 가지고 있을 것이다; 정말 행운이 없는 경우에는 두 문제 다 가지게 되고, tidyr 에 있는 가장 중요한 함수, <code>pivot_longer()</code> 와 <code>pivot_wider()</code> 가 필요하게 될 것이다.</p>
<div id="longer" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Longer</h3>
<p>자주 생기는 문제는 데이터셋의 일부 열 이름이 변수 이름이 아니라 변수 값인 경우이다. <code>table4a</code> 를 보면 열 이름 1999 와 2000 은 <code>year</code> 변수 값을 나타내며, 각 행은 하나가 아닌 두 개의 관측값을 나타낸다.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-tidy.html#cb104-1"></a>table4a</span>
<span id="cb104-2"><a href="data-tidy.html#cb104-2"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb104-3"><a href="data-tidy.html#cb104-3"></a><span class="co">#&gt;   country     `1999` `2000`</span></span>
<span id="cb104-4"><a href="data-tidy.html#cb104-4"></a><span class="co">#&gt; * &lt;chr&gt;        &lt;int&gt;  &lt;int&gt;</span></span>
<span id="cb104-5"><a href="data-tidy.html#cb104-5"></a><span class="co">#&gt; 1 Afghanistan    745   2666</span></span>
<span id="cb104-6"><a href="data-tidy.html#cb104-6"></a><span class="co">#&gt; 2 Brazil       37737  80488</span></span>
<span id="cb104-7"><a href="data-tidy.html#cb104-7"></a><span class="co">#&gt; 3 China       212258 213766</span></span></code></pre></div>
<p>이와 같은 데이터셋을 타이디하게 만들려면 해당 열을 새로운 두 변수로 피봇<strong>(pivot)</strong> 해야 한다. 이 작업을 설명하기 위해 세 가지 파라미터가 필요하다.</p>
<ul>
<li><p>변수가 아니라 값을 나타내는 열 집합. 이 예에서는 열 <code>1999</code> 과 열 <code>2000</code> 이다.</p></li>
<li><p>열 이름 자리에 나타난 값의 변수 이름. 이를 나는 <code>key</code> 라고 부르며, 여기에서는 <code>year</code> 이다.</p></li>
<li><p>셀에 값이 분산되어 있는 변수의 이름. 이를 나는 <code>value</code> 라고 부르며, 여기에서는 <code>cases</code> (사례수) 이다.</p></li>
</ul>
<p>이러한 파라미터와 함께 <code>pivot_longer()</code> 호출을 생성할 수 있다.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-tidy.html#cb105-1"></a>table4a <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb105-2"><a href="data-tidy.html#cb105-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="kw">c</span>(<span class="st">`</span><span class="dt">1999</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2000</span><span class="st">`</span>), <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;cases&quot;</span>)</span>
<span id="cb105-3"><a href="data-tidy.html#cb105-3"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb105-4"><a href="data-tidy.html#cb105-4"></a><span class="co">#&gt;   country     year   cases</span></span>
<span id="cb105-5"><a href="data-tidy.html#cb105-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt;</span></span>
<span id="cb105-6"><a href="data-tidy.html#cb105-6"></a><span class="co">#&gt; 1 Afghanistan 1999     745</span></span>
<span id="cb105-7"><a href="data-tidy.html#cb105-7"></a><span class="co">#&gt; 2 Afghanistan 2000    2666</span></span>
<span id="cb105-8"><a href="data-tidy.html#cb105-8"></a><span class="co">#&gt; 3 Brazil      1999   37737</span></span>
<span id="cb105-9"><a href="data-tidy.html#cb105-9"></a><span class="co">#&gt; 4 Brazil      2000   80488</span></span>
<span id="cb105-10"><a href="data-tidy.html#cb105-10"></a><span class="co">#&gt; 5 China       1999  212258</span></span>
<span id="cb105-11"><a href="data-tidy.html#cb105-11"></a><span class="co">#&gt; 6 China       2000  213766</span></span></code></pre></div>
<p>수집하고자 하는 열을 지정하는 법은 <code>dplyr::select()</code> 스타일 표기법을 따른다. 여기에는 두 개의 열만 있으므로 개별적으로 나열한다. ’1999’ 와 ’2000’ 은 구문론적 이름이 아니므로 (즉, 문자로 시작하지 않으므로) 역따옴표로 둘러쌓아야 함을 주목하라. 열을 선택하는 다른 방법에 대해 기억이 나지 않는다면 <a href="data-transform.html#select">5.3.2</a> 을 참조하라.</p>
<p><code>year</code>, <code>cases</code> 는 <code>table4a</code> 에 있지 않아서 이 이름들을 <code>names_to</code>, <code>values_to</code> 인수로 지정할 때 따옴표를 사용한다.</p>
<p>최종 결과에서, 수집된 열은 삭제되고 새 <code>key</code> 와 <code>value</code> 열이 생성된다. 한편, 원래 변수 간의 관계는 보존된다. 이는 Figure <a href="data-tidy.html#fig:tidy-pivot-longer">6.2</a> 에 시각적으로 표현되어 있다.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidy-pivot-longer"></span>
<img src="images/tidy-9.png" alt="`table4` 을 더 긴  타이티 형태로 피봇팅하기" width="100%" />
<p class="caption">
Figure 6.2: <code>table4</code> 을 더 긴 타이티 형태로 피봇팅하기
</p>
</div>
<p>하지만 이슈가 하나 남았다.
<code>year</code> 변수 유형을 살펴보자.
<code>year</code> 가 수치형 (혹은 구체적으로는, 정수형) 이어야 하지만, 문자형으로 나타나고 있다.
<code>year</code> 변수의 값이 <code>table4a</code> 의 헤딩으로 부터 왔기 때문이다.
<code>readr::parse_integer()</code> 로 이 변수를 정수형으로 파싱하는 <code>dplyr::mutate()</code> 단계를 파이프라인에 추가할 수 있다.
다른 유형의 벡터를 파싱하기 위한 함수는 섹션 <a href="#parsing-a-vector"><strong>??</strong></a> 을 참고하라.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-tidy.html#cb106-1"></a>table4a <span class="op">%&gt;%</span></span>
<span id="cb106-2"><a href="data-tidy.html#cb106-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb106-3"><a href="data-tidy.html#cb106-3"></a>    <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">`</span><span class="dt">1999</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2000</span><span class="st">`</span>),</span>
<span id="cb106-4"><a href="data-tidy.html#cb106-4"></a>    <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb106-5"><a href="data-tidy.html#cb106-5"></a>    <span class="dt">values_to =</span> <span class="st">&quot;cases&quot;</span></span>
<span id="cb106-6"><a href="data-tidy.html#cb106-6"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb106-7"><a href="data-tidy.html#cb106-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">parse_integer</span>(year))</span>
<span id="cb106-8"><a href="data-tidy.html#cb106-8"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb106-9"><a href="data-tidy.html#cb106-9"></a><span class="co">#&gt;   country      year  cases</span></span>
<span id="cb106-10"><a href="data-tidy.html#cb106-10"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;</span></span>
<span id="cb106-11"><a href="data-tidy.html#cb106-11"></a><span class="co">#&gt; 1 Afghanistan  1999    745</span></span>
<span id="cb106-12"><a href="data-tidy.html#cb106-12"></a><span class="co">#&gt; 2 Afghanistan  2000   2666</span></span>
<span id="cb106-13"><a href="data-tidy.html#cb106-13"></a><span class="co">#&gt; 3 Brazil       1999  37737</span></span>
<span id="cb106-14"><a href="data-tidy.html#cb106-14"></a><span class="co">#&gt; 4 Brazil       2000  80488</span></span>
<span id="cb106-15"><a href="data-tidy.html#cb106-15"></a><span class="co">#&gt; 5 China        1999 212258</span></span>
<span id="cb106-16"><a href="data-tidy.html#cb106-16"></a><span class="co">#&gt; 6 China        2000 213766</span></span></code></pre></div>
<p>더 긴 포맷으로 데이터를 만들었다면, 다음과 같이 지금의 정리 연습을 하게 한 시각화를 생성할 수 있다.</p>
<p><code>pivot_longer</code> 를 사용하면 행 개수를 늘리고 열 개수를 줄여서 데이터셋을 길게 만든다. 나는 데이터셋이 “long form” 이라고 표현하는 것이 맞지 않는다고 믿는다. 길이는 상대적인 용어이고, (예를 들어) 데이터셋 A 가 데이터셋 B 보다 더 길다고만 이야기 할 수 있는 것이다.</p>
<p><code>table4b</code> 를 비슷한 방법으로 타이디하게 할 때 <code>pivot_longer()</code> 를 사용할 수 있다. 유일한 차이점은 셀 값에 저장된 변수이다.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-tidy.html#cb107-1"></a>table4b <span class="op">%&gt;%</span></span>
<span id="cb107-2"><a href="data-tidy.html#cb107-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb107-3"><a href="data-tidy.html#cb107-3"></a>    <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">`</span><span class="dt">1999</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2000</span><span class="st">`</span>),</span>
<span id="cb107-4"><a href="data-tidy.html#cb107-4"></a>    <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb107-5"><a href="data-tidy.html#cb107-5"></a>    <span class="dt">values_to =</span> <span class="st">&quot;population&quot;</span></span>
<span id="cb107-6"><a href="data-tidy.html#cb107-6"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb107-7"><a href="data-tidy.html#cb107-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">parse_integer</span>(year))</span>
<span id="cb107-8"><a href="data-tidy.html#cb107-8"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb107-9"><a href="data-tidy.html#cb107-9"></a><span class="co">#&gt;   country      year population</span></span>
<span id="cb107-10"><a href="data-tidy.html#cb107-10"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;</span></span>
<span id="cb107-11"><a href="data-tidy.html#cb107-11"></a><span class="co">#&gt; 1 Afghanistan  1999   19987071</span></span>
<span id="cb107-12"><a href="data-tidy.html#cb107-12"></a><span class="co">#&gt; 2 Afghanistan  2000   20595360</span></span>
<span id="cb107-13"><a href="data-tidy.html#cb107-13"></a><span class="co">#&gt; 3 Brazil       1999  172006362</span></span>
<span id="cb107-14"><a href="data-tidy.html#cb107-14"></a><span class="co">#&gt; 4 Brazil       2000  174504898</span></span>
<span id="cb107-15"><a href="data-tidy.html#cb107-15"></a><span class="co">#&gt; 5 China        1999 1272915272</span></span>
<span id="cb107-16"><a href="data-tidy.html#cb107-16"></a><span class="co">#&gt; 6 China        2000 1280428583</span></span></code></pre></div>
<p>타이디하게 된 <code>table4a</code> 와 <code>table4b</code>을 하나의 티블로 결합하려면 <code>dplyr::left_join()</code> 을 사용해야 한다. 이 내용은 <a href="relational-data.html#relational-data">관계형 데이터</a> 에서 다룰 것이다.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-tidy.html#cb108-1"></a>tidy4a &lt;-<span class="st"> </span>table4b <span class="op">%&gt;%</span></span>
<span id="cb108-2"><a href="data-tidy.html#cb108-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb108-3"><a href="data-tidy.html#cb108-3"></a>    <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">`</span><span class="dt">1999</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2000</span><span class="st">`</span>),</span>
<span id="cb108-4"><a href="data-tidy.html#cb108-4"></a>    <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb108-5"><a href="data-tidy.html#cb108-5"></a>    <span class="dt">values_to =</span> <span class="st">&quot;cases&quot;</span></span>
<span id="cb108-6"><a href="data-tidy.html#cb108-6"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb108-7"><a href="data-tidy.html#cb108-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">parse_integer</span>(year))</span>
<span id="cb108-8"><a href="data-tidy.html#cb108-8"></a>tidy4b &lt;-<span class="st"> </span>table4b <span class="op">%&gt;%</span></span>
<span id="cb108-9"><a href="data-tidy.html#cb108-9"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb108-10"><a href="data-tidy.html#cb108-10"></a>    <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">`</span><span class="dt">1999</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2000</span><span class="st">`</span>),</span>
<span id="cb108-11"><a href="data-tidy.html#cb108-11"></a>    <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb108-12"><a href="data-tidy.html#cb108-12"></a>    <span class="dt">values_to =</span> <span class="st">&quot;population&quot;</span></span>
<span id="cb108-13"><a href="data-tidy.html#cb108-13"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb108-14"><a href="data-tidy.html#cb108-14"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">parse_integer</span>(year))</span>
<span id="cb108-15"><a href="data-tidy.html#cb108-15"></a><span class="kw">left_join</span>(tidy4a, tidy4b)</span>
<span id="cb108-16"><a href="data-tidy.html#cb108-16"></a><span class="co">#&gt; Joining, by = c(&quot;country&quot;, &quot;year&quot;)</span></span>
<span id="cb108-17"><a href="data-tidy.html#cb108-17"></a><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span id="cb108-18"><a href="data-tidy.html#cb108-18"></a><span class="co">#&gt;   country      year      cases population</span></span>
<span id="cb108-19"><a href="data-tidy.html#cb108-19"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;      &lt;int&gt;</span></span>
<span id="cb108-20"><a href="data-tidy.html#cb108-20"></a><span class="co">#&gt; 1 Afghanistan  1999   19987071   19987071</span></span>
<span id="cb108-21"><a href="data-tidy.html#cb108-21"></a><span class="co">#&gt; 2 Afghanistan  2000   20595360   20595360</span></span>
<span id="cb108-22"><a href="data-tidy.html#cb108-22"></a><span class="co">#&gt; 3 Brazil       1999  172006362  172006362</span></span>
<span id="cb108-23"><a href="data-tidy.html#cb108-23"></a><span class="co">#&gt; 4 Brazil       2000  174504898  174504898</span></span>
<span id="cb108-24"><a href="data-tidy.html#cb108-24"></a><span class="co">#&gt; 5 China        1999 1272915272 1272915272</span></span>
<span id="cb108-25"><a href="data-tidy.html#cb108-25"></a><span class="co">#&gt; 6 China        2000 1280428583 1280428583</span></span></code></pre></div>
</div>
<div id="wider" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Wider</h3>
<p><code>pivot_wider()</code> 은 <code>pivot_longer()</code> 의 반대이다. 관측값이 여러 행에 흩어져 있을 때 사용한다. 예를 들어 <code>table2</code> 를 보자. 하나의 관측값은 한 해, 한 국가에 대한 것이지만, 각 관측값이 두 행에 흩어져 있다.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-tidy.html#cb109-1"></a>table2</span>
<span id="cb109-2"><a href="data-tidy.html#cb109-2"></a><span class="co">#&gt; # A tibble: 12 × 4</span></span>
<span id="cb109-3"><a href="data-tidy.html#cb109-3"></a><span class="co">#&gt;   country      year type           count</span></span>
<span id="cb109-4"><a href="data-tidy.html#cb109-4"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;          &lt;int&gt;</span></span>
<span id="cb109-5"><a href="data-tidy.html#cb109-5"></a><span class="co">#&gt; 1 Afghanistan  1999 cases            745</span></span>
<span id="cb109-6"><a href="data-tidy.html#cb109-6"></a><span class="co">#&gt; 2 Afghanistan  1999 population  19987071</span></span>
<span id="cb109-7"><a href="data-tidy.html#cb109-7"></a><span class="co">#&gt; 3 Afghanistan  2000 cases           2666</span></span>
<span id="cb109-8"><a href="data-tidy.html#cb109-8"></a><span class="co">#&gt; 4 Afghanistan  2000 population  20595360</span></span>
<span id="cb109-9"><a href="data-tidy.html#cb109-9"></a><span class="co">#&gt; 5 Brazil       1999 cases          37737</span></span>
<span id="cb109-10"><a href="data-tidy.html#cb109-10"></a><span class="co">#&gt; 6 Brazil       1999 population 172006362</span></span>
<span id="cb109-11"><a href="data-tidy.html#cb109-11"></a><span class="co">#&gt; # … with 6 more rows</span></span></code></pre></div>
<p>주어진 연도의 각 국가별 <code>rate</code> (<code>cases</code> 를 <code>population</code> 로 나눈 값) 을 계산해서 새로운 열에 기록하여 다음의 데이터프레임을 만든다고 해보자:</p>
<pre><code>#&gt; # A tibble: 6 × 5
#&gt;   country      year  cases population      rate
#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;     &lt;dbl&gt;
#&gt; 1 Afghanistan  1999    745   19987071 0.0000373
#&gt; 2 Afghanistan  2000   2666   20595360 0.000129 
#&gt; 3 Brazil       1999  37737  172006362 0.000219 
#&gt; 4 Brazil       2000  80488  174504898 0.000461 
#&gt; 5 China        1999 212258 1272915272 0.000167 
#&gt; 6 China        2000 213766 1280428583 0.000167</code></pre>
<p><code>cases</code> 와 <code>population</code> 을 각각 열로 가지고, 이 열의 각 셀이 관련된 <code>count</code> 값을 가지는 데이터프레임이 필요하다는 말이다.
<code>pivot_longer()</code> 와 비슷한 방식으로 표현방법을 분석해 보자. 그러나 이번에는 파라미터가 두 개만 필요하다.</p>
<ul>
<li><p>변수 이름을 포함하는 열, 여기에서는 <code>type</code> 이다.</p></li>
<li><p>값을 포함하는 열, 여기에서는 <code>count</code> 이다.</p></li>
</ul>
<p>이 파라미터들을 정하면 <code>pivot_wider()</code> 를 사용할 수 있다. 코드로는 아래에서 보여주고, 시각적으로는 Figure <a href="data-tidy.html#fig:tidy-pivot-wider">6.3</a> 에서 보여주고 있다.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-tidy.html#cb111-1"></a>table2 <span class="op">%&gt;%</span></span>
<span id="cb111-2"><a href="data-tidy.html#cb111-2"></a><span class="st">    </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> count)</span>
<span id="cb111-3"><a href="data-tidy.html#cb111-3"></a><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span id="cb111-4"><a href="data-tidy.html#cb111-4"></a><span class="co">#&gt;   country      year  cases population</span></span>
<span id="cb111-5"><a href="data-tidy.html#cb111-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;</span></span>
<span id="cb111-6"><a href="data-tidy.html#cb111-6"></a><span class="co">#&gt; 1 Afghanistan  1999    745   19987071</span></span>
<span id="cb111-7"><a href="data-tidy.html#cb111-7"></a><span class="co">#&gt; 2 Afghanistan  2000   2666   20595360</span></span>
<span id="cb111-8"><a href="data-tidy.html#cb111-8"></a><span class="co">#&gt; 3 Brazil       1999  37737  172006362</span></span>
<span id="cb111-9"><a href="data-tidy.html#cb111-9"></a><span class="co">#&gt; 4 Brazil       2000  80488  174504898</span></span>
<span id="cb111-10"><a href="data-tidy.html#cb111-10"></a><span class="co">#&gt; 5 China        1999 212258 1272915272</span></span>
<span id="cb111-11"><a href="data-tidy.html#cb111-11"></a><span class="co">#&gt; 6 China        2000 213766 1280428583</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidy-pivot-wider"></span>
<img src="images/tidy-8.png" alt="`table2` 을 더 넓은 타이티 형태로 피봇팅하기" width="100%" />
<p class="caption">
Figure 6.3: <code>table2</code> 을 더 넓은 타이티 형태로 피봇팅하기
</p>
</div>
<p>더 넓은 포맷으로 데이터를 만들었다면, 이제 다음과 같이 정리하는 예제를 해볼 수 있는 데이터프레임을 생성할 수 있다.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-tidy.html#cb112-1"></a>table2 <span class="op">%&gt;%</span></span>
<span id="cb112-2"><a href="data-tidy.html#cb112-2"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> count) <span class="op">%&gt;%</span></span>
<span id="cb112-3"><a href="data-tidy.html#cb112-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rate =</span> cases <span class="op">/</span><span class="st"> </span>population)</span>
<span id="cb112-4"><a href="data-tidy.html#cb112-4"></a><span class="co">#&gt; # A tibble: 6 × 5</span></span>
<span id="cb112-5"><a href="data-tidy.html#cb112-5"></a><span class="co">#&gt;   country      year  cases population      rate</span></span>
<span id="cb112-6"><a href="data-tidy.html#cb112-6"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb112-7"><a href="data-tidy.html#cb112-7"></a><span class="co">#&gt; 1 Afghanistan  1999    745   19987071 0.0000373</span></span>
<span id="cb112-8"><a href="data-tidy.html#cb112-8"></a><span class="co">#&gt; 2 Afghanistan  2000   2666   20595360 0.000129 </span></span>
<span id="cb112-9"><a href="data-tidy.html#cb112-9"></a><span class="co">#&gt; 3 Brazil       1999  37737  172006362 0.000219 </span></span>
<span id="cb112-10"><a href="data-tidy.html#cb112-10"></a><span class="co">#&gt; 4 Brazil       2000  80488  174504898 0.000461 </span></span>
<span id="cb112-11"><a href="data-tidy.html#cb112-11"></a><span class="co">#&gt; 5 China        1999 212258 1272915272 0.000167 </span></span>
<span id="cb112-12"><a href="data-tidy.html#cb112-12"></a><span class="co">#&gt; 6 China        2000 213766 1280428583 0.000167</span></span></code></pre></div>
<p>앞에서 연간 case 카운트를 시각화 했었고, 아래의 표현은 케이스 rate 을 시각화하는데 유용하다.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="data-tidy.html#cb113-1"></a>table2 <span class="op">%&gt;%</span></span>
<span id="cb113-2"><a href="data-tidy.html#cb113-2"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> count) <span class="op">%&gt;%</span></span>
<span id="cb113-3"><a href="data-tidy.html#cb113-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rate =</span> cases <span class="op">/</span><span class="st"> </span>population) <span class="op">%&gt;%</span></span>
<span id="cb113-4"><a href="data-tidy.html#cb113-4"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> rate)) <span class="op">+</span></span>
<span id="cb113-5"><a href="data-tidy.html#cb113-5"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group =</span> country), <span class="dt">colour =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span></span>
<span id="cb113-6"><a href="data-tidy.html#cb113-6"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> country, <span class="dt">shape =</span> country)) <span class="op">+</span></span>
<span id="cb113-7"><a href="data-tidy.html#cb113-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1999</span>, <span class="dv">2000</span>))</span></code></pre></div>
<p><img src="data-tidy_files/figure-html/unnamed-chunk-12-1.png" title="This figure shows the case rate in 1999 and 2000 for Afghanistan, Brazil, and China, with year on the x-axis and number of cases on the y-axis. Each point on the plot represents the case rate in a given country in a given year. The points for each country are differentiated from others by color and shape and connected with a line, resulting in three, non-parallel, non-intersecting lines. The case rates in Brazil are highest for both 1999 and 2000; approximately 0.0002 in 1999 and approximately 0.00045 in 2000. The case rates in China are slightly below 0.0002 in both 1999 and 2000. The case rates in Afghanistan are lowest for both 1999 and 2000; pretty close to 0 in 1999 and approximately 0.0001 in 2000." alt="This figure shows the case rate in 1999 and 2000 for Afghanistan, Brazil, and China, with year on the x-axis and number of cases on the y-axis. Each point on the plot represents the case rate in a given country in a given year. The points for each country are differentiated from others by color and shape and connected with a line, resulting in three, non-parallel, non-intersecting lines. The case rates in Brazil are highest for both 1999 and 2000; approximately 0.0002 in 1999 and approximately 0.00045 in 2000. The case rates in China are slightly below 0.0002 in both 1999 and 2000. The case rates in Afghanistan are lowest for both 1999 and 2000; pretty close to 0 in 1999 and approximately 0.0001 in 2000." width="70%" style="display: block; margin: auto;" /></p>
<p>이제 한 걸음 더 나아가서 데이터를 더 넓게 하여 1999 년과 2000 년의 <code>cases</code>, <code>population</code>, <code>rate</code> 를 다음과 같이 개별 열에 기록해 보자.</p>
<pre><code>#&gt; # A tibble: 3 × 7
#&gt;   country     cases_1999 population_1999 rate_1999 cases_2000 population_2000
#&gt;   &lt;chr&gt;            &lt;int&gt;           &lt;int&gt;     &lt;dbl&gt;      &lt;int&gt;           &lt;int&gt;
#&gt; 1 Afghanistan        745        19987071 0.0000373       2666        20595360
#&gt; 2 Brazil           37737       172006362 0.000219       80488       174504898
#&gt; 3 China           212258      1272915272 0.000167      213766      1280428583
#&gt; # … with 1 more variable: rate_2000 &lt;dbl&gt;</code></pre>
<p>이러한 표현법은 데이터 분석에 유용하지는 않지만 데이터 분석 리포트의 결과를 가지고 커뮤니케이션하기 위한 기초 테이블 용도로는 유용할 수 있다.</p>
<p>이를 위해 우리는 <code>cases</code>, <code>population</code>, <code>rate</code> 열 헤드에서 연도를 추가할 필요가 있고, 이러한 세 열에 있는 값을 여섯 열로 분산시켜야 할 필요가 있다 (데이터가 있는 연도마다 두 열).
이는 Figure <a href="data-tidy.html#fig:tidy-pivot-even-wider">6.4</a> 에 표현이 되어 있다.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidy-pivot-even-wider"></span>
<img src="images/tidy-19.png" alt="Two panels, one with a wider and the other with an even wider data frame. Arrows represent how population values for 1999 and 2000 that are stored in a single column in the wide data frame are spread across two columns in the data frame that is even wider. These new columns are called population_1999 and population_2000." width="100%" />
<p class="caption">
Figure 6.4: Pivoting <code>table2</code> into an even “wider” form. Arrows for <code>cases</code> and <code>rate</code> values are omitted for clarity.
</p>
</div>
<p>이를 위해, 피봇 함수를 한 번에 여러 열에 동작 시킬수 있다는 장점을 활용해 보자.
다음 코드 청크의 첫 세 라인은 우리가 이미 앞 단계에서 했던 것이고, 다른 <code>pivot_wider()</code> 단계를 추가한다. 이 단계에서 추가열을 <code>cases</code>, <code>population</code>, <code>rate</code> 에서 추출하고 열 이름들은 <code>year</code> 변수의 값으로 자동으로 꼬리가 달리게 한다.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="data-tidy.html#cb115-1"></a>table2 <span class="op">%&gt;%</span></span>
<span id="cb115-2"><a href="data-tidy.html#cb115-2"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> count) <span class="op">%&gt;%</span></span>
<span id="cb115-3"><a href="data-tidy.html#cb115-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rate =</span> cases <span class="op">/</span><span class="st"> </span>population) <span class="op">%&gt;%</span></span>
<span id="cb115-4"><a href="data-tidy.html#cb115-4"></a><span class="st">  </span><span class="kw">pivot_wider</span>(</span>
<span id="cb115-5"><a href="data-tidy.html#cb115-5"></a>    <span class="dt">names_from =</span> year,</span>
<span id="cb115-6"><a href="data-tidy.html#cb115-6"></a>    <span class="dt">values_from =</span> <span class="kw">c</span>(cases, population, rate)</span>
<span id="cb115-7"><a href="data-tidy.html#cb115-7"></a>  )</span>
<span id="cb115-8"><a href="data-tidy.html#cb115-8"></a><span class="co">#&gt; # A tibble: 3 × 7</span></span>
<span id="cb115-9"><a href="data-tidy.html#cb115-9"></a><span class="co">#&gt;   country     cases_1999 cases_2000 population_1999 population_2000 rate_1999</span></span>
<span id="cb115-10"><a href="data-tidy.html#cb115-10"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;int&gt;      &lt;int&gt;           &lt;int&gt;           &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb115-11"><a href="data-tidy.html#cb115-11"></a><span class="co">#&gt; 1 Afghanistan        745       2666        19987071        20595360 0.0000373</span></span>
<span id="cb115-12"><a href="data-tidy.html#cb115-12"></a><span class="co">#&gt; 2 Brazil           37737      80488       172006362       174504898 0.000219 </span></span>
<span id="cb115-13"><a href="data-tidy.html#cb115-13"></a><span class="co">#&gt; 3 China           212258     213766      1272915272      1280428583 0.000167 </span></span>
<span id="cb115-14"><a href="data-tidy.html#cb115-14"></a><span class="co">#&gt; # … with 1 more variable: rate_2000 &lt;dbl&gt;</span></span></code></pre></div>
<p>마지막 단계는 결과 데이터프레임에서 열들을 이동시켜 1999 년 데이터가 2000 년 데이터보다 앞서 나오도록 하는 것이다. <code>relocate()</code> 함수를 사용하여 1999 열을 2000 열 앞에 오도록 할 수 있다.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-tidy.html#cb116-1"></a>table2 <span class="op">%&gt;%</span></span>
<span id="cb116-2"><a href="data-tidy.html#cb116-2"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> type, <span class="dt">values_from =</span> count) <span class="op">%&gt;%</span></span>
<span id="cb116-3"><a href="data-tidy.html#cb116-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rate =</span> cases <span class="op">/</span><span class="st"> </span>population) <span class="op">%&gt;%</span></span>
<span id="cb116-4"><a href="data-tidy.html#cb116-4"></a><span class="st">  </span><span class="kw">pivot_wider</span>(</span>
<span id="cb116-5"><a href="data-tidy.html#cb116-5"></a>    <span class="dt">names_from =</span> year,</span>
<span id="cb116-6"><a href="data-tidy.html#cb116-6"></a>    <span class="dt">values_from =</span> <span class="kw">c</span>(cases, population, rate)</span>
<span id="cb116-7"><a href="data-tidy.html#cb116-7"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb116-8"><a href="data-tidy.html#cb116-8"></a><span class="st">  </span><span class="kw">relocate</span>(country, <span class="kw">contains</span>(<span class="st">&quot;1999&quot;</span>))</span>
<span id="cb116-9"><a href="data-tidy.html#cb116-9"></a><span class="co">#&gt; # A tibble: 3 × 7</span></span>
<span id="cb116-10"><a href="data-tidy.html#cb116-10"></a><span class="co">#&gt;   country     cases_1999 population_1999 rate_1999 cases_2000 population_2000</span></span>
<span id="cb116-11"><a href="data-tidy.html#cb116-11"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;int&gt;           &lt;int&gt;     &lt;dbl&gt;      &lt;int&gt;           &lt;int&gt;</span></span>
<span id="cb116-12"><a href="data-tidy.html#cb116-12"></a><span class="co">#&gt; 1 Afghanistan        745        19987071 0.0000373       2666        20595360</span></span>
<span id="cb116-13"><a href="data-tidy.html#cb116-13"></a><span class="co">#&gt; 2 Brazil           37737       172006362 0.000219       80488       174504898</span></span>
<span id="cb116-14"><a href="data-tidy.html#cb116-14"></a><span class="co">#&gt; 3 China           212258      1272915272 0.000167      213766      1280428583</span></span>
<span id="cb116-15"><a href="data-tidy.html#cb116-15"></a><span class="co">#&gt; # … with 1 more variable: rate_2000 &lt;dbl&gt;</span></span></code></pre></div>
<p>이름을 통해 이미 알아 차린 사람도 있겠지만, <code>pivot_wider()</code> 와 <code>pivot_longer()</code> 는 대칭 관계이다. <code>pivot_longer()</code> 는 넓은 테이블을 더 좁고 길게, <code>pivot_longer()</code> 는 긴 테이블을 더 짧고 넓게 만든다.</p>
</div>
<div id="연습문제-3" class="section level3">
<h3><span class="header-section-number">6.3.3</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p><code>pivot_longer()</code> 와 <code>pivot_wider()</code> 가 완벽하게 대칭이 아닌 이유는 무엇인가? 다음 예제를 주의 깊게 살펴보라.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="data-tidy.html#cb117-1"></a>stocks &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb117-2"><a href="data-tidy.html#cb117-2"></a>  <span class="dt">year   =</span> <span class="kw">c</span>(<span class="dv">2015</span>, <span class="dv">2015</span>, <span class="dv">2016</span>, <span class="dv">2016</span>),</span>
<span id="cb117-3"><a href="data-tidy.html#cb117-3"></a>  <span class="dt">half  =</span> <span class="kw">c</span>(   <span class="dv">1</span>,    <span class="dv">2</span>,     <span class="dv">1</span>,    <span class="dv">2</span>),</span>
<span id="cb117-4"><a href="data-tidy.html#cb117-4"></a>  <span class="dt">return =</span> <span class="kw">c</span>(<span class="fl">1.88</span>, <span class="fl">0.59</span>, <span class="fl">0.92</span>, <span class="fl">0.17</span>)</span>
<span id="cb117-5"><a href="data-tidy.html#cb117-5"></a>)</span>
<span id="cb117-6"><a href="data-tidy.html#cb117-6"></a>stocks <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb117-7"><a href="data-tidy.html#cb117-7"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> year, <span class="dt">values_from =</span> return) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb117-8"><a href="data-tidy.html#cb117-8"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="st">`</span><span class="dt">2015</span><span class="st">`</span><span class="op">:</span><span class="st">`</span><span class="dt">2016</span><span class="st">`</span>, <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;return&quot;</span>)</span></code></pre></div>
<p>(힌트: 변수 유형을 보고 열 이름에 대해 생각해보라.)</p>
<p><code>pivot_longer()</code> 는 <code>names_ptype</code> 인수, 예를 들어 <code>names_ptype = list(year = double())</code> 가 있다. 어떤 역할을 하는가?</p></li>
<li><p>이 코드가 작동하지 않는 이유는 무엇인가?</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="data-tidy.html#cb118-1"></a>table4a <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb118-2"><a href="data-tidy.html#cb118-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="kw">c</span>(<span class="dv">1999</span>, <span class="dv">2000</span>), <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;cases&quot;</span>)</span>
<span id="cb118-3"><a href="data-tidy.html#cb118-3"></a><span class="co">#&gt; Error: Can&#39;t subset columns that don&#39;t exist.</span></span>
<span id="cb118-4"><a href="data-tidy.html#cb118-4"></a><span class="co">#&gt; x Locations 1999 and 2000 don&#39;t exist.</span></span>
<span id="cb118-5"><a href="data-tidy.html#cb118-5"></a><span class="co">#&gt; ℹ There are only 3 columns.</span></span></code></pre></div></li>
<li><p>티블을 펼치는 다음의 코드는 왜 에러가 나는가? 새로운 열을 추가해서 어떻게 문제를 해결할 수 있는가?</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-tidy.html#cb119-1"></a>people &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb119-2"><a href="data-tidy.html#cb119-2"></a>  <span class="op">~</span>name,             <span class="op">~</span>key,    <span class="op">~</span>value,</span>
<span id="cb119-3"><a href="data-tidy.html#cb119-3"></a>  <span class="co">#-----------------|--------|------</span></span>
<span id="cb119-4"><a href="data-tidy.html#cb119-4"></a>  <span class="st">&quot;Phillip Woods&quot;</span>,   <span class="st">&quot;age&quot;</span>,       <span class="dv">45</span>,</span>
<span id="cb119-5"><a href="data-tidy.html#cb119-5"></a>  <span class="st">&quot;Phillip Woods&quot;</span>,   <span class="st">&quot;height&quot;</span>,   <span class="dv">186</span>,</span>
<span id="cb119-6"><a href="data-tidy.html#cb119-6"></a>  <span class="st">&quot;Phillip Woods&quot;</span>,   <span class="st">&quot;age&quot;</span>,       <span class="dv">50</span>,</span>
<span id="cb119-7"><a href="data-tidy.html#cb119-7"></a>  <span class="st">&quot;Jessica Cordero&quot;</span>, <span class="st">&quot;age&quot;</span>,       <span class="dv">37</span>,</span>
<span id="cb119-8"><a href="data-tidy.html#cb119-8"></a>  <span class="st">&quot;Jessica Cordero&quot;</span>, <span class="st">&quot;height&quot;</span>,   <span class="dv">156</span></span>
<span id="cb119-9"><a href="data-tidy.html#cb119-9"></a>)</span></code></pre></div></li>
<li><p>다음의 간단한 티블을 타이디하게 하라. 데이터셋을 길게 혹은 넓게할 필요가 있는가? 변수들은 무엇인가?</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="data-tidy.html#cb120-1"></a>preg &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb120-2"><a href="data-tidy.html#cb120-2"></a>  <span class="op">~</span>pregnant, <span class="op">~</span>male, <span class="op">~</span>female,</span>
<span id="cb120-3"><a href="data-tidy.html#cb120-3"></a>  <span class="st">&quot;yes&quot;</span>,     <span class="ot">NA</span>,    <span class="dv">10</span>,</span>
<span id="cb120-4"><a href="data-tidy.html#cb120-4"></a>  <span class="st">&quot;no&quot;</span>,      <span class="dv">20</span>,    <span class="dv">12</span></span>
<span id="cb120-5"><a href="data-tidy.html#cb120-5"></a>)</span></code></pre></div></li>
</ol>
</div>
</div>
<div id="사례-연구" class="section level2">
<h2><span class="header-section-number">6.4</span> 사례 연구</h2>
<p>데이터를 타이디하게 만들기 위해 배운 것을 모두 정리하면서 이 장을 끝내자. <code>tidyr::who</code> 데이터셋에는 결핵(TB) 사례가 연도, 국가, 나이, 성별 및 진단 방법별로 세분화되어 있다. 이 데이터는 2014년 세계보건기구 전세계 결핵 보고서에 실렸으며, <a href="http://www.who.int/tb/country/data/download/en/" class="uri">http://www.who.int/tb/country/data/download/en/</a>에서 얻을 수 있다.</p>
<p>이 데이터셋에는 역학 정보가 풍부하게 있지만, 제공된 데이터 형식으로 작업하는 것은 쉽지 않다.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-tidy.html#cb121-1"></a>who</span>
<span id="cb121-2"><a href="data-tidy.html#cb121-2"></a><span class="co">#&gt; # A tibble: 7,240 × 60</span></span>
<span id="cb121-3"><a href="data-tidy.html#cb121-3"></a><span class="co">#&gt;   country   iso2  iso3   year new_sp_m014 new_sp_m1524 new_sp_m2534 new_sp_m3544</span></span>
<span id="cb121-4"><a href="data-tidy.html#cb121-4"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;int&gt;       &lt;int&gt;        &lt;int&gt;        &lt;int&gt;        &lt;int&gt;</span></span>
<span id="cb121-5"><a href="data-tidy.html#cb121-5"></a><span class="co">#&gt; 1 Afghanis… AF    AFG    1980          NA           NA           NA           NA</span></span>
<span id="cb121-6"><a href="data-tidy.html#cb121-6"></a><span class="co">#&gt; 2 Afghanis… AF    AFG    1981          NA           NA           NA           NA</span></span>
<span id="cb121-7"><a href="data-tidy.html#cb121-7"></a><span class="co">#&gt; 3 Afghanis… AF    AFG    1982          NA           NA           NA           NA</span></span>
<span id="cb121-8"><a href="data-tidy.html#cb121-8"></a><span class="co">#&gt; 4 Afghanis… AF    AFG    1983          NA           NA           NA           NA</span></span>
<span id="cb121-9"><a href="data-tidy.html#cb121-9"></a><span class="co">#&gt; 5 Afghanis… AF    AFG    1984          NA           NA           NA           NA</span></span>
<span id="cb121-10"><a href="data-tidy.html#cb121-10"></a><span class="co">#&gt; 6 Afghanis… AF    AFG    1985          NA           NA           NA           NA</span></span>
<span id="cb121-11"><a href="data-tidy.html#cb121-11"></a><span class="co">#&gt; # … with 7,234 more rows, and 52 more variables: new_sp_m4554 &lt;int&gt;,</span></span>
<span id="cb121-12"><a href="data-tidy.html#cb121-12"></a><span class="co">#&gt; #   new_sp_m5564 &lt;int&gt;, new_sp_m65 &lt;int&gt;, new_sp_f014 &lt;int&gt;,</span></span>
<span id="cb121-13"><a href="data-tidy.html#cb121-13"></a><span class="co">#&gt; #   new_sp_f1524 &lt;int&gt;, new_sp_f2534 &lt;int&gt;, new_sp_f3544 &lt;int&gt;,</span></span>
<span id="cb121-14"><a href="data-tidy.html#cb121-14"></a><span class="co">#&gt; #   new_sp_f4554 &lt;int&gt;, new_sp_f5564 &lt;int&gt;, new_sp_f65 &lt;int&gt;,</span></span>
<span id="cb121-15"><a href="data-tidy.html#cb121-15"></a><span class="co">#&gt; #   new_sn_m014 &lt;int&gt;, new_sn_m1524 &lt;int&gt;, new_sn_m2534 &lt;int&gt;,</span></span>
<span id="cb121-16"><a href="data-tidy.html#cb121-16"></a><span class="co">#&gt; #   new_sn_m3544 &lt;int&gt;, new_sn_m4554 &lt;int&gt;, new_sn_m5564 &lt;int&gt;,</span></span>
<span id="cb121-17"><a href="data-tidy.html#cb121-17"></a><span class="co">#&gt; #   new_sn_m65 &lt;int&gt;, new_sn_f014 &lt;int&gt;, new_sn_f1524 &lt;int&gt;, …</span></span></code></pre></div>
<p>이 데이터셋은 매우 전형적인 실데이터이다. 여기에는 열 중복, 이상한 가변 코드 및 다수의 결측값이 있다. 즉, <code>who</code> 데이터는 지저분해서 여러 단계를 통해 타이디하게 만들어야 한다. <strong>dplyr</strong> 처럼, <strong>tidyr</strong> 은 각 함수가 한 가지를 잘하도록 설계되었다. 따라서, 일반적으로 실제 상황에서는 여러 동사를 파이프라인으로 함께 연결해야 한다.</p>
<p>변수가 아닌 열을 모으는 것부터 시작하는 것이 대개 가장 좋다. 다음을 살펴보자.</p>
<ul>
<li><p><code>country</code> , <code>iso2</code> 및 <code>iso3</code> 는 국가를 중복해서 지정하는 세 개의 변수이다.</p></li>
<li><p><code>year</code> 또한 분명히 변수이다.</p></li>
<li><p>다른 모든 열은 아직 무엇인지 알 수 없지만, 변수 이름 (예: <code>new_sp_m014</code> , <code>new_ep_m014</code> , <code>new_ep_f014</code> )의 구조를 보면 이들은 변수가 아닌 값일 가능성이 있다.</p></li>
</ul>
<p>따라서 <code>new_sp_m014</code> 에서 <code>newrel_f65</code> 까지의 모든 열을 모을 필요가 있다. 그 값이 무엇을 나타내는지 아직 알지 못하기 때문에 일반 이름인 ’<code>key</code> ’라는 이름을 붙일 것이다. 셀이 사례수를 나타내는 것을 알고 있으므로 변수 <code>cases</code> 를 사용한다. 현재 표현에는 많은 결측값이 있으므로 <code>na.rm</code> 을 사용하여 있는 값에만 집중할 것이다.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-tidy.html#cb122-1"></a>who1 &lt;-<span class="st"> </span>who <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb122-2"><a href="data-tidy.html#cb122-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb122-3"><a href="data-tidy.html#cb122-3"></a>    <span class="dt">cols =</span> new_sp_m014<span class="op">:</span>newrel_f65, </span>
<span id="cb122-4"><a href="data-tidy.html#cb122-4"></a>    <span class="dt">names_to =</span> <span class="st">&quot;key&quot;</span>, </span>
<span id="cb122-5"><a href="data-tidy.html#cb122-5"></a>    <span class="dt">values_to =</span> <span class="st">&quot;cases&quot;</span>, </span>
<span id="cb122-6"><a href="data-tidy.html#cb122-6"></a>    <span class="dt">values_drop_na =</span> <span class="ot">TRUE</span></span>
<span id="cb122-7"><a href="data-tidy.html#cb122-7"></a>  )</span>
<span id="cb122-8"><a href="data-tidy.html#cb122-8"></a>who1</span>
<span id="cb122-9"><a href="data-tidy.html#cb122-9"></a><span class="co">#&gt; # A tibble: 76,046 × 6</span></span>
<span id="cb122-10"><a href="data-tidy.html#cb122-10"></a><span class="co">#&gt;   country     iso2  iso3   year key          cases</span></span>
<span id="cb122-11"><a href="data-tidy.html#cb122-11"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;        &lt;int&gt;</span></span>
<span id="cb122-12"><a href="data-tidy.html#cb122-12"></a><span class="co">#&gt; 1 Afghanistan AF    AFG    1997 new_sp_m014      0</span></span>
<span id="cb122-13"><a href="data-tidy.html#cb122-13"></a><span class="co">#&gt; 2 Afghanistan AF    AFG    1997 new_sp_m1524    10</span></span>
<span id="cb122-14"><a href="data-tidy.html#cb122-14"></a><span class="co">#&gt; 3 Afghanistan AF    AFG    1997 new_sp_m2534     6</span></span>
<span id="cb122-15"><a href="data-tidy.html#cb122-15"></a><span class="co">#&gt; 4 Afghanistan AF    AFG    1997 new_sp_m3544     3</span></span>
<span id="cb122-16"><a href="data-tidy.html#cb122-16"></a><span class="co">#&gt; 5 Afghanistan AF    AFG    1997 new_sp_m4554     5</span></span>
<span id="cb122-17"><a href="data-tidy.html#cb122-17"></a><span class="co">#&gt; 6 Afghanistan AF    AFG    1997 new_sp_m5564     2</span></span>
<span id="cb122-18"><a href="data-tidy.html#cb122-18"></a><span class="co">#&gt; # … with 76,040 more rows</span></span></code></pre></div>
<p>새로운 <code>key</code> 열의 값을 세어서 값의 구조에 대한 힌트를 얻을 수 있다.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-tidy.html#cb123-1"></a>who1 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb123-2"><a href="data-tidy.html#cb123-2"></a><span class="st">  </span><span class="kw">count</span>(key)</span>
<span id="cb123-3"><a href="data-tidy.html#cb123-3"></a><span class="co">#&gt; # A tibble: 56 × 2</span></span>
<span id="cb123-4"><a href="data-tidy.html#cb123-4"></a><span class="co">#&gt;   key              n</span></span>
<span id="cb123-5"><a href="data-tidy.html#cb123-5"></a><span class="co">#&gt;   &lt;chr&gt;        &lt;int&gt;</span></span>
<span id="cb123-6"><a href="data-tidy.html#cb123-6"></a><span class="co">#&gt; 1 new_ep_f014   1032</span></span>
<span id="cb123-7"><a href="data-tidy.html#cb123-7"></a><span class="co">#&gt; 2 new_ep_f1524  1021</span></span>
<span id="cb123-8"><a href="data-tidy.html#cb123-8"></a><span class="co">#&gt; 3 new_ep_f2534  1021</span></span>
<span id="cb123-9"><a href="data-tidy.html#cb123-9"></a><span class="co">#&gt; 4 new_ep_f3544  1021</span></span>
<span id="cb123-10"><a href="data-tidy.html#cb123-10"></a><span class="co">#&gt; 5 new_ep_f4554  1017</span></span>
<span id="cb123-11"><a href="data-tidy.html#cb123-11"></a><span class="co">#&gt; 6 new_ep_f5564  1017</span></span>
<span id="cb123-12"><a href="data-tidy.html#cb123-12"></a><span class="co">#&gt; # … with 50 more rows</span></span></code></pre></div>
<p>머리를 굴려보고 몇 가지를 시도하면 나름대로 값의 구조를 분석할 수 있을 것이다. 하지만 다행스럽게도 우리는 데이터 사전을 써먹을 수 있다. 데이터 사전은 다음을 알려준다.</p>
<ol style="list-style-type: decimal">
<li><p>각 열의 처음 세 글자는 해당 열이 포함하는 결핵 사례가, 새로운 사례인지 과거 사례인지를 나타낸다. 이 데이터셋에서 각 열은 새로운 사례를 포함한다.</p></li>
<li><p>그 다음 두 글자는 다음의 결핵의 유형을 기술한다.</p>
<ul>
<li><code>rel</code> 은 재발 사례를 의미한다.</li>
<li><code>ep</code> 는 폐외 (extrapulmonary) 결핵 사례를 의미한다.</li>
<li><code>sn</code> 은 폐 얼룩으로 보이지 않는 폐결핵의 사례를 의미한다. (smear negative)<br />
</li>
<li><code>sp</code> 는 폐 얼룩으로 보이는 폐결핵 사례를 의미한다. (smear positive)</li>
</ul></li>
<li><p>여섯 번째 글자는 결핵 환자의 성별을 나타낸다. 남성(<code>m</code> )과 여성(<code>f</code> )으로 사례를 분류한다.</p></li>
<li><p>나머지 숫자는 연령대를 나타낸다. 다음의 7개 연령대로 사례를 분류한다.</p>
<ul>
<li>014 = 0-14세</li>
<li>1524 = 15-24세</li>
<li>2534 = 25-34세</li>
<li>3544 = 35-44세</li>
<li>4554 = 45-54세</li>
<li>5564 = 55-64세</li>
<li>65 = 65세 이상</li>
</ul></li>
</ol>
<p>열 이름의 형식을 약간 수정해야 한다. 열 이름이 <code>new_rel</code> 이 아니라 <code>newrel</code> 이기 때문에 불행하게도 이름에 일관성이 없다. (여기에서 이를 발견해내기는 쉽지 않지만, 수정하지 않으면 이후에 에러가 발생한다.) <a href="import-rectangular.html#readr-strings">문자열</a>에서 <code>str_replace()</code> 에 대해 배우겠지만, 기본적인 아이디어는 간단하다. ’newrel‘ 문자를 ’new_rel‘ 문자로 바꾼다. 이렇게 하면 모든 변수 이름에서 일관성이 유지된다.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-tidy.html#cb124-1"></a>who2 &lt;-<span class="st"> </span>who1 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb124-2"><a href="data-tidy.html#cb124-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">key =</span> stringr<span class="op">::</span><span class="kw">str_replace</span>(key, <span class="st">&quot;newrel&quot;</span>, <span class="st">&quot;new_rel&quot;</span>))</span>
<span id="cb124-3"><a href="data-tidy.html#cb124-3"></a>who2</span>
<span id="cb124-4"><a href="data-tidy.html#cb124-4"></a><span class="co">#&gt; # A tibble: 76,046 × 6</span></span>
<span id="cb124-5"><a href="data-tidy.html#cb124-5"></a><span class="co">#&gt;   country     iso2  iso3   year key          cases</span></span>
<span id="cb124-6"><a href="data-tidy.html#cb124-6"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;        &lt;int&gt;</span></span>
<span id="cb124-7"><a href="data-tidy.html#cb124-7"></a><span class="co">#&gt; 1 Afghanistan AF    AFG    1997 new_sp_m014      0</span></span>
<span id="cb124-8"><a href="data-tidy.html#cb124-8"></a><span class="co">#&gt; 2 Afghanistan AF    AFG    1997 new_sp_m1524    10</span></span>
<span id="cb124-9"><a href="data-tidy.html#cb124-9"></a><span class="co">#&gt; 3 Afghanistan AF    AFG    1997 new_sp_m2534     6</span></span>
<span id="cb124-10"><a href="data-tidy.html#cb124-10"></a><span class="co">#&gt; 4 Afghanistan AF    AFG    1997 new_sp_m3544     3</span></span>
<span id="cb124-11"><a href="data-tidy.html#cb124-11"></a><span class="co">#&gt; 5 Afghanistan AF    AFG    1997 new_sp_m4554     5</span></span>
<span id="cb124-12"><a href="data-tidy.html#cb124-12"></a><span class="co">#&gt; 6 Afghanistan AF    AFG    1997 new_sp_m5564     2</span></span>
<span id="cb124-13"><a href="data-tidy.html#cb124-13"></a><span class="co">#&gt; # … with 76,040 more rows</span></span></code></pre></div>
<p>각 코드의 값을 <code>separate()</code> 2회 실행하여 분리할 수 있다. 첫 번째 실행은 각 언더스코어마다 코드를 쪼갠다.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-tidy.html#cb125-1"></a>who3 &lt;-<span class="st"> </span>who2 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb125-2"><a href="data-tidy.html#cb125-2"></a><span class="st">  </span><span class="kw">separate</span>(key, <span class="kw">c</span>(<span class="st">&quot;new&quot;</span>, <span class="st">&quot;type&quot;</span>, <span class="st">&quot;sexage&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb125-3"><a href="data-tidy.html#cb125-3"></a>who3</span>
<span id="cb125-4"><a href="data-tidy.html#cb125-4"></a><span class="co">#&gt; # A tibble: 76,046 × 8</span></span>
<span id="cb125-5"><a href="data-tidy.html#cb125-5"></a><span class="co">#&gt;   country     iso2  iso3   year new   type  sexage cases</span></span>
<span id="cb125-6"><a href="data-tidy.html#cb125-6"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;</span></span>
<span id="cb125-7"><a href="data-tidy.html#cb125-7"></a><span class="co">#&gt; 1 Afghanistan AF    AFG    1997 new   sp    m014       0</span></span>
<span id="cb125-8"><a href="data-tidy.html#cb125-8"></a><span class="co">#&gt; 2 Afghanistan AF    AFG    1997 new   sp    m1524     10</span></span>
<span id="cb125-9"><a href="data-tidy.html#cb125-9"></a><span class="co">#&gt; 3 Afghanistan AF    AFG    1997 new   sp    m2534      6</span></span>
<span id="cb125-10"><a href="data-tidy.html#cb125-10"></a><span class="co">#&gt; 4 Afghanistan AF    AFG    1997 new   sp    m3544      3</span></span>
<span id="cb125-11"><a href="data-tidy.html#cb125-11"></a><span class="co">#&gt; 5 Afghanistan AF    AFG    1997 new   sp    m4554      5</span></span>
<span id="cb125-12"><a href="data-tidy.html#cb125-12"></a><span class="co">#&gt; 6 Afghanistan AF    AFG    1997 new   sp    m5564      2</span></span>
<span id="cb125-13"><a href="data-tidy.html#cb125-13"></a><span class="co">#&gt; # … with 76,040 more rows</span></span></code></pre></div>
<p>그런 다음, <code>new</code> 열은 이 데이터셋에서 상수이므로 제거할 수 있다. 이 참에 <code>iso2</code> 와 <code>iso3</code> 도 중복이므로 함께 제거하자.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-tidy.html#cb126-1"></a>who3 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb126-2"><a href="data-tidy.html#cb126-2"></a><span class="st">  </span><span class="kw">count</span>(new)</span>
<span id="cb126-3"><a href="data-tidy.html#cb126-3"></a><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span id="cb126-4"><a href="data-tidy.html#cb126-4"></a><span class="co">#&gt;   new       n</span></span>
<span id="cb126-5"><a href="data-tidy.html#cb126-5"></a><span class="co">#&gt;   &lt;chr&gt; &lt;int&gt;</span></span>
<span id="cb126-6"><a href="data-tidy.html#cb126-6"></a><span class="co">#&gt; 1 new   76046</span></span>
<span id="cb126-7"><a href="data-tidy.html#cb126-7"></a>who4 &lt;-<span class="st"> </span>who3 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb126-8"><a href="data-tidy.html#cb126-8"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>new, <span class="op">-</span>iso2, <span class="op">-</span>iso3)</span></code></pre></div>
<p>다음으로 <code>sexage</code> 를 <code>sex</code> 와 <code>age</code> 로 분리할 것이다.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-tidy.html#cb127-1"></a>who5 &lt;-<span class="st"> </span>who4 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb127-2"><a href="data-tidy.html#cb127-2"></a><span class="st">  </span><span class="kw">separate</span>(sexage, <span class="kw">c</span>(<span class="st">&quot;sex&quot;</span>, <span class="st">&quot;age&quot;</span>), <span class="dt">sep =</span> <span class="dv">1</span>)</span>
<span id="cb127-3"><a href="data-tidy.html#cb127-3"></a>who5</span>
<span id="cb127-4"><a href="data-tidy.html#cb127-4"></a><span class="co">#&gt; # A tibble: 76,046 × 6</span></span>
<span id="cb127-5"><a href="data-tidy.html#cb127-5"></a><span class="co">#&gt;   country      year type  sex   age   cases</span></span>
<span id="cb127-6"><a href="data-tidy.html#cb127-6"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;</span></span>
<span id="cb127-7"><a href="data-tidy.html#cb127-7"></a><span class="co">#&gt; 1 Afghanistan  1997 sp    m     014       0</span></span>
<span id="cb127-8"><a href="data-tidy.html#cb127-8"></a><span class="co">#&gt; 2 Afghanistan  1997 sp    m     1524     10</span></span>
<span id="cb127-9"><a href="data-tidy.html#cb127-9"></a><span class="co">#&gt; 3 Afghanistan  1997 sp    m     2534      6</span></span>
<span id="cb127-10"><a href="data-tidy.html#cb127-10"></a><span class="co">#&gt; 4 Afghanistan  1997 sp    m     3544      3</span></span>
<span id="cb127-11"><a href="data-tidy.html#cb127-11"></a><span class="co">#&gt; 5 Afghanistan  1997 sp    m     4554      5</span></span>
<span id="cb127-12"><a href="data-tidy.html#cb127-12"></a><span class="co">#&gt; 6 Afghanistan  1997 sp    m     5564      2</span></span>
<span id="cb127-13"><a href="data-tidy.html#cb127-13"></a><span class="co">#&gt; # … with 76,040 more rows</span></span></code></pre></div>
<p>자, 이제 <code>who</code> 데이터셋은 타이디해졌다!</p>
<p>여기에서 중간 결과를 새로운 변수에 할당하며, 코드를 한 번에 한 조각씩 보았었다. 이는 일반적인 대화식 작업 방식이 아니다. 대신 앞으로 다음과 같이 점차 복잡한 파이프를 만들게 될 것이다.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="data-tidy.html#cb128-1"></a>who <span class="op">%&gt;%</span></span>
<span id="cb128-2"><a href="data-tidy.html#cb128-2"></a><span class="st">  </span><span class="kw">pivot_longer</span>(</span>
<span id="cb128-3"><a href="data-tidy.html#cb128-3"></a>    <span class="dt">cols =</span> new_sp_m014<span class="op">:</span>newrel_f65, </span>
<span id="cb128-4"><a href="data-tidy.html#cb128-4"></a>    <span class="dt">names_to =</span> <span class="st">&quot;key&quot;</span>, </span>
<span id="cb128-5"><a href="data-tidy.html#cb128-5"></a>    <span class="dt">values_to =</span> <span class="st">&quot;cases&quot;</span>, </span>
<span id="cb128-6"><a href="data-tidy.html#cb128-6"></a>    <span class="dt">values_drop_na =</span> <span class="ot">TRUE</span></span>
<span id="cb128-7"><a href="data-tidy.html#cb128-7"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb128-8"><a href="data-tidy.html#cb128-8"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb128-9"><a href="data-tidy.html#cb128-9"></a>    <span class="dt">key =</span> stringr<span class="op">::</span><span class="kw">str_replace</span>(key, <span class="st">&quot;newrel&quot;</span>, <span class="st">&quot;new_rel&quot;</span>)</span>
<span id="cb128-10"><a href="data-tidy.html#cb128-10"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb128-11"><a href="data-tidy.html#cb128-11"></a><span class="st">  </span><span class="kw">separate</span>(key, <span class="kw">c</span>(<span class="st">&quot;new&quot;</span>, <span class="st">&quot;var&quot;</span>, <span class="st">&quot;sexage&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb128-12"><a href="data-tidy.html#cb128-12"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>new, <span class="op">-</span>iso2, <span class="op">-</span>iso3) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb128-13"><a href="data-tidy.html#cb128-13"></a><span class="st">  </span><span class="kw">separate</span>(sexage, <span class="kw">c</span>(<span class="st">&quot;sex&quot;</span>, <span class="st">&quot;age&quot;</span>), <span class="dt">sep =</span> <span class="dv">1</span>)</span></code></pre></div>
<div id="연습문제-4" class="section level3">
<h3><span class="header-section-number">6.4.1</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p>이 사례 연구에서 올바른 값을 가지고 있는지 쉽게 확인하기 위해 <code>values_drop_na = TRUE</code> 로 설정했다. 이것은 합리적인가? 이 데이터셋에서 결측값은 어떻게 표현될지 생각해 보라. 암묵적인 결측값이 있는가? <code>NA</code> 와 0 의 차이점은 무엇인가?</p></li>
<li><p><code>mutate()</code> 단계를 무시하면 어떻게 되는가? (<code>mutate(key = stringr::str_replace(key, "newrel", "new_rel"))</code>).</p></li>
<li><p>앞서 주장한, <code>iso2</code> 와 <code>iso3</code> 가 <code>country</code> 와 중복된다는 것을 확인하라.</p></li>
<li><p>각 <code>country, year</code> 및 <code>sex</code> 에 대해 총 결핵 사례수를 계산하라. 정보를 시각적으로 보여라.</p></li>
</ol>
</div>
</div>
<div id="타이디하지-않은-데이터" class="section level2">
<h2><span class="header-section-number">6.5</span> 타이디하지 않은 데이터</h2>
<p>다른 주제로 넘어 가기 전에 타이디하지 않은 데이터에 대해 간단히 이야기 해보자. 이 장의 앞부분에서 타이디하지 않은 데이터를 의미하기 위해 부정적인 용어인 ’지저분한’을 사용했다. 이는 과도하게 단순화한 것이다. 타이디 데이터가 아니더라도 유용하고 잘 구성된, 많은 데이터 구조가 있다. 다른 데이터 구조를 사용하는 데는 주된 이유가 두 가지이다.</p>
<ul>
<li><p>다른 표현 방식이 성능상, 저장용량상 장점이 클 수 있다.</p></li>
<li><p>전문 분야에서 독자적으로 진화시킨 데이터 저장 규칙이 타이디 데이터의 규칙과는 꽤 다를 수 있다.</p></li>
</ul>
<p>이런 이유로 인해 티블(또는 데이터프레임)이 아닌 다른 것이 필요해진다. 데이터가 관측값과 변수로 구성된 직사각형 구조에 자연스럽게 맞아떨어진다면 타이디 데이터가 기본 선택이어야 한다고 생각한다. 그러나 다른 구조를 사용하는 데도 그럴만한 충분한 이유가 있다. 타이디 데이터만이 유일한 방법은 아니다. 타이디하지 않은 데이터에 대해 더 자세히 알고 싶다면 제프 릭(Jeff Leek)의 깊이 있는 <a href="http://simplystatistics.org/2016/02/17/non-tidy-data">블로그 게시물</a> 을 적극 추천한다.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-transform.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="워크플로우-스크립트.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/data-tidy.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
